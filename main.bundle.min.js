!function(n){var a={};function t(e){if(a[e])return a[e].exports;var c=a[e]={i:e,l:!1,exports:{}};return n[e].call(c.exports,c,c.exports,t),c.l=!0,c.exports}t.m=n,t.c=a,t.d=function(n,a,e){t.o(n,a)||Object.defineProperty(n,a,{enumerable:!0,get:e})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,a){if(1&a&&(n=t(n)),8&a)return n;if(4&a&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&a&&"string"!=typeof n)for(var c in n)t.d(e,c,function(a){return n[a]}.bind(null,c));return e},t.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(a,"a",a),a},t.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},t.p="",t(t.s=23)}([function(n,a,t){"use strict";var e=t(6),c=t(7),i=t(3);n.exports={formats:i,parse:c,stringify:e}},function(n,a,t){"use strict";var e=Object.prototype.hasOwnProperty,c=Array.isArray,i=function(){for(var n=[],a=0;a<256;++a)n.push("%"+((a<16?"0":"")+a.toString(16)).toUpperCase());return n}(),s=function(n,a){for(var t=a&&a.plainObjects?Object.create(null):{},e=0;e<n.length;++e)void 0!==n[e]&&(t[e]=n[e]);return t};n.exports={arrayToObject:s,assign:function(n,a){return Object.keys(a).reduce(function(n,t){return n[t]=a[t],n},n)},combine:function(n,a){return[].concat(n,a)},compact:function(n){for(var a=[{obj:{o:n},prop:"o"}],t=[],e=0;e<a.length;++e)for(var i=a[e],s=i.obj[i.prop],o=Object.keys(s),r=0;r<o.length;++r){var l=o[r],d=s[l];"object"==typeof d&&null!==d&&-1===t.indexOf(d)&&(a.push({obj:s,prop:l}),t.push(d))}return function(n){for(;n.length>1;){var a=n.pop(),t=a.obj[a.prop];if(c(t)){for(var e=[],i=0;i<t.length;++i)void 0!==t[i]&&e.push(t[i]);a.obj[a.prop]=e}}}(a),n},decode:function(n,a,t){var e=n.replace(/\+/g," ");if("iso-8859-1"===t)return e.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(e)}catch(n){return e}},encode:function(n,a,t){if(0===n.length)return n;var e=n;if("symbol"==typeof n?e=Symbol.prototype.toString.call(n):"string"!=typeof n&&(e=String(n)),"iso-8859-1"===t)return escape(e).replace(/%u[0-9a-f]{4}/gi,function(n){return"%26%23"+parseInt(n.slice(2),16)+"%3B"});for(var c="",s=0;s<e.length;++s){var o=e.charCodeAt(s);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?c+=e.charAt(s):o<128?c+=i[o]:o<2048?c+=i[192|o>>6]+i[128|63&o]:o<55296||o>=57344?c+=i[224|o>>12]+i[128|o>>6&63]+i[128|63&o]:(s+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(s)),c+=i[240|o>>18]+i[128|o>>12&63]+i[128|o>>6&63]+i[128|63&o])}return c},isBuffer:function(n){return!(!n||"object"!=typeof n)&&!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))},isRegExp:function(n){return"[object RegExp]"===Object.prototype.toString.call(n)},merge:function n(a,t,i){if(!t)return a;if("object"!=typeof t){if(c(a))a.push(t);else{if(!a||"object"!=typeof a)return[a,t];(i&&(i.plainObjects||i.allowPrototypes)||!e.call(Object.prototype,t))&&(a[t]=!0)}return a}if(!a||"object"!=typeof a)return[a].concat(t);var o=a;return c(a)&&!c(t)&&(o=s(a,i)),c(a)&&c(t)?(t.forEach(function(t,c){if(e.call(a,c)){var s=a[c];s&&"object"==typeof s&&t&&"object"==typeof t?a[c]=n(s,t,i):a.push(t)}else a[c]=t}),a):Object.keys(t).reduce(function(a,c){var s=t[c];return e.call(a,c)?a[c]=n(a[c],s,i):a[c]=s,a},o)}}},function(n,a,t){var e,c,i;c=[a],void 0===(i="function"==typeof(e=function(n){"use strict";function a(n){if(Array.isArray(n)){for(var a=0,t=Array(n.length);a<n.length;a++)t[a]=n[a];return t}return Array.from(n)}Object.defineProperty(n,"__esModule",{value:!0});var t=!1;if("undefined"!=typeof window){var e={get passive(){t=!0}};window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}var c="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),i=[],s=!1,o=-1,r=void 0,l=void 0,d=function(n){return i.some(function(a){return!(!a.options.allowTouchMove||!a.options.allowTouchMove(n))})},f=function(n){var a=n||window.event;return!!d(a.target)||1<a.touches.length||(a.preventDefault&&a.preventDefault(),!1)},m=function(){setTimeout(function(){void 0!==l&&(document.body.style.paddingRight=l,l=void 0),void 0!==r&&(document.body.style.overflow=r,r=void 0)})};n.disableBodyScroll=function(n,e){if(c){if(!n)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(n&&!i.some(function(a){return a.targetElement===n})){var m={targetElement:n,options:e||{}};i=[].concat(a(i),[m]),n.ontouchstart=function(n){1===n.targetTouches.length&&(o=n.targetTouches[0].clientY)},n.ontouchmove=function(a){var t,e,c,i;1===a.targetTouches.length&&(e=n,i=(t=a).targetTouches[0].clientY-o,!d(t.target)&&(e&&0===e.scrollTop&&0<i?f(t):(c=e)&&c.scrollHeight-c.scrollTop<=c.clientHeight&&i<0?f(t):t.stopPropagation()))},s||(document.addEventListener("touchmove",f,t?{passive:!1}:void 0),s=!0)}}else{u=e,setTimeout(function(){if(void 0===l){var n=!!u&&!0===u.reserveScrollBarGap,a=window.innerWidth-document.documentElement.clientWidth;n&&0<a&&(l=document.body.style.paddingRight,document.body.style.paddingRight=a+"px")}void 0===r&&(r=document.body.style.overflow,document.body.style.overflow="hidden")});var v={targetElement:n,options:e||{}};i=[].concat(a(i),[v])}var u},n.clearAllBodyScrollLocks=function(){c?(i.forEach(function(n){n.targetElement.ontouchstart=null,n.targetElement.ontouchmove=null}),s&&(document.removeEventListener("touchmove",f,t?{passive:!1}:void 0),s=!1),i=[],o=-1):(m(),i=[])},n.enableBodyScroll=function(n){if(c){if(!n)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");n.ontouchstart=null,n.ontouchmove=null,i=i.filter(function(a){return a.targetElement!==n}),s&&0===i.length&&(document.removeEventListener("touchmove",f,t?{passive:!1}:void 0),s=!1)}else(i=i.filter(function(a){return a.targetElement!==n})).length||m()}})?e.apply(a,c):e)||(n.exports=i)},function(n,a,t){"use strict";var e=String.prototype.replace,c=/%20/g,i=t(1),s={RFC1738:"RFC1738",RFC3986:"RFC3986"};n.exports=i.assign({default:s.RFC3986,formatters:{RFC1738:function(n){return e.call(n,c,"+")},RFC3986:function(n){return String(n)}}},s)},function(n,a,t){},function(n,a,t){},function(n,a,t){"use strict";var e=t(1),c=t(3),i=Object.prototype.hasOwnProperty,s={brackets:function(n){return n+"[]"},comma:"comma",indices:function(n,a){return n+"["+a+"]"},repeat:function(n){return n}},o=Array.isArray,r=Array.prototype.push,l=function(n,a){r.apply(n,o(a)?a:[a])},d=Date.prototype.toISOString,f=c.default,m={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:e.encode,encodeValuesOnly:!1,format:f,formatter:c.formatters[f],indices:!1,serializeDate:function(n){return d.call(n)},skipNulls:!1,strictNullHandling:!1},v=function n(a,t,c,i,s,r,d,f,v,u,g,p,h){var w,y=a;if("function"==typeof d?y=d(t,y):y instanceof Date?y=u(y):"comma"===c&&o(y)&&(y=y.join(",")),null===y){if(i)return r&&!p?r(t,m.encoder,h):t;y=""}if("string"==typeof(w=y)||"number"==typeof w||"boolean"==typeof w||"symbol"==typeof w||"bigint"==typeof w||e.isBuffer(y))return r?[g(p?t:r(t,m.encoder,h))+"="+g(r(y,m.encoder,h))]:[g(t)+"="+g(String(y))];var _,$=[];if(void 0===y)return $;if(o(d))_=d;else{var b=Object.keys(y);_=f?b.sort(f):b}for(var k=0;k<_.length;++k){var Y=_[k];s&&null===y[Y]||(o(y)?l($,n(y[Y],"function"==typeof c?c(t,Y):t,c,i,s,r,d,f,v,u,g,p,h)):l($,n(y[Y],t+(v?"."+Y:"["+Y+"]"),c,i,s,r,d,f,v,u,g,p,h)))}return $};n.exports=function(n,a){var t,e=n,r=function(n){if(!n)return m;if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var a=n.charset||m.charset;if(void 0!==n.charset&&"utf-8"!==n.charset&&"iso-8859-1"!==n.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=c.default;if(void 0!==n.format){if(!i.call(c.formatters,n.format))throw new TypeError("Unknown format option provided.");t=n.format}var e=c.formatters[t],s=m.filter;return("function"==typeof n.filter||o(n.filter))&&(s=n.filter),{addQueryPrefix:"boolean"==typeof n.addQueryPrefix?n.addQueryPrefix:m.addQueryPrefix,allowDots:void 0===n.allowDots?m.allowDots:!!n.allowDots,charset:a,charsetSentinel:"boolean"==typeof n.charsetSentinel?n.charsetSentinel:m.charsetSentinel,delimiter:void 0===n.delimiter?m.delimiter:n.delimiter,encode:"boolean"==typeof n.encode?n.encode:m.encode,encoder:"function"==typeof n.encoder?n.encoder:m.encoder,encodeValuesOnly:"boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:m.encodeValuesOnly,filter:s,formatter:e,serializeDate:"function"==typeof n.serializeDate?n.serializeDate:m.serializeDate,skipNulls:"boolean"==typeof n.skipNulls?n.skipNulls:m.skipNulls,sort:"function"==typeof n.sort?n.sort:null,strictNullHandling:"boolean"==typeof n.strictNullHandling?n.strictNullHandling:m.strictNullHandling}}(a);"function"==typeof r.filter?e=(0,r.filter)("",e):o(r.filter)&&(t=r.filter);var d,f=[];if("object"!=typeof e||null===e)return"";d=a&&a.arrayFormat in s?a.arrayFormat:a&&"indices"in a?a.indices?"indices":"repeat":"indices";var u=s[d];t||(t=Object.keys(e)),r.sort&&t.sort(r.sort);for(var g=0;g<t.length;++g){var p=t[g];r.skipNulls&&null===e[p]||l(f,v(e[p],p,u,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.formatter,r.encodeValuesOnly,r.charset))}var h=f.join(r.delimiter),w=!0===r.addQueryPrefix?"?":"";return r.charsetSentinel&&("iso-8859-1"===r.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),h.length>0?w+h:""}},function(n,a,t){"use strict";var e=t(1),c=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:e.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(n){return n.replace(/&#(\d+);/g,function(n,a){return String.fromCharCode(parseInt(a,10))})},o=function(n,a,t){if(n){var e=t.allowDots?n.replace(/\.([^.[]+)/g,"[$1]"):n,i=/(\[[^[\]]*])/g,s=t.depth>0&&/(\[[^[\]]*])/.exec(e),o=s?e.slice(0,s.index):e,r=[];if(o){if(!t.plainObjects&&c.call(Object.prototype,o)&&!t.allowPrototypes)return;r.push(o)}for(var l=0;t.depth>0&&null!==(s=i.exec(e))&&l<t.depth;){if(l+=1,!t.plainObjects&&c.call(Object.prototype,s[1].slice(1,-1))&&!t.allowPrototypes)return;r.push(s[1])}return s&&r.push("["+e.slice(s.index)+"]"),function(n,a,t){for(var e=a,c=n.length-1;c>=0;--c){var i,s=n[c];if("[]"===s&&t.parseArrays)i=[].concat(e);else{i=t.plainObjects?Object.create(null):{};var o="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,r=parseInt(o,10);t.parseArrays||""!==o?!isNaN(r)&&s!==o&&String(r)===o&&r>=0&&t.parseArrays&&r<=t.arrayLimit?(i=[])[r]=e:i[o]=e:i={0:e}}e=i}return e}(r,a,t)}};n.exports=function(n,a){var t=function(n){if(!n)return i;if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==n.charset&&"utf-8"!==n.charset&&"iso-8859-1"!==n.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var a=void 0===n.charset?i.charset:n.charset;return{allowDots:void 0===n.allowDots?i.allowDots:!!n.allowDots,allowPrototypes:"boolean"==typeof n.allowPrototypes?n.allowPrototypes:i.allowPrototypes,arrayLimit:"number"==typeof n.arrayLimit?n.arrayLimit:i.arrayLimit,charset:a,charsetSentinel:"boolean"==typeof n.charsetSentinel?n.charsetSentinel:i.charsetSentinel,comma:"boolean"==typeof n.comma?n.comma:i.comma,decoder:"function"==typeof n.decoder?n.decoder:i.decoder,delimiter:"string"==typeof n.delimiter||e.isRegExp(n.delimiter)?n.delimiter:i.delimiter,depth:"number"==typeof n.depth||!1===n.depth?+n.depth:i.depth,ignoreQueryPrefix:!0===n.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof n.interpretNumericEntities?n.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:"number"==typeof n.parameterLimit?n.parameterLimit:i.parameterLimit,parseArrays:!1!==n.parseArrays,plainObjects:"boolean"==typeof n.plainObjects?n.plainObjects:i.plainObjects,strictNullHandling:"boolean"==typeof n.strictNullHandling?n.strictNullHandling:i.strictNullHandling}}(a);if(""===n||null==n)return t.plainObjects?Object.create(null):{};for(var r="string"==typeof n?function(n,a){var t,o={},r=a.ignoreQueryPrefix?n.replace(/^\?/,""):n,l=a.parameterLimit===1/0?void 0:a.parameterLimit,d=r.split(a.delimiter,l),f=-1,m=a.charset;if(a.charsetSentinel)for(t=0;t<d.length;++t)0===d[t].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[t]?m="utf-8":"utf8=%26%2310003%3B"===d[t]&&(m="iso-8859-1"),f=t,t=d.length);for(t=0;t<d.length;++t)if(t!==f){var v,u,g=d[t],p=g.indexOf("]="),h=-1===p?g.indexOf("="):p+1;-1===h?(v=a.decoder(g,i.decoder,m),u=a.strictNullHandling?null:""):(v=a.decoder(g.slice(0,h),i.decoder,m),u=a.decoder(g.slice(h+1),i.decoder,m)),u&&a.interpretNumericEntities&&"iso-8859-1"===m&&(u=s(u)),u&&a.comma&&u.indexOf(",")>-1&&(u=u.split(",")),c.call(o,v)?o[v]=e.combine(o[v],u):o[v]=u}return o}(n,t):n,l=t.plainObjects?Object.create(null):{},d=Object.keys(r),f=0;f<d.length;++f){var m=d[f],v=o(m,r[m],t);l=e.merge(l,v,t)}return e.compact(l)}},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.portalCreator=a.Fragment=a.default=void 0;var e=t(17);function c(n){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var i=function(n,a){for(var t=arguments.length,i=new Array(t>2?t-2:0),s=2;s<t;s++)i[s-2]=arguments[s];return"function"==typeof n?function(n,a,t){var c=Object.assign({},n.defaultProps||{},a,{children:t}),i=n.prototype.render?new n(c).render:n,s=i(c);switch(s){case"FRAGMENT":return(0,e.createFragmentFrom)(t);case"PORTAL":return i.target.appendChild((0,e.createFragmentFrom)(t)),document.createComment("Portal Used");default:return s}}(n,a,i):"string"==typeof n?function(n,a,t){var c=(0,e.isSVG)(n)?document.createElementNS("http://www.w3.org/2000/svg",n):document.createElement(n),i=(0,e.createFragmentFrom)(t);return c.appendChild(i),Object.keys(a||{}).forEach(function(n){"style"===n?c.style.cssText=(0,e.objectToStyleString)(a[n]):"ref"===n&&"function"==typeof a.ref?a.ref(c,a):"className"===n?c.setAttribute("class",a[n]):"xlinkHref"===n?c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a[n]):"dangerouslySetInnerHTML"===n?c.innerHTML=a[n].__html:c.setAttribute(n,a[n])}),c}(n,a,i):console.error("jsx-render does not handle ".concat("undefined"==typeof tag?"undefined":c(tag)))};a.default=i;a.Fragment=function(){return"FRAGMENT"};a.portalCreator=function(n){function a(){return"PORTAL"}return a.target=document.body,n&&n.nodeType===Node.ELEMENT_NODE&&(a.target=n),a}},function(n,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.isSVG=function(n){var a=new RegExp("^".concat(n,"$"),"i");return["path","svg","use","g"].some(function(n){return a.test(n)})},a.objectToStyleString=function(n){return Object.keys(n).map(function(a){return"".concat(a,": ").concat(n[a])}).join(";")},a.createFragmentFrom=function(n){var a=document.createDocumentFragment();return n.forEach(function n(t){if(t instanceof HTMLElement||t instanceof SVGElement||t instanceof Comment||t instanceof DocumentFragment)a.appendChild(t);else if("string"==typeof t||"number"==typeof t){var e=document.createTextNode(t);a.appendChild(e)}else t instanceof Array?t.forEach(n):!1===t||null===t||console.log(t,"is not appendable")}),a}},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){"use strict";t.r(a);var e=function n(a,t){var e=[400,404,500,504];return t.headers||(t.headers={}),t.method||(t.method="GET"),t.headers["X-Requested-With"]="XMLHttpRequest",t.credentials="include",fetch(a,t).then(function(c){if(401===c.status)window.location.href=window.location.origin+config.urls.login;else{if(503===c.status)return new Promise(function(e){return setTimeout(function(){return e(n(a,t))},1e3*c.headers.get("Retry-After"))});if(502===c.status)return new Promise(function(e){return setTimeout(function(){return e(n(a,t))},1e3)});if(!e.includes(c.status))return c;window.location.href=config.urls.error_page}})},c=[];function i(n){return function(n){if(Array.isArray(n)){for(var a=0,t=new Array(n.length);a<n.length;a++)t[a]=n[a];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s,o={},r=function(n,a,t){var c={mode:"cors",method:"GET"};return new Promise(function(r,l){t&&(o[config.activeWorkerId]=null);var d,f,m=o[config.activeWorkerId],v=config.activeWorkerId!==s;if(s=config.activeWorkerId,m){if(function(n,a,t){return+new Date(t.start)<=+new Date(n)&&+new Date(t.end)>=+new Date(a)}(n,a,m))return void r({events:v?m.events:[],refresh:v});+new Date(m.start)<+new Date(n)&&(d=m.start,n=m.end),+new Date(m.end)>+new Date(a)&&(f=m.end,a=m.start)}var u="".concat(moment(n).format("YYYY-MM-DD"),"T").concat(moment(n).format("HH:mm:ss")),g="".concat(moment(a).format("YYYY-MM-DD"),"T").concat(moment(a).format("HH:mm:ss")),p="".concat(config.urls.appointmentsUrl,"?start=").concat(u,"&end=").concat(g,"&worker_id=").concat(config.activeWorkerId,"&timestamp=").concat(Date.now());$(".refresh_button_img").addClass("loader"),$(".preloader").removeClass("hidden"),t&&(c.cache="no-cache"),e(p,c).then(function(e){if(200!==e.status)return l([]);e.json().then(function(e){var c,s=e.map(function(n){return n});m&&(c=s,s=[].concat(i(m.events),i(s))),o[config.activeWorkerId]={start:d||n,end:f||a,events:s},window.isActive=!1,$(".preloader").addClass("hidden"),$(".refresh_button_img").removeClass("loader"),t&&$("#calendar").fullCalendar("removeEvents"),r({events:c||s,refresh:v})})})})};function l(n,a){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);a&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,e)}return t}function d(n){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(t,!0).forEach(function(a){f(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l(t).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function f(n,a,t){return a in n?Object.defineProperty(n,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[a]=t,n}var m,v=function(n,a,t){var c={mode:"cors",method:"GET"};return new Promise(function(i,s){var o=config.urls.get_holidays.replace("{YYYY}",n);e(o,c).then(function(e){if(200!==e.status)return s([]);e.json().then(function(e){if(localStorage.getItem("holidays_data")&&!1===JSON.parse(localStorage.getItem("holidays_data")).data.hasOwnProperty(n)){var c=JSON.parse(localStorage.getItem("holidays_data")),s=Object.assign(c.data,f({},n,e));c.data=s,localStorage.setItem("holidays_data",JSON.stringify({last_loaded_holidays:a,data:d({},s)}))}else null===localStorage.getItem("holidays_data")?localStorage.setItem("holidays_data",JSON.stringify({last_loaded_holidays:a,data:f({},n,e)})):localStorage.getItem("holidays_data")&&t&&localStorage.setItem("holidays_data",JSON.stringify({last_loaded_holidays:a,data:f({},n,e)}));i({holidays:e})})})})},u=(t(4),t(5),function(){var n=config.workers.map(function(n){var a="";return config.activeWorkerId==n.id&&(a=" active"),"\n      <figure data-index='".concat(n.id,"' class='swiper-slide").concat(a,"'>\n         <img class='fit' src='").concat(config.urls.imgForWorkers.replace("{worker_id}",n.photo),"' onerror=\"this.onerror=null;this.src='").concat(config.urls.defaultPathToWorkerImg).concat(config.defaultWorkerPhoto,"';\" />\n         <figcaption class='swiper-title'>").concat(n.name,"</figcaption>\n      </figure>")});return"\n    <div class='swiper-container' style='".concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'>\n      <div class='swiper-wrapper'>\n        ").concat(n.join(""),"\n      </div>\n      <div class='swiper-button-next'></div>\n      <div class='swiper-button-prev'></div>\n    </div>\n  ")}),g=t(0),p=t.n(g),h=function(n,a){return(n&&1===n.length?"0"+n:n)+":"+(a&&1===a.length?0===a?a+"0":"0"+a:a)},w=function n(){"Escape"===event.code&&0===$(".dropEvent").length&&($(".deleteModal").remove(),document.removeEventListener("keydown",n))},y=function(n){var a=Math.floor(n/36e5);n-=36e5*a;var t=Math.floor(n/6e4);return 1===a&&0===t?"".concat(a," ").concat(config.translations.duration.hour):0===a?"".concat(t," ").concat(config.translations.duration.minutes):0===t?"".concat(a," ").concat(config.translations.duration.hours):"<p class='full-dur'><span class='hours'>".concat(a,"</span><span>").concat(config.translations.duration.abbreviated_hours,"</span><span class='minutes'>").concat(t,"</span><span>").concat(config.translations.duration.abbreviated_minutes,"</span></p>")},_=function(n){return 3600*n.slice(0,2)+60*n.slice(3,5)},b=function(n,a){return 5===n.birthdate.length?moment("2018-".concat(n.birthdate)).format("MM")===moment(a).format("MM")?"<span class='bday'><img class='bday-img' src='".concat(config.urls.staticImg,"/bday.svg'></span>"):"":10===n.birthdate.length?moment(n.birthdate).format("MM")===moment(a).format("MM")?"<span class='bday'><img class='bday-img' src='".concat(config.urls.staticImg,"/bday.svg'></span>"):"":void 0},k=function(n){var a=0,t="";if(n)for(var e=(100/n.length).toFixed(2),c=0,i=n.length;c<i;c++){var s=+a+ +e;t+=", "+n[c].color+" "+a+"%, "+n[c].color+" "+s+"%",a=s}return t},Y=function(n,a){var t=Math.floor((a-n)/6e4),e=config.calendar.slotDuration.split(":");return t/((1e3*+e[2]+6e4*+e[1]+36e5*+e[0])/6e4)},C=function(n){return parseInt(n,16)},D=function(n,a){return"#"+function(n,a){for(var t="",e=0;e<n.length;e+=2){var c=Math.round((C(n.slice(e,e+2))+C(a.slice(e,e+2)))/2).toString(16);t+=1===c.length?""+c:c}return t}("#"===n[0]?n.slice(1):n,"#"===a[0]?a.slice(1):a)},I=function(n,a,t){if(a.attr("data-appointment_id",n.id),"daily"===t.name||"agendaFourDay"===t.name){$(a[0]).css(config.calendar.isRTL?{direction:"rtl"}:{direction:"ltr"});var e=n.services&&n.services.length>0&&n.services[0].color?n.services[0].color:n.off_time?"#777777":"#4f2da7";$(a[0]).css({"border-image":"linear-gradient(to bottom"+k(n.services)+") 1 100%",backgroundColor:n.off_time?"":D(e,"#FFFFFF")});var c=h(n.start.hours().toString(),n.start.minutes().toString()),i=n.end?h(n.end.hours().toString(),n.end.minutes().toString()):"";!function(n,a,t,e,c){var i=$(a[0].children[0]);$(i).addClass("ev-custom");var s=$("<div class='info-time ".concat(n.off_time?"off_time_resize":"","'>\n      <p class='event-start'>").concat(t," - ").concat(e,"</p>\n      <div class='short-cont'>\n              <div class='duration-wrap'>\n                <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                <div class='event-duration'>").concat(y(n.end-n.start),"</div>\n              </div>\n            </div>\n    </div>"));$(s).appendTo(i)}(n,a,c,i)}if("month"===t.name){var s=n.services?n.services.reduce(function(n,a){return a.name&&a.name?n+"".concat(a.name)+(a.count>1?" ⨯ ".concat(a.count,","):""):n},""):[];n.services&&(s=s.split(","));var o=$(a[0].children[0])[0],r=n.services&&n.services[0]&&n.services[0].color?n.services[0].color:"transparent",l=n.off_time?"<p class='month_title off_time_service' > ".concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>"):n.services&&n.services?"<p class='month_title' ><span class='square'>&bull;</span><span class='service-item'>".concat(n.name?n.name:config.translations.occasional,"</span></p>"):"";$(o).addClass(config.calendar.isRTL?"title_rtl":""),$(o).attr("data-event",n.start.format("YYYY-MM-DD")),moment($(o).attr("data-event")).format("MM")!==$("#calendar").fullCalendar("getDate").format("MM")&&$(o).addClass("not-current-month"),$(o).css({borderColor:r}),$(l).hasClass("off_time_service")&&$(o).addClass("off_time_title"),$(o).html(l)}},M=function(n){var a,t;for(a=0,t=0;null!=n;a+=n.offsetLeft,t+=n.offsetTop,n=n.offsetParent);return{x:a,y:t}},T=function(n,a,t){if("daily"===t.name||"agendaFourDay"===t.name){$(a[0].children[0]).empty();var e=h(n.start.hours().toString(),n.start.minutes().toString()),c=n.end?h(n.end.hours().toString(),n.end.minutes().toString()):"",i=$(a).width();"daily"===t.name&&(i<=245.5&&i>122.4?function(n,a,t,e,c){var i=$(a[0].children[0]);$(i).addClass("ev-custom");var s,o=n.services?n.services.reduce(function(n,a){return a.name&&a.name?n+"".concat(a.name)+(a.count>1?" ⨯ ".concat(a.count,","):""):n},""):[];n.services&&(o=o.split(",")),Y(n.start,n.end)>=.1&&Y(n.start,n.end)<2&&(s=$(n.off_time?"<div class='click-mask'></div>\n        <div class='off_time short-half ".concat(config.calendar.isRTL?"shortOfftimeRTL":"shortOfftimeLTR","'>\n          <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n          <p class='event-start'>").concat(t," - ").concat(e,"</p>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service half-flex ".concat(config.calendar.isRTL?"singleHalfRTL":"singleHalfLTR","'>\n            ").concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1),"</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1),"</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>"))),Y(n.start,n.end)>=2&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time half_off ".concat(config.calendar.isRTL?"halfOfftimeRTL":"halfOfftimeLTR","'>\n            <div class='off_time_extended'>\n              <div class='off_time_wrap'>\n                <img class='off_time_img' src='").concat("break"===n.off_time?"".concat(config.urls.staticImg,"/break.svg"):"".concat(config.urls.staticImg,"/meeting.svg"),"' />\n                <div class='off_time-info'>\n              <p class='event-start'>").concat(t," - ").concat(e,"</p>\n              <div class='short-cont'>\n                <div class='duration-wrap'>\n                  <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                  <div class='event-duration'>").concat(y(n.end-n.start),"</div>\n                </div>\n              </div>\n            </div>\n              </div>\n              </div>\n              <div class='main_info'>\n              ").concat(Y(n.start,n.end)>2?"<p class='name_full'>".concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>"):"","\n              ").concat(n.address&&Y(n.start,n.end)>3?"<div class='address-wrap'>\n                  <div class='address-img-wrap'>\n                    <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n                  </div>\n                  <p class='client-address'>").concat(n.address,"</p>\n                </div>"):"","\n                ").concat(n.note&&(Y(n.start,n.end)>4||!n.address)?"<div class='note-wrap'>\n                    <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n                    <p class='client-note'>").concat(n.note,"</p>\n                  </div>"):"","\n                </div>\n          </div>"):"<div class='click-mask'></div><div class='custom-event half ".concat(config.calendar.isRTL?"halfRTL":"halfLTR","'>\n        <div class='main-info'>\n          <div class='foto-time'>\n             <div class='foto-name'>\n            ").concat("daily"===c.name&&Y(n.start,n.end)>=5?"".concat(n.profile_picture&&n.client_id&&n.client_id>=0?"<div class='wrap-time'><img class='fit normalSize' src='".concat(config.urls.imgForClients.replace("{client_id}","".concat(n.client_id))+n.profile_picture,"' onerror=\"this.onerror=null;this.src='").concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"';\"/>\n       <div class='time-info'>\n            <p class='event-start'>").concat(t," - ").concat(e,"</p>\n            <div class='short-cont'>\n              <div class='duration-wrap'>\n                <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                <div class='event-duration'>").concat(y(n.end-n.start),"</div>\n              </div>\n            </div>\n          </div>\n       </div>"):!n.client_id||n.client_id<=0?"<div class='wrap-time'><img class='fit normalSize' src='".concat(config.urls.imgForOccasionalClients).concat(config.occasionalClientPhoto,"' />\n       <div class='time-info'>\n       <p class='event-start'>").concat(t," - ").concat(e,"</p>\n       <div class='short-cont'>\n         <div class='duration-wrap'>\n           <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n           <div class='event-duration'>").concat(y(n.end-n.start),"</div>\n         </div>\n       </div>\n     </div>\n       </div>"):"<div class='wrap-time'><img class='fit normalSize' src='".concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"' />\n      <div class='time-info'>\n      <p class='event-start'>").concat(t," - ").concat(e,"</p>\n      <div class='short-cont'>\n        <div class='duration-wrap'>\n          <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n          <div class='event-duration'>").concat(y(n.end-n.start),"</div>\n        </div>\n      </div>\n    </div>\n      </div>"),"\n    "):"","\n            <div class='name-service'>\n            <div class='name-service-wrap ").concat(config.calendar.isRTL&&Y(n.start,n.end)>=5?"nameHalfRTL":"nameHalfLTR","'>\n            ").concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1)).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1)).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>\n    ").concat(Y(n.start,n.end)<=4?"\n      <div class='time-info'>\n      <p class='event-start'>".concat(t," - ").concat(e,"</p>\n      <div class='short-cont'>\n        <div class='duration-wrap'>\n          <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n          <div class='event-duration'>").concat(y(n.end-n.start),"</div>\n        </div>\n      </div>\n    </div>"):"","  \n            </div>\n          </div>\n          \n        </div>\n        ").concat(n.address||n.note?"<div class='".concat("note-address ".concat(3===Y(n.start,n.end)?"nomargin":""),"'>\n        ",n.address&&Y(n.start,n.end)>2?"<div class='address-wrap'>\n        <div class='address-img-wrap'>\n          <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n        </div>\n    <p class='client-address'>").concat(n.address,"</p>\n    </div>"):"","\n          ").concat(n.note&&(Y(n.start,n.end)>3&&5!==Y(n.start,n.end)||!n.address)?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='client-note nowrap'>").concat(n.note,"</p>\n    </div>"):"","\n        </div>"):"","\n      </div>\n    "))),$(s).appendTo(i)}(n,a,e,c,t):i<=91&&i<122.4?function(n,a,t,e,c){var i=$(a[0].children[0]);$(i).addClass("ev-custom");var s,o=n.services?n.services.reduce(function(n,a){return a.name&&a.name?n+"".concat(a.name)+(a.count>1?" ⨯ ".concat(a.count,","):""):n},""):[];n.services&&(o=o.split(",")),Y(n.start,n.end)>.1&&Y(n.start,n.end)<2&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time short-third ".concat(config.calendar.isRTL?"singleOfftimeRTL":"singleOfftimeLTR","'>\n          <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service half-flex ".concat(config.calendar.isRTL?"singleThirdRTL":"singleThirdLTR","'>\n            ").concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1),"</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1),"</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>"))),Y(n.start,n.end)>=2&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time third_off ".concat(config.calendar.isRTL?"extraOfftimeRTL":"extraOfftimeLTR","'>\n      <div class='off_time_extended'>\n        <div class='main_info'>\n        <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        ").concat(n.address?"<div class='address-wrap'>\n            <div class='address-img-wrap'>\n              <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n            </div>\n            <p class='client-address'>").concat(n.address,"</p>\n          </div>"):"","\n          ").concat(n.note?"<div class='note-wrap'>\n              <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n              <p class='client-note'>").concat(n.note,"</p>\n            </div>"):"","\n          </div>\n    </div>"):"<div class='click-mask'></div><div class='custom-event extra ".concat(config.calendar.isRTL?"extraRTL":"extraLTR","'>\n        <div class='main-info'>\n          <div class='foto-time'>\n             <div class='foto-name'>\n            <div class='","name-service ".concat(Y(n.start,n.end)<=4?"nopading":""),"'>\n            <div class='name-service-wrap'>\n            ").concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1)).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1)).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>\n            </div>\n          </div>\n          \n        </div>\n        <div class='","note-address ".concat(3===Y(n.start,n.end)?"nomargin":""),"'>\n        ").concat(n.address?"<div class='address-wrap'>\n        <div class='address-img-wrap'>\n            <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n        </div>\n    <p class='client-address'>").concat(n.address,"</p>\n    </div>"):"","\n          ").concat(n.note?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='","client-note ".concat(Y(n.start,n.end)>5?"normal":""),"'>").concat(n.note,"</p>\n    </div>"):"","\n        </div>\n      </div>\n    "))),$(s).appendTo(i)}(n,a,0,0,t):i<=122.4?function(n,a,t,e,c){var i=$(a[0].children[0]);$(i).addClass("ev-custom");var s,o=n.services?n.services.reduce(function(n,a){return a.name&&a.name?n+"".concat(a.name)+(a.count>1?" ⨯ ".concat(a.count,","):""):n},""):[];n.services&&(o=o.split(",")),Y(n.start,n.end)>=.1&&Y(n.start,n.end)<2&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time short-third ".concat(config.calendar.isRTL?"singleOfftimeRTL":"singleOfftimeLTR","'>\n          <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service half-flex ".concat(config.calendar.isRTL?"singleThirdRTL":"singleThirdLTR","'>\n            ").concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1),"</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1),"</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>"))),Y(n.start,n.end)>=2&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time third_off ".concat(config.calendar.isRTL?"thirdOfftimeRTL":"thirdOfftimeLTR","'>\n      <div class='off_time_extended'>\n      ").concat(Y(n.start,n.end)>=5?"<div class='off_time_wrap'>\n          <img class='off_time_img' src='".concat("break"===n.off_time?"".concat(config.urls.staticImg,"/break.svg"):"".concat(config.urls.staticImg,"/meeting.svg"),"' />\n          <div class='off_time-info'>\n          <p class='event-start'>").concat(t," - ").concat(e,"</p>\n        <div class='short-cont'>\n          <div class='duration-wrap'>\n            <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n            <div class='event-duration'>").concat(y(n.end-n.start),"</div>\n          </div>\n        </div>\n      </div>\n        </div>\n        </div>"):"","\n        <div class='main_info'>\n        <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        ").concat(n.address?"<div class='address-wrap'>\n            <div class='address-img-wrap'>\n              <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n            </div>\n            <p class='client-address'>").concat(n.address,"</p>\n          </div>"):"","\n          ").concat(n.note&&(Y(n.start,n.end)>2||!n.address)?"<div class='note-wrap'>\n              <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n              <p class='client-note'>").concat(n.note,"</p>\n            </div>"):"","\n          </div>\n    </div>"):"<div class='click-mask'></div><div class='custom-event third ".concat(config.calendar.isRTL?"thirdRTL":"thirdLTR","'>\n        <div class='main-info'>\n          <div class='foto-time'>\n             <div class='foto-name'>\n            ").concat("daily"===c.name&&Y(n.start,n.end)>=5?"".concat(n.profile_picture&&n.client_id&&n.client_id>=0?"<div class='wrap-time'><div><img class='fit normalSize' src='".concat(config.urls.imgForClients.replace("{client_id}","".concat(n.client_id))+n.profile_picture,"' onerror=\"this.onerror=null;this.src='").concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"';\"/></div>\n       <div class='time-info'>\n            <p class='event-start'>").concat(t," - ").concat(e,"</p>\n            <div class='short-cont'>\n              <div class='duration-wrap'>\n                <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                <div class='event-duration'>").concat(y(n.end-n.start),"</div>\n              </div>\n            </div>\n          </div>\n       </div>"):!n.client_id||n.client_id<=0?"<div class='wrap-time'><div><img class='fit normalSize' src='".concat(config.urls.imgForOccasionalClients).concat(config.occasionalClientPhoto,"' /></div>\n       <div class='time-info'>\n            <p class='event-start'>").concat(t," - ").concat(e,"</p>\n            <div class='short-cont'>\n              <div class='duration-wrap'>\n                <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                <div class='event-duration'>").concat(y(n.end-n.start),"</div>\n              </div>\n            </div>\n          </div>\n       </div>"):"<div class='wrap-time'><div><img class='fit normalSize' src='".concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"' /></div>\n       <div class='time-info'>\n            <p class='event-start'>").concat(t," - ").concat(e,"</p>\n            <div class='short-cont'>\n              <div class='duration-wrap'>\n                <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                <div class='event-duration'>").concat(y(n.end-n.start),"</div>\n              </div>\n            </div>\n          </div>\n       </div>"),"\n    "):"","\n            <div class='","name-service ".concat(Y(n.start,n.end)<=4?"nopading":""),"'>\n            <div class='name-service-wrap'>\n            ").concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1)).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1)).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>\n            </div>\n          </div>\n          \n        </div>\n        <div class='","note-address ".concat(3===Y(n.start,n.end)?"nomargin":""),"'>\n        ").concat(n.address?"<div class='address-wrap'>\n        <div class='address-img-wrap'>\n            <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n        </div>\n    <p class='client-address'>").concat(n.address,"</p>\n    </div>"):"","\n          ").concat(n.note&&(Y(n.start,n.end)>2&&5!==Y(n.start,n.end)||!n.address)?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='client-note'>").concat(n.note,"</p>\n    </div>"):"","\n        </div>\n      </div>\n    "))),$(s).appendTo(i)}(n,a,e,c,t):function(n,a,t,e,c){var i=$(a[0].children[0]);$(i).addClass("ev-custom");var s,o=n.services?n.services.reduce(function(n,a,t,e){var c=a.count>1?" ⨯ ".concat(a.count):"",i=a.name?a.name+c:"";return i&&(t===e.length-1?n+=i:n+=i+", "),n},""):"";n.services&&(o=o.split(",")),Y(n.start,n.end)>=.1&&Y(n.start,n.end)<=1&&(s=$(n.off_time?"<div class='click-mask'></div>\n        <div class='off_time short'>\n          <p class='name_full'>".concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n          <p class='event-start'>").concat(t," - ").concat(e,"</p>\n        </div>"):"<div class='click-mask'></div>\n        <div class='custom-event'>\n    <div class='name-service flex'>\n            ".concat(n.name?"<p class='client-name ".concat(1===Y(n.start,n.end)?"oneRow":"","'>").concat(n.name).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name ".concat(1===Y(n.start,n.end)?"oneRow":"","'>").concat(config.translations.occasional).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n      ").concat(n.is_new_client||n.durationEditable?"<div class='iconsEditional'>\n      ".concat(n.durationEditable?"<span class='paid'>".concat(config.translations.paid,"</span>"):n.is_new_client?"<img class='new-icon' src='".concat(config.urls.staticImg,"/new.svg'>"):"","\n          </div>"):"","\n      <div class='time-info single-time'>\n        <p class='event-start'>").concat(t," - ").concat(e,"</p>\n      </div>\n    </div>"))),Y(n.start,n.end)>1&&(s=$(n.off_time?"<div class='click-mask'></div>\n          <div class='off_time'>\n            <div class='off_time_extended'>\n              <div class='off_time_wrap'>\n                <img class='off_time_img' src='".concat("break"===n.off_time?"".concat(config.urls.staticImg,"/break.svg"):"".concat(config.urls.staticImg,"/meeting.svg"),"' />\n              </div>\n              <div class='main_info'>\n              <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n              ").concat(n.address?"<div class='address-wrap'>\n                  <div class='address-img-wrap'>\n                    <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n                  </div>\n                  <p class='client-address'>").concat(n.address,"</p>\n                </div>"):"","\n                ").concat(n.note&&(Y(n.start,n.end)>2||!n.address)?"<div class='note-wrap'>\n                    <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n                    <p class='client-note'>").concat(n.note,"</p>\n                  </div>"):"","\n                </div>\n            </div>\n            <div class='off_time-info'>\n              <p class='event-start'>").concat(t," - ").concat(e,"</p>\n              <div class='short-cont'>\n                <div class='duration-wrap'>\n                  <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                  <div class='event-duration'>").concat(y(n.end-n.start),"</div>\n                </div>\n              </div>\n            </div>\n          </div>"):"<div class='click-mask'></div>\n        <div class='custom-event'>\n        <div class='main-info'>\n          <div class='foto-time'>\n             <div class='foto-name'>\n            ".concat("daily"===c.name?"".concat(n.profile_picture&&n.client_id&&n.client_id>=0?"<img class='fit normalSize' src='".concat(config.urls.imgForClients.replace("{client_id}","".concat(n.client_id))+n.profile_picture,"' onerror=\"this.onerror=null;this.src='").concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"';\"/>"):!n.client_id||n.client_id<=0?"<img class='normalSize fit' src='".concat(config.urls.imgForOccasionalClients).concat(config.occasionalClientPhoto,"' />"):"<img class='normalSize fit' src='".concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"' />"),"\n    "):"","\n            <div class='name-service'>\n            ").concat(n.name?"<p class='client-name'>".concat(n.name).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n            <p class='services-name'>").concat(o.map(function(n){return"<span class='service-item'>".concat(n,"</span>")}),"</p>\n            </div>\n          </div>\n          ").concat(n.is_new_client||n.durationEditable?"<div class='iconsEditional'>\n            ".concat(n.durationEditable?"<span class='paid'>".concat(config.translations.paid,"</span>"):"","\n            ").concat(n.is_new_client?"<img class='new-icon' src='".concat(config.urls.staticImg,"/new.svg'>"):"","\n          </div>"):"","\n          <div class='time-info'>\n            <p class='event-start'>").concat(t," - ").concat(e,"</p>\n            <div class='short-cont'>\n              <div class='duration-wrap'>\n                <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                <div class='event-duration'>").concat(y(n.end-n.start),"</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        ").concat(Y(n.start,n.end)>2?"<div class='note-address'>\n        ".concat(n.address&&Y(n.start,n.end)>2?"<div class='address-wrap'>\n        <div class='address-img-wrap'>\n            <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n        </div>\n    <p class='client-address'>").concat(n.address,"</p>\n    </div>"):"","\n          ").concat(n.note&&(Y(n.start,n.end)>3||!n.address)?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='","client-note ".concat(Y(n.start,n.end)<=6?"nowrap":""),"'>").concat(n.note,"</p>\n    </div>"):"","\n        </div>"):"","\n      </div>\n    "))),$(s).appendTo(i)}(n,a,e,c,t)),"agendaFourDay"===t.name&&(i<=60?function(n,a,t,e,c){var i=$(a[0].children[0]);$(i).addClass("ev-custom");var s,o=n.services?n.services.reduce(function(n,a,t,e){var c=a.count>1?" ⨯ ".concat(a.count):"",i=a.name?a.name+c:"";return i&&(t===e.length-1?n+=i:n+=i+", "),n},""):"";n.services&&(o=o.split(",")),Y(n.start,n.end)>=.1&&Y(n.start,n.end)<2&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time shortOff'>\n          <p class='name_full'>".concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service weeklyflex overlayOne'>\n            ".concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1),"</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1),"</p>"),"\n    </div>"))),Y(n.start,n.end)>=2&&Y(n.start,n.end)<3&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time twoOff'>\n          <p class='event-start'>".concat(t,"</p>\n          <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service twoline'>\n            ".concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1),"</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1),"</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>"))),Y(n.start,n.end)>=3&&Y(n.start,n.end)<4&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time threeOff'>\n        <div class='time-name'>\n          <p class='event-start'>".concat(t,"</p>\n          <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        </div>\n          <div class='note-address'>\n        ").concat(n.address?"<div class='address-wrap'>\n        <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n    <p class='client-address'>").concat(n.address,"</p>\n    </div>"):"","\n          ").concat(n.note&&!n.address?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='","client-note ".concat(Y(n.start,n.end)<=4?"nowrap":""),"'>").concat(n.note,"</p>\n    </div>"):"","\n        </div>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service threeline overlayThree'>\n            ".concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1),"</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1),"</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o,"</p>\n    ").concat(n.address?"<div class='address-wrap'>\n           <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n      <p class='client-address'>").concat(n.address,"</p>\n      </div>"):"","\n    ").concat(n.note&&!n.address?"<div class='note-wrap'>\n    <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n    <p class='","client-note ".concat(Y(n.start,n.end)<=4?"nowrap":""),"'>").concat(n.note,"</p>\n  </div>"):"","\n    </div>"))),Y(n.start,n.end)>=4&&Y(n.start,n.end)<5&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time threeOff'>\n      <div class='time-name'>\n        <p class='event-start'>".concat(t,"</p>\n        <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n      </div>\n        <div class='note-address'>\n      ").concat(n.address?"<div class='address-wrap'>\n        <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n        <p class='client-address'>").concat(n.address,"</p>\n      </div>"):"","\n        ").concat(n.note?"<div class='note-wrap'>\n    <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n    <p class='","client-note ".concat(Y(n.start,n.end)<=4?"nowrap":""),"'>").concat(n.note,"</p>\n  </div>"):"","\n      </div>\n      </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service fourline overlayFour'>\n            ".concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1)).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1)).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n        ").concat(n.address?"<div class='address-wrap'>\n        <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n        <p class='client-address'>").concat(n.address,"</p>\n      </div>"):"","\n          ").concat(n.note?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='","client-note ".concat(Y(n.start,n.end)<=4?"nowrap":""),"'>").concat(n.note,"</p>\n    </div>"):"","\n    </div>"))),Y(n.start,n.end)>=5&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time fullOff overlayOff'>\n        <p class='event-start'>".concat(t,"</p>\n        <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        <div class='note-address'>\n      ").concat(n.address?"<div class='address-wrap'>\n      <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n      <p class='client-address'>").concat(n.address,"</p>\n  </div>"):"","\n        ").concat(n.note?"<div class='note-wrap'>\n    <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n    <p class='","client-note ".concat(Y(n.start,n.end)<=4?"nowrap":""),"'>").concat(n.note,"</p>\n  </div>"):"","\n      </div>\n      </div>"):"<div class='click-mask'></div><div class='custom-event fullWeekly overlayFull'>\n          <div class='foto-time'>\n            <div class='time-info'>\n            <p class='event-start'>".concat(t," - ").concat(e,"</p>\n          </div>\n          <div class='name-service'>\n          ").concat(n.name?"<p class='client-name'>".concat(n.name).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n          <p class='services-name'>").concat(o.map(function(n){return"<span class='service-item'>".concat(n,"</span>")}),"</p>\n          </div>\n        </div>\n        <div class='note-address'>\n        ").concat(n.address?"<div class='address-wrap'>\n        <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n        <p class='client-address'>").concat(n.address,"</p>\n      </div>"):"","\n          ").concat(n.note?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='","client-note ".concat(Y(n.start,n.end)<=4?"nowrap":""),"'>").concat(n.note,"</p>\n    </div>"):"","\n      </div>\n    "))),$(s).appendTo(i)}(n,a,e,c,t):function(n,a,t,e,c){var i=$(a[0].children[0]);$(i).addClass("ev-custom");var s,o=n.services?n.services.reduce(function(n,a,t,e){var c=a.count>1?" ⨯ ".concat(a.count):"",i=a.name?a.name+c:"";return i&&(t===e.length-1?n+=i:n+=i+", "),n},""):"";n.services&&(o=o.split(",")),Y(n.start,n.end)>=.1&&Y(n.start,n.end)<2&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time shortOff'>\n          <p class='name_full'>".concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n          <p class='event-start'>").concat(t,"</p>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service weeklyflex'>\n            ".concat(n.name?"<p class='client-name'>".concat(n.name,"</p>"):"<p class='client-name'>".concat(config.translations.occasional,"</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0].slice(0,2)+" +"+(o.length-1):o[0],"</p>\n    <p>").concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>\n    </div>"))),Y(n.start,n.end)>=2&&Y(n.start,n.end)<3&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time twoOff'>\n          <p class='event-start'>".concat(t," - ").concat(e,"</p>\n          <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service twoline'>\n            ".concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1)).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1)).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>"))),Y(n.start,n.end)>=3&&Y(n.start,n.end)<4&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time threeOff'>\n        <div class='time-name'>\n          <p class='event-start'>".concat(t," - ").concat(e,"</p>\n          <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        </div>\n          <div class='note-address'>\n        ").concat(n.address?"<div class='address-wrap'>\n       <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n    <p class='client-address'>").concat(n.address,"</p>\n    </div>"):"","\n          ").concat(n.note?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='client-note nowrap'>").concat(n.note,"</p>\n    </div>"):"","\n        </div>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service threeline'>\n    <p class='event-start'>".concat(t," - ").concat(e,"</p>\n    ").concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1)).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1)).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>"))),Y(n.start,n.end)>=4&&Y(n.start,n.end)<5&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time threeOff'>\n      <div class='time-name'>\n        <p class='event-start'>".concat(t," - ").concat(e,"</p>\n        <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n      </div>\n        <div class='note-address'>\n      ").concat(n.address?"<div class='address-wrap'>\n      <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n  <p class='client-address'>").concat(n.address,"</p>\n  </div>"):"","\n        ").concat(n.note?"<div class='note-wrap'>\n    <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n    <p class='client-note nowrap'>").concat(n.note,"</p>\n  </div>"):"","\n      </div>\n      </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service fourline'>\n    <p class='event-start'>".concat(t," - ").concat(e,"</p>\n            ").concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1)).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1)).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    <div class='note-address'>\n        ").concat(n.address?"<div class='address-wrap'>\n        <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n    <p class='client-address'>").concat(n.address,"</p>\n    </div>"):"","\n          ").concat(n.note&&!n.address?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='","client-note ".concat(Y(n.start,n.end)<=4?"nowrap":""),"'>").concat(n.note,"</p>\n    </div>"):"","\n        </div>\n    </div>"))),Y(n.start,n.end)>=5&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time fullOff'>\n      <div class='time-name'>\n        <div class='off_time_wrap'>\n          <img class='off_time_img' src='".concat("break"===n.off_time?"".concat(config.urls.staticImg,"/break.svg"):"".concat(config.urls.staticImg,"/meeting.svg"),"' />\n        </div>\n        <p class='event-start'>").concat(t," - ").concat(e,"</p>\n        </div>\n        <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        <div class='note-address'>\n      ").concat(n.address?"<div class='address-wrap'>\n      <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n  <p class='client-address'>").concat(n.address,"</p>\n  </div>"):"","\n        ").concat(n.note?"<div class='note-wrap'>\n    <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n    <p class='client-note nowrap'>").concat(n.note,"</p>\n  </div>"):"","\n      </div>\n      </div>"):"<div class='click-mask'></div><div class='custom-event fullWeekly'>\n          <div class='foto-time'>\n             <div class='foto-name'>\n            ".concat("agendaFourDay"===c.name?"".concat(n.profile_picture&&n.client_id&&n.client_id>=0?"<div class='normalSize'><img class='fit normalSize' src='".concat(config.urls.imgForClients.replace("{client_id}","".concat(n.client_id))+n.profile_picture,"' onerror=\"this.onerror=null;this.src='").concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"';\"/></div>"):!n.client_id||n.client_id<=0?"<div><img class='fit normalSize' src='".concat(config.urls.imgForOccasionalClients).concat(config.occasionalClientPhoto,"' /></div>"):"<div><img class='fit normalSize' src='".concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"' /></div>")):"","\n<div class='time-info'>\n            <p class='event-start'>").concat(t," - ").concat(e,"</p>\n            <div class='short-cont'>\n              <div class='duration-wrap'>\n                <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                <div class='event-duration'>").concat(y(n.end-n.start),"</div>\n              </div>\n            </div>\n          </div>\n          </div>\n          <div class='name-service'>\n          ").concat(n.name?"<p class='client-name'>".concat(n.name).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional).concat(n.birthdate?b(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n          <p class='services-name'>").concat(o.map(function(n){return"<span class='service-item'>".concat(n,"</span>")}),"</p>\n          </div>\n        </div>\n        <div class='note-address'>\n        ").concat(n.address?"<div class='address-wrap'>\n        <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n    <p class='client-address'>").concat(n.address,"</p>\n    </div>"):"","\n          ").concat(!n.note||n.address&&5===Y(n.start,n.end)?"":"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='client-note nowrap'>").concat(n.note,"</p>\n    </div>"),"\n      </div>\n    "))),$(s).appendTo(i)}(n,a,e,c,t));var s=$('[data-appointment_id="'.concat(n.id,'"]')),o=s.find($(".click-mask"))[0],r=Math.floor(s[0].clientHeight/2),l=Math.floor(s[0].clientWidth/2);o&&(640===$("#app")[0].clientWidth?o.classList.add("click-mask-desktop"):s[0].clientWidth>30&&s[0].clientHeight>30?o.classList.add("full-mask"):s[0].clientWidth>30?(o.style.top=r+"px",o.classList.add("full-width-mask")):s[0].clientHeight>30?(o.style.left=l+"px",o.classList.add("full-height-mask")):(o.style.left=l+"px",o.style.top=r+"px",o.classList.add("small-mask")))}},S=function(n,a){var t=window.loadedEventsMap[n.format("YYYY-MM-DD")];$(a).removeClass("dayOfRest easyDay normalDay busyDay");var e=$("#calendar").fullCalendar("option","businessHours");if(t&&e){var c=t.map(function(n){return moment(n.end)-moment(n.start)}),i=e.filter(function(a){return a.dow.includes(moment(n).day())}),s=0!==i.length&&1e3*(_(i[0].end)-_(i[0].start));$(a).addClass(0===i.length?"dayOff":function(n,a){var t=n/a;return 0===t?"dayOfRest":t<.3?"easyDay":t<.6?"normalDay":t<=1||t>1?"busyDay":void 0}(function(n){for(var a=0,t=0;t<n.length;t++)a+=n[t];return a}(c),s))}},x=function(n){"month"===n.name&&setTimeout(function(){if(window.loadedEvents)for(var n=$(".fc-day-grid .fc-bg .fc-day"),a=0;a<n.length;a++){var t=n[a],e=moment($(t).attr("data-date"));S(e,t)}},10),function(){for(var n=$(".fc-more-cell"),a=0,t=n.length;a<t;a++){var e=M(n[a]);$(document.elementsFromPoint(e.x,e.y)).filter(".fc-bg .fc-other-month").length&&$(n[a]).find(".fc-more").css({filter:"opacity(55%)"})}}()},O=(t(8),function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",t=config.translations.toast_labels.success_toast,e="add"===a?t.new_appointment_booked:"delete"===a?t.appointment_deleted:t.appointment_edited,c="true"===n?"add"===a?t.new_appointment_notifications:"delete"===a?t.deleted_appointment_notifications:t.edited_appointment_notifications:"",i=$("<div class='toast-wrap'>\n        <div class='success-toast'>\n            <div class='img-wrap'>\n                <img src=".concat(config.urls.staticImg+"/ic_check_mark.svg"," />\n            </div>\n            <div class='text-wrap'>\n                <p>").concat(e,"</p>\n                <p>").concat(c,"</p>\n            </div>\n        </div>\n      </div>"));return i}),L=function(n){var a=config.translations.toast_labels.failure_toast,t=n.error_reason,e=$("\n    <div class='toast-wrap'>\n      <div class='red-toast'>\n          <div class='toast-top'>\n              ".concat("no_sms"===t?"<div class='img-wrap'>\n                    <img src=".concat(config.urls.staticImg+"/ic_sms.svg"," />\n                  </div>"):"","\n              <div class='text-wrap'>\n                  <p>").concat(a.sending_failure_reasons[t],"</p>\n              </div>\n          </div>\n          ").concat("no_sms"===t?"<div class='button-wrap'>\n                <button class='buy-sms'>\n                  <p>Buy Sms</p>\n                  <img class=".concat(config.calendar.isRTL?"rtl":"ltr"," src=").concat(config.urls.staticImg+"/ic_arrow_right.svg"," />\n                </button>\n              </div>"):"","\n      </div>\n    </div>\n  "));return"no_sms"===t&&e.on("click",function(){window.location.href=config.urls.sms_settings_link}),e},P=function(n){var a=config.translations.toast_labels.warning_toast;return $("\n    <div class='toast-wrap'>\n      <div class='warning-toast'>\n          <div class='toast-top'>\n              <div class='img-wrap'>\n                    <img src=".concat(config.urls.staticImg+"/ic_sms.svg"," />\n              </div>\n              <div class='text-wrap'>\n                  <p>").concat(a.sending_warning_reasons.no_sms.replace("{sms_warning_trashold}",config.sms_warning_trashold),"</p>\n              </div>\n          </div>\n      </div>\n    </div>\n  "))},H=function(){var n,a,t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",i=O(e.is_notification_sent&&e.is_notification_sent.toString(),c),s=function(n){n.children().addClass("hide"),$(".floating-button").animate({bottom:"30px"},1e3),$(".preloader").animate({bottom:"30px"},1e3),setTimeout(function(){$(".toast-wrap").remove(),e.is_sms_failed&&"true"===e.is_sms_failed.toString()&&(a=L(e),e={},o(a)),e.is_warning&&"true"===e.is_warning.toString()&&(t=P(e),e={},o(t))},1e3)},o=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;$("body").append(a),$(".floating-button").length&&$(".floating-button").animate({bottom:30+a.children()[0].offsetHeight+"px"},750),$(".preloader").length&&$(".preloader").animate({bottom:30+a.children()[0].offsetHeight+"px"},800);var t=a===i?3e3:5e3;n=setTimeout(function(){s(a)},t),a.children().on("click",function(){s(a),clearTimeout(n)})};o();var r=$("#calendar").fullCalendar("getView");history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(r.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(new URLSearchParams(location.search).get("calendar_view_type")))},E=(t(9),function(n,a,t,i){var s=$("#calendar").fullCalendar("getView"),o=p.a.parse(window.location.search.slice(1)),r=n.name&&""!==n.name?n.name:config.translations.occasional,l=moment(window.loadedEvents.find(function(a){return a.id===n.id}).start).isSame(n.start,"day")?"":moment(n.start).format("YYYY-MM-DD")+" ",d=t?config.translations.drag_question_event+l+moment(n.start).format("HH:mm"):config.translations.del_question_appointment.replace("{client_name}",r),f=t?"drag_":"deletion_popup_",v=$("<div id='modal-background' class='deleteModal".concat(t?" dropEvent":"","'>\n      <div class='confirm-block'>\n          <figure class='modal-body'>\n            <img class='icon' src=").concat(config.urls.staticImg+(t?"/modal-drag.svg#calendar":"/trash-del.svg")," />\n            ").concat(!t&&n.off_time?"<figcaption class='text'>".concat(config.translations.del_question_off_time.replace("{off_time_type}",config.translations.off_time_labels[n.off_time]),"</figcaption>"):"<figcaption class='text'>".concat(d,"</figcaption>"),"\n            \n          </figure>\n        <div class='modal-footer'>\n          <button class='no-btn'>").concat(config.translations[f+"cancel"].toUpperCase(),"<img class='cancel-img' src=").concat(config.urls.staticImg+"/plus-blue.svg"," /></button>\n          <button class='yes-btn'>").concat(config.translations[f+"confirm"].toUpperCase(),"<img src=").concat(config.urls.staticImg+"/confirm.svg"," /></button>\n        </div>\n      </div> \n    </div>"));$(".deleteModal").length||$("body").append(v),0===$(".dropEvent").length&&document.addEventListener("keydown",w),$(".modal-body").on("click",function(n){return n.stopPropagation()}),$(".no-btn").on("click",function(){$(".deleteModal").remove(),document.removeEventListener("keydown",w),t&&(i(),Z())}),$(".deleteModal").on("click",function(){!t&&$(".deleteModal").remove(),!t&&document.removeEventListener("keydown",w)}),$(".yes-btn").one("click",function(){t?function(n,a){var t="".concat(config.urls.appointmentsUrl,"/").concat(n),c={method:"PATCH",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"start=".concat(encodeURIComponent(a),"&added=").concat(moment().format("YYYY-MM-DD HH:mm:ss"))};return e(t,c)}(n.id,moment(n.start).format("YYYY-MM-DD HH:mm:ss")).then(function(a){Z(moment(n.start)),200===a.status&&($(".deleteModal").remove(),document.removeEventListener("keydown",w),a.json().then(function(n){var a=setInterval(function(){$(".toast-wrap").length||(H(n,"edit"),clearInterval(a))},1e3)}))}):(clearTimeout(m),m=setTimeout(function(){(function(n){if(c.includes(n))return new Promise(function(n){});c.push(n);var a="".concat(config.urls.appointmentsUrl,"/").concat(n),t={method:"DELETE",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"added=".concat(moment().format("YYYY-MM-DD HH:mm:ss"))};return e(a,t)})(a).then(function(n){if(200===n.status){if($("#calendar").fullCalendar("removeEvents",[a]),"agendaDay"===s.name){var t=$(".fc-agendaDay-view ");gn(s,t)}$(".eventPopupCont").remove(),document.removeEventListener("keydown",w),history.replaceState(null,null,window.location.search?"".concat(config.urls.startUrl,"/").concat(s.intervalStart.format("YYYY-MM-DD"))+window.location.search:"".concat(config.urls.startUrl,"/").concat(s.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(o.calendar_view_type)),Z(),n.json().then(function(n){var a=setInterval(function(){$(".toast-wrap").length||(H(n,"delete"),clearInterval(a))},1e3)})}})},50))})});t(10);var R=function(n){return config.urls.google_maps+encodeURIComponent(n.address)},j=function(n,a){var t,e=config.translations.dates.days,c=$("#calendar").fullCalendar("getView");if("month"===c.name&&($(".formonth").addClass("hidden"),$("#calendar").fullCalendar("option","contentHeight","auto"),$("#calendar").fullCalendar("changeView","daily",n.start),history.replaceState(null,null,"".concat(config.urls.startUrl,"/").concat(c.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=daily")),Mn()),"month"!==c.name){("daily"===c.name&&a||"agendaFourDay"===c.name&&a)&&(a.preventDefault(),a.stopPropagation());var i=n.services?n.services.reduce(function(n,a){return a.name&&a.name?n+"".concat(a.name,","):n},""):[];n.services&&(i=(i=i.slice(0,-1)).split(","));var s,o,r=config.translations.dates.fullMonths,l=(config.translations.dates.daysFull,h(n.start.hours().toString(),n.start.minutes().toString())),d=n.end?h(n.end.hours().toString(),n.end.minutes().toString()):"",f=$(n.off_time?"<div class='eventPopupCont'><div class='eventPopup offTimePopup' style='".concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'>\n      <div class='client-view'>\n      <div class='backgroundForOfftime'>\n        <div class='close-popup' style='").concat(config.calendar.isRTL?"left: 20px":"right: 20px","'><span class='popup-cross'>&times;</span></div>\n        <div class='client-page'>\n          ").concat(n.off_time?"<p class='client-name'>".concat(function(n){return"break"===n.off_time?config.translations.business_lunch:"meeting"===n.off_time?config.translations.meeting:"vacation"===n.off_time?null===(a=config.translations)||void 0===a?void 0:a.vacation:void 0;var a}(n),"</p>"):"","\n          </div>\n        </div>\n        </div>\n        <div class='service-wrapper service-relative'>\n            <div class='date-info upperWrap wrap-item' style='").concat(config.calendar.isRTL?"right: -50%":"left: -50%","'>\n              <div class='service-date'>\n                <div class='img'>\n                  <img class='img-service' src='").concat(config.urls.staticImg,"/calendar.svg'>\n                </div>\n                <div class='date-wrap'>\n                  <p>\n                  <span class='hour'>").concat(e[moment(c.intervalStart).days()],"</span>\n                  <span class='monthDay'>").concat(moment(n.start).format("DD")+" "+r[moment(c.intervalStart).month()],'</span>\n                  <span class="dayOfWeek">').concat(moment(n.start).format("YYYY"),"</span>\n                  </p>\n                  ").concat(n.durationEditable?"<p class='approved'>".concat(config.translations.approved,"</p>"):"","\n                </div>\n              </div>\n              <div class='time-dur'>\n                <p class='time'>").concat(l," - ").concat(d,"</p> \n                <div class='duration'>\n                  <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                  <div class='event-duration'>").concat(y(n.end-n.start),"</div>\n                </div>\n              </div>\n            </div>\n            ").concat(n.note?"<div class='notes wrap-item'>\n              <div class='img'>\n                <img class='img-notes' src='".concat(config.urls.staticImg,"/feather.svg'>\n              </div>\n              <div class='notes-cont'>\n              <h3 class='caption'>").concat(config.translations.notes,"</h3>\n              <p class='notes-txt'>").concat(n.note,"</p>\n            </div>\n          </div>"):"","\n            ").concat(n.address?"<div class='location wrap-item'>\n            <div class='location-wrap'>\n              <div class='img'>\n                <img class='location-circle' src='".concat(config.urls.staticImg,"/circle-location.svg'>\n                <img class='img-location' src='").concat(config.urls.staticImg,"/address.svg'>\n              </div>\n              <div class='location-cont'>\n                <h3 class='caption'>").concat(config.translations.address,"</h3>\n                <p class='address-loc'>").concat(n.address,"</p>\n              </div>\n            </div>\n            <div class='location-icon'>\n              <a class='link-maps' href=").concat(R(n),"><img class='img-google-maps' src='").concat(config.urls.staticImg,"/google-maps.svg'></a>\n              <a class='link-maps' href=").concat(config.urls.waze.replace("{address}",encodeURIComponent(n.address)),"><img class='img-waze' src='").concat(config.urls.staticImg,"/waze.svg'></a>\n            </div>\n          </div>"):"","\n          </div>\n          <div class='btn-section'>\n            <div class='btn-container'>\n              <div class='btn-wrap'>\n              <button class='btn-styl delete'>").concat(config.translations.delete,"<img class='btn-img' src='").concat(config.urls.staticImg,"/delete.svg'></button>\n              </div>\n            </div>\n          </div>\n          </div></div>"):"<div class='eventPopupCont'><div class='eventPopup' style='".concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'>\n      <div class='client-view'>\n      <div class='gradient'>\n        <div class='close-popup' style='").concat(config.calendar.isRTL?"left: 20px":"right: 20px","'><span class='popup-cross'>&times;</span></div>\n        <div class='client-page'>\n        <div class='client-info'>\n        <div class='client-icons'>\n        ").concat(n.client_id?"<div class='wrap-icons'>\n        ".concat(n.birthdate?function(n,a){return 5===n.birthdate.length?moment("2018-".concat(n.birthdate)).format("MM")===moment(a).format("MM")?"<div class='icons-item'><div class='wrap-icons'><img src='".concat(config.urls.staticImg,"/white-bday.svg'></div><span>").concat(config.translations.birthday,"</span></div>"):"":10===n.birthdate.length?moment(n.birthdate).format("MM")===moment(a).format("MM")?"<div class='icons-item'><div class='wrap-icons'><img src='".concat(config.urls.staticImg,"/white-bday.svg'></div><span>").concat(config.translations.birthday,"</span></div>"):"":void 0}(n,c.dateProfile.date):"","\n        ").concat(n.has_debt?"<div class='icons-item'><div class='wrap-icons'><img src='".concat(config.urls.staticImg,"/white-debt.svg'></div><span>").concat(config.translations.debt,"</span></div>"):"","\n    </div>"):"","\n          </div>\n          </div>\n          ").concat(n.off_time?"<div class='strip-name'><p class='client-name'><img class='user-def' src='".concat(config.urls.staticImg,"/user.svg'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p></div>"):n.name&&n.name?"<div class='strip-name'><p class='client-name'><img class='user-def' src='".concat(config.urls.staticImg,"/user.svg'>").concat(n.name,"</p></div>"):"<div class='strip-name'><p class='client-name'><img class='user-def' src='".concat(config.urls.staticImg,"/user.svg'>").concat(config.translations.occasional,"</p></div>"),"\n          </div>\n          ").concat(n.phone?"<div class='strip-phone'>\n            <div class='call ".concat(n.status?"":"no-status","'>\n              <a href='sms:").concat(n.phone,"'><button class='btn-sms'><img class='img-sms' src='").concat(config.urls.staticImg,"/sms.svg'></button></a>\n              <div class='wrap-tel'><a class='tel' href='tel:").concat(n.phone,"'><img class='img-tel' src='").concat(config.urls.staticImg,"/phone-call 2.svg'><span>").concat(n.phone,"</span></a></div>\n            </div>\n            ").concat(n.status?"  <div class='status'>\n              <p class='status-text'>".concat(n.status,"</p>\n            </div>"):"","\n          </div>"):"","\n        </div>\n        </div>\n        <div class='service-wrapper'>\n            <div class='date-info wrap-item'>\n              <div class='service-date'>\n                <div class='img'>\n                  <img class='img-service' src='").concat(config.urls.staticImg,"/calendar.svg'>\n                </div>\n                <div class='date-wrap'>\n                  <p>\n                  <span class='hour'>").concat(e[moment(c.intervalStart).days()],"</span>\n                  <span class='monthDay'>").concat(moment(n.start).format("DD")+" "+r[moment(c.intervalStart).month()],'</span>\n                  <span class="dayOfWeek">').concat(moment(n.start).format("YYYY"),"</span>\n                  </p>\n                  ").concat(n.durationEditable?"<p class='approved'>".concat(config.translations.approved,"</p>"):"","\n                </div>\n              </div>\n              <div class='time-dur'>\n                <p class='time'>").concat(l," - ").concat(d,"</p> \n                <div class='duration'>\n                  <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                  <div class='event-duration'>").concat(y(n.end-n.start),"</div>\n                </div>\n              </div>\n            </div>\n            ").concat(n.services&&n.services.length>0?"<div class='service-cont wrap-item'>\n                <div class='service-wrap'>\n                  <div class='img-wrap'>\n                    <img class='img-service' src='".concat(config.urls.staticImg,"/credit-card.svg'>\n                  </div>\n                  <div class='service-name'>\n                    <h3 class='caption'>").concat(config.translations.services,"</h3>\n                    <div class='item-wrap'>\n                      ").concat(n.services.reduce(function(n,a){return a.count&&a.count>1?n+"<p>".concat(a.name,"<span class='count-service'>").concat("⨯ "+a.count,"</span></p>"):n+"<p>".concat(a.name,"</p>")},""),"\n                    </div>\n                  </div>\n                </div>\n                ").concat(n.total_price?"<div class='price'>\n                  <span>".concat(n.total_price+" "+config.currency,"</span>\n                </div>"):"","\n                </div>"):"","\n            ").concat(n.note?"<div class='notes wrap-item'>\n              <div class='img'>\n                <img class='img-notes' src='".concat(config.urls.staticImg,"/feather.svg'>\n              </div>\n              <div class='notes-cont'>\n              <h3 class='caption'>").concat(config.translations.notes,"</h3>\n              <p class='notes-txt'>").concat(n.note,"</p>\n            </div>\n          </div>"):"","\n            ").concat(n.address?"<div class='location wrap-item'>\n            <div class='location-wrap'>\n              <div class='img'>\n                <img class='location-circle' src='".concat(config.urls.staticImg,"/circle-location.svg'>\n                <img class='img-location' src='").concat(config.urls.staticImg,"/address.svg'>\n              </div>\n              <div class='location-cont'>\n                <h3 class='caption'>").concat(config.translations.address,"</h3>\n                <p class='address-loc'>").concat(n.address,"</p>\n              </div>\n            </div>\n            <div class='location-icon'>\n              <a class='link-maps' href=").concat(R(n),"><img class='img-google-maps' src='").concat(config.urls.staticImg,"/google-maps.svg'></a>\n              <a class='link-maps' href=").concat(config.urls.waze.replace("{address}",encodeURIComponent(n.address)),"><img class='img-waze' src='").concat(config.urls.staticImg,"/waze.svg'></a>\n            </div>\n          </div>"):"","\n          </div>\n          <div class='btn-section'>\n            <div class='btn-container'>\n              <div class='btn-wrap'>\n                <button class='btn-styl edite'>").concat(config.translations.edit,"<img class='btn-img edit' src='").concat(config.urls.staticImg,"/edit-2.svg'></button>\n                <button class='btn-styl delete'>").concat(config.translations.delete,"<img class='btn-img delete' src='").concat(config.urls.staticImg,"/delete.svg'></button>\n              </div>\n            </div>\n          </div>\n          </div></div>"));$(".eventPopupCont").length||$("body").append(f),$(".status-text").click(function(){$(".status-text").toggleClass("full")}),"break"===n.off_time||"vacation"===n.off_time?o="".concat(config.urls.staticImg,"/break-bgr.jpg"):"meeting"===n.off_time?o="".concat(config.urls.staticImg,"/meeting-bgr.jpg"):!n.client_id||n.client_id<=0?o="".concat(config.urls.imgForOccasionalClients).concat(config.occasionalClientPhoto):(s="".concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto),o=config.urls.imgForClients.replace("{client_id}","".concat(n.client_id))+(t=n.profile_picture,encodeURIComponent(t).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16)}))),$(".client-view").css({backgroundImage:"url(".concat(o,")").concat(s?", url(".concat(s,")"):"")}),$($("html")[0]).addClass("no-scroll"),$($("body")[0]).addClass("no-scroll"),$(".close-popup").on("click",function(){var n=p.a.parse(window.location.search.slice(1));window.history.replaceState(null,null,"".concat(config.urls.startUrl,"/").concat(c.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(n.calendar_view_type)),$(".eventPopupCont").remove(),$($("html")[0]).removeClass("no-scroll"),$($("body")[0]).removeClass("no-scroll");var a=$(".event-shadow");a&&a.removeClass("event-shadow")}),n.client_id&&n.client_id>=0&&$(".client-page").on("click",function(){window.location="".concat(config.urls.clientPage,"/").concat(n.client_id)}),$(".edite").on("click",function(){var a=p.a.parse(window.location.search.slice(1));window.history.replaceState(null,null,"".concat(config.urls.startUrl,"/").concat(c.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(a.calendar_view_type));var t="".concat(moment(n.start).format("YYYY-MM-DD"),"T").concat(moment(n.start).format("HH:mm:ss")),e="appointment_id=".concat(n.id,"&start=").concat(t,"&duration=").concat(Math.floor(moment(n.end-n.start)/6e4));n.client_id&&n.client_id>=0?e+="&client_id=".concat(n.client_id):e+="&client_id=-1",n.total_price&&(e+="&total_price=".concat(n.total_price)),n.address&&(e+="&address=".concat(encodeURIComponent(n.address))),n.note&&(e+="&note=".concat(encodeURIComponent(n.note))),n.services&&(e+="&services=".concat(JSON.stringify(n.services).replace(/#/g,encodeURIComponent("#")))),config.activeWorkerId&&(e+="&worker_id=".concat(config.activeWorkerId));var i="".concat(config.urls.creatingAppointmentLink,"?").concat(e,"&calendar_view_type=").concat(a.calendar_view_type);window.location=i}),$(".delete").on("click",function(){0===$(".deleteModal").length&&E(n,n.id),$($("html")[0]).removeClass("no-scroll"),$($("body")[0]).removeClass("no-scroll")})}};function F(n){return function(n){if(Array.isArray(n)){for(var a=0,t=new Array(n.length);a<n.length;a++)t[a]=n[a];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var N,A=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=function(n,a){var t={};return a?n.forEach(function(n){t[n.id]=n}):n.forEach(function(n){t[n.id]=!0}),t},t=a($("#calendar").fullCalendar("clientEvents")),e=n.filter(function(n){return!t[n.id]}),c=a(e,!0);return Object.keys(c).map(function(n){return c[n]})},V=function(n,a,t,e,c){r(n,a,e).then(function(n){n.refresh&&$("#calendar").fullCalendar("removeEventSources");var a=$("#calendar").fullCalendar("getDate"),e=$("#calendar").fullCalendar("getView").name;if("daily"===e)$("#calendar").fullCalendar("addEventSource",[].concat(F(A(n.events)),[{id:"limiter",start:a.format("YYYY-MM-DD")+" 00:00",end:a.format("YYYY-MM-DD")+" "+config.calendar.minTime,rendering:"background",overlap:!1},{id:"limiter",start:a.format("YYYY-MM-DD")+" "+config.calendar.maxTime,end:a.format("YYYY-MM-DD")+" 23:59",rendering:"background",overlap:!1}]));else if("agendaFourDay"===e){for(var i=[],s=0;s<config.calendar.views.agendaFourDay.duration.days;s++)i.push(moment(a).add(s,"days").format("YYYY-MM-DD"));i=i.map(function(n){return[{id:"limiter",start:n+" 00:00",end:n+" "+config.calendar.minTime,rendering:"background",overlap:!1},{id:"limiter",start:n+" "+config.calendar.maxTime,end:n+" 23:59",rendering:"background",overlap:!1}]});for(var o=[],r=0;r<config.calendar.views.agendaFourDay.duration.days;r++)o.push.apply(o,F(i[r]));$("#calendar").fullCalendar("addEventSource",[].concat(F(A(n.events)),o))}else $("#calendar").fullCalendar("addEventSource",A(n.events));window.loadedEvents=$("#calendar").fullCalendar("clientEvents"),window.loadedEventsMap=window.loadedEvents.reduce(function(n,a){var t=a.start.format("YYYY-MM-DD");return n[t]||(n[t]=[]),n[t].push(a),n},{}),t&&($("#calendar").fullCalendar("next"),$("#calendar").fullCalendar("prev")),c&&c(),Z()})},W=function(){for(var n=arguments.length,a=new Array(n),t=0;t<n;t++)a[t]=arguments[t];window.myEventsTimeout&&(window.clearTimeout(window.myEventsTimeout),window.myEventsTimeout=null),window.myEventsTimeout=window.setTimeout(function(){V.apply(void 0,a)},400)},U=function(n){var a=$("#calendar").fullCalendar("getView"),t=config.translations.dates.daysFull,e=config.translations.dates.days;return"agendaDay"===a.name?t[moment(a.intervalStart).days()]:"daily"===a.name?t[moment(a.intervalStart).days()]:"agendaFourDay"===a.name?"".concat(e[n.format("d")]," ").concat(n.format("D")):"month"===a.name?e[n.format("d")]:void 0},B=function(){var n=$("#calendar").fullCalendar("getView"),a=$("#calendar").fullCalendar("getDate"),t=config.translations.dates.fullMonths,e=config.translations.dates.days;if("month"===n.name){$(".swiper-background .swiper-slide .fit").css({display:"block"});var c=$("#header").height(),i=config.workers.length>1?$(".swiper-visible").outerHeight():0;$("#calendar").css({marginTop:c+i-1}),$(".current_date_field").removeClass("for_today"),$(".today").html("");var s=t[moment(n.intervalStart).month()],o=moment($("#calendar").fullCalendar("getDate")).format("YYYY");$(".current_date_field").html(s),$(".this_week").html(o),$(".daily_wrap_label").html("<img class='img_view' src='".concat(config.urls.staticImg,"/change_view.svg'></img><span>").concat(config.translations.monthly,"</span>")),moment().format("YYYY-MM")===n.intervalStart.format("YYYY-MM")?($(".today_wrap").prop("disabled",!0),$(".today_wrap").addClass("disabled")):($(".today_wrap").prop("disabled",!1),$(".today_wrap").removeClass("disabled")),history.replaceState(null,null,"".concat(config.urls.startUrl,"/").concat(a.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=monthly"))}if("agendaFourDay"===n.name){$(".current_date_field").html(moment(n.intervalStart).format("DD")+" - "+moment(n.intervalEnd).subtract(1,"days").format("DD")+" "+t[moment(n.intervalStart).month()].slice(0,3)),$(".daily_wrap_label").html("<img class='img_view' src='".concat(config.urls.staticImg,"/change_view.svg'></img><span>").concat(config.translations.weekly,"</span>")),$(".today").html(""),$(".custom-calendar-header").removeClass("hidden");var r=$("#header").height(),l=$(".swiper-background").height(),d=$(".custom-calendar-header").height();$("#calendar").css({marginTop:r+l+d-1-(config.workers.length>1?10:20)});var f=moment().format("YYYY-MM-DD");moment(f).isBetween(n.intervalStart.subtract(1,"days").format("YYYY-MM-DD"),n.intervalEnd.format("YYYY-MM-DD"))?($(".this_week").html(config.translations.thisWeek),$(".current_date_field").removeClass("for_today"),$(".today_wrap").prop("disabled",!0),$(".today_wrap").addClass("disabled")):($(".today_wrap").prop("disabled",!1),$(".today_wrap").removeClass("disabled"),$(".this_week").html("")),history.replaceState(null,null,window.location.search?"".concat(config.urls.startUrl,"/").concat(n.intervalStart.add(1,"days").format("YYYY-MM-DD"))+window.location.search:"".concat(config.urls.startUrl,"/").concat(n.intervalStart.add(1,"days").format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=weekly"))}if("agendaDay"===n.name){$(".current_date_field").html(e[moment(n.intervalStart).days()]+", "+t[moment(n.intervalStart).month()].slice(0,3)+" "+moment(n.intervalStart).format("DD")),$(".daily_wrap_label").html("<img class='img_view' src='".concat(config.urls.staticImg,"/change_view.svg'></img><span>").concat(config.translations.agenda,"</span>")),$(".this_week").html("");var m=$("#header").height(),v=$(".swiper-background").height();$("#calendar").css({marginTop:m+v+(config.workers.length>1?10:0)-1}),moment().format("YYYY-MM-DD")===n.intervalStart.format("YYYY-MM-DD")?($(".current_date_field").addClass("for_today"),$(".today").html(config.translations.today),$(".today_wrap").prop("disabled",!0),$(".today_wrap").addClass("disabled")):($(".current_date_field").removeClass("for_today"),$(".today_wrap").prop("disabled",!1),$(".today_wrap").removeClass("disabled"),$(".today").html("")),moment().format("YYYY-MM-DD")===n.intervalStart.format("YYYY-MM-DD")?$(".today").html(config.translations.today):$(".today").html(""),history.replaceState(null,null,window.location.search?"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"))+window.location.search:"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=agenda"))}if("daily"===n.name){$(".current_date_field").html(e[moment(n.intervalStart).days()]+", "+t[moment(n.intervalStart).month()].slice(0,3)+" "+moment(n.intervalStart).format("DD")),$(".daily_wrap_label").html("<img class='img_view' src='".concat(config.urls.staticImg,"/change_view.svg'></img><span>").concat(config.translations.daily,"</span>")),$(".this_week").html("");var u=$("#header").height(),g=$(".swiper-background").height();$("#calendar").css({marginTop:u+g+(config.workers.length>1?10:0)-1}),moment().format("YYYY-MM-DD")===n.intervalStart.format("YYYY-MM-DD")?($(".current_date_field").addClass("for_today"),$(".today").html(config.translations.today),$(".today_wrap").prop("disabled",!0),$(".today_wrap").addClass("disabled")):($(".current_date_field").removeClass("for_today"),$(".today_wrap").prop("disabled",!1),$(".today_wrap").removeClass("disabled"),$(".today").html("")),history.replaceState(null,null,window.location.search?"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"))+window.location.search:"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=daily"))}},z=function(n,a){clearTimeout(N),N=setTimeout(function(){window.location="".concat(config.urls.creatingAppointmentLink,"?start=").concat(n,"&worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(a.calendar_view_type)},50)},J=function(n,a,t){var e=p.a.parse(window.location.search.slice(1)),c="".concat(moment(n).format("YYYY-MM-DD"),"T").concat(moment(n).format("HH:mm:ss"));if("daily"===t.name){var i=$(".fc-body");$(i).off("click"),$(i).on("click",function(){$("#calendar").fullCalendar("option","businessHours").forEach(function(a){var t=config.calendar.eventOverlap,i=a.dow.includes(moment(n).day()),s=moment(n).format("YYYY-MM-DD"),o=moment(moment(n).format("YYYY-MM-DD HH:mm")).valueOf(),r=moment("".concat(s," ").concat(a.start),"YYYY-MM-DD HH:mm").valueOf(),l=moment("".concat(s," ").concat(a.end),"YYYY-MM-DD HH:mm").valueOf();!t&&i&&o>=r&&o<l?(console.log("creating"),z(c,e)):t&&(console.log("creating"),z(c,e))})})}if("agendaFourDay"===t.name){var s=$(".fc-body");$(s).off("click"),$(s).on("click",function(){$("#calendar").fullCalendar("option","businessHours").forEach(function(a){var t=config.calendar.eventOverlap,i=a.dow.includes(moment(n).day()),s=moment(n).format("YYYY-MM-DD"),o=moment(moment(n).format("YYYY-MM-DD HH:mm")).valueOf(),r=moment("".concat(s," ").concat(a.start),"YYYY-MM-DD HH:mm").valueOf(),l=moment("".concat(s," ").concat(a.end),"YYYY-MM-DD HH:mm").valueOf();!t&&i&&o>=r&&o<l?(console.log("creating"),z(c,e)):t&&(console.log("creating"),z(c,e))})})}if("month"===t.name){var o=$(".fc-body")[0];$(o).off("click"),$(o).on("click",function(){$(".formonth").addClass("hidden"),$("#calendar").fullCalendar("option","contentHeight","auto"),$("#calendar").fullCalendar("changeView","daily",n),history.replaceState(null,null,"".concat(config.urls.startUrl,"/").concat(t.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=daily")),Mn()})}},Q=function(n){return n?60*n.hours()+n.minutes():"00"},q=function(){var n=p.a.parse(window.location.search.slice(1)),a=$("#calendar").fullCalendar("getView");if("true"===n.appointment_view)for(var t in n)n.hasOwnProperty(t)&&function(){var e=t,c=n[t];if("appointment_id"===e){var i=$("#calendar").fullCalendar("getDate").format("YYYY-MM-DD"),s=$("#calendar").fullCalendar("clientEvents").find(function(n){return n.id==c&&moment(n.start).format("YYYY-MM-DD")===i});s&&(history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(a.intervalStart.format("YYYY-MM-DD"),"/appointments/").concat(s.id,"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(n.calendar_view_type)),j(s),$("#calendar").fullCalendar("changeView",config.calendar.defaultView,config.calendar.defaultDate))}}()},G=function(n,a){if("daily"!==n.name&&"agendaFourDay"!==n.name||tn(),"month"===n.name){var t=$(window).outerHeight()-($("#header").outerHeight()+(config.workers.length>1?$(".swiper-visible").outerHeight():0));$("#calendar").fullCalendar("option","contentHeight",t)}if("agendaDay"===n.name){var e=$(a[0].children[0].children[1]);e.hasClass("swiper-wrapper")||e.empty()}},X=function(n){var a,t=null==n?void 0:null===(a=n.gesture)||void 0===a?void 0:a.target,e=!!t&&$(t).closest("div.info-time",$("div.fc-content.ev-custom"));return"info-time"===(!!(e&&e.length>0)&&e[0].className)},Z=function(n){var a=$("#calendar").fullCalendar("getView"),t=$("#calendar").fullCalendar("clientEvents");if("daily"===a.name){var e=moment(a.dateProfile.date).subtract(1,"days").format("YYYY-MM-DD"),c=moment(e).add(2,"days").format("YYYY-MM-DD"),i=t.filter(function(n){var a=moment(n.start).format("YYYY-MM-DD");if(moment(a).isBetween(e,c))return n});_n(i)}else if("agendaFourDay"===a.name){var s,o=(null==a?void 0:null===(s=a.dateProfile)||void 0===s?void 0:s.date)?a.dateProfile.date:n,r=moment(o).subtract(5,"days").format("YYYY-MM-DD"),l=moment(r).add(9,"days").format("YYYY-MM-DD"),d=t.filter(function(n){var a=moment(n.start).format("YYYY-MM-DD");if(moment(a).isBetween(r,l))return n});_n(d)}},K=function(n){(function(n,a){var t="".concat(config.urls.appointmentsUrl,"/").concat(n),c={method:"PATCH",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"end=".concat(encodeURIComponent(a),"&added=").concat(moment().format("YYYY-MM-DD HH:mm:ss"))};return e(t,c)})(n.id,moment(n.end).format("YYYY-MM-DD HH:mm:ss")).then(Z())},nn=function(n,a,t){E(n,n.id,!0,t)};function an(n){return function(n){if(Array.isArray(n)){for(var a=0,t=new Array(n.length);a<n.length;a++)t[a]=n[a];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var tn=function(){var n=$("#calendar").fullCalendar("getView"),a=[];if("daily"===n.name||"agendaFourDay"===n.name){var t=config.workers.length>1?$(".swiper-cont").innerHeight()+$("#header").innerHeight():$("#header").innerHeight();if($("#calendar").innerHeight()<document.documentElement.clientHeight-t){var e="daily"===n.name?1:12,c=Math.floor(document.documentElement.clientHeight-t-e);$(".fc-slats")[0].children[0].style.minHeight=c+"px",$("#calendar").fullCalendar("option","height",c);for(var i=0;i<$(".fc-slats")[0].children[0].children[0].children.length;i++)a.push($(".fc-slats")[0].children[0].children[0].children[i].clientHeight)}if("daily"===n.name&&0===$(".timeBox").length){var s=$(".fc-daily-view .fc-body"),o=$("<div>",{class:"timeBox"}).appendTo(s),r=$(".fc-bg .fc-axis.fc-widget-content").innerWidth(),l=$(".fc-daily-view .fc-time-grid .fc-slats").innerHeight();$(".fc-head .fc-day-header").innerHeight();$(o).css({width:r+1,height:l+0});var d=an($(".fc-axis.fc-time span").map(function(n,t){return"<div class='time-week' ".concat(a.length?'style="height:'+a[n]+'px"':"","><span class='time-text'>").concat($(t).text(),"</span></div>")})).join("");$(d).appendTo($(".timeBox")),en()}if("agendaFourDay"===n.name&&0===$(".timeBox").length){var f=$("<div>",{class:"timeBox"}).appendTo($(".fc-agendaFourDay-view"));$("<div>",{class:"header-week"}).appendTo($(".timeBox"));var m=$(".fc-bg .fc-axis.fc-widget-content").innerWidth(),v=$(".fc-agendaFourDay-view").height(),u=$(".fc-head .fc-day-header").innerHeight();$(f).css({width:m+1,height:v}),$(".header-week").css({height:u+2});var g=an($(".fc-axis.fc-time span").map(function(n,t){return"<div class='time-week' ".concat(a.length?'style="height:'+a[n]+'px"':"","><span class='time-text'>").concat($(t).text(),"</span></div>")})).join("");$(g).appendTo($(".timeBox")),en()}$(".timeBox").css(config.calendar.isRTL?{right:0,borderLeft:"1px solid #ededed"}:{left:0})}},en=function(){var n=$("#calendar").fullCalendar("getView");if("daily"===n.name){$(".time-text").slice(1).map(function(n,a){if("00"===$(a).text().slice(3)){var t=$(a).html().slice(0,2);return $($(a).parent()[0]).addClass("true-time-daily"),$(a).addClass("margin-time"),$(a).html(t)}$(a).text().length>2&&$(a).text("")});var a=$(".time-text")[0];$(a).addClass("margin-time"),$(a).html($(a).text().slice(0,2))}if("agendaFourDay"===n.name){$(".time-text").slice(1).map(function(n,a){if("00"===$(a).text().slice(3)){var t=$(a).html().slice(0,2);return $($(a).parent().prev()[0]).addClass("true-time"),$(a).addClass("margin-time"),$(a).html(t)}$(a).text().length>2&&$(a).text("")});var t=$(".time-text")[0];$(t).addClass("margin-time"),$(t).html($(t).text().slice(0,2))}},cn=(t(11),function(n){var a=0,t="";if(n)for(var e=(100/n.length).toFixed(2),c=0,i=n.length;c<i;c++){var s=+a+ +e;t+=", "+n[c].color+" "+a+"%, "+n[c].color+" "+s+"%",a=s}return t}),sn=function(n){for(var a=$(".fc-agendaDay-view"),t=$("#calendar").fullCalendar("getView"),e=0;e<n.length;e++){var c=n[e].services?n[e].services.reduce(function(n,a){return a.name&&a.name?n+"<span class='single-service'>".concat(a.name+(a.count>1?" ⨯ ".concat(a.count,","):""),"</span>,"):n},""):[];n[e].services&&(c=(c=c.slice(0,-1)).split(","));var i=function(n,a){return 5===n.birthdate.length?moment("2018-".concat(n.birthdate)).format("MM")===moment(a).format("MM")?"<p class='bday'><img class='bday-img' src='".concat(config.urls.staticImg,"/bday.svg'><span class='bday-text'>").concat(config.translations.birthday,"</span></p>"):"":10===n.birthdate.length?moment(n.birthdate).format("MM")===moment(a).format("MM")?"<p class='bday'><img class='bday-img' src='".concat(config.urls.staticImg,"/bday.svg'><span class='bday-text'>").concat(config.translations.birthday,"</span></p>"):"":void 0},s=function(){return"<p class='new-cust'><img class='new-client' src='".concat(config.urls.staticImg,"/new.svg'/><span class='new-text'>").concat(config.translations.client,"</span></p>")},o=function(){return"<p class='dept'><img class='dept-img' src='".concat(config.urls.staticImg,"/debt.svg' /><span class='debt-text'>").concat(config.translations.debt,"</span></p>")},r=$("\n      ".concat(n[e].off_time?"\n        <div class='off_time' data-id='".concat(n[e].id,"' data-appointment_id='").concat(n[e].id,"' style='").concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'>\n          <div class='off_time_wrap'>\n            <img class='off_time_img' src='").concat("break"===n[e].off_time?"".concat(config.urls.staticImg,"/break.svg"):"".concat(config.urls.staticImg,"/meeting.svg"),"' >\n          </div>\n          <div class='note-info'>\n            <div class='note-about-user ").concat(config.calendar.isRTL?"styleAgendaRTL":"styleAgendaLTR","'>\n              <p class='name-wrap'>").concat("break"===n[e].off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n              ").concat(n[e].note?"<div class='note-wrap'>\n          <img class='note-img' src='".concat(config.urls.staticImg,"/feather.svg'/>\n          <p class='client-note'>").concat(n[e].note,"</p>\n        </div>"):"","\n            ").concat(n[e].address?"<div class='address-wrap'>\n          <div class='address-img-wrap'>\n            <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n          </div>\n          <p class='address-line'>").concat(n[e].address,"</p>\n        </div>"):"","\n        </div>\n            <div class='time-block ").concat(config.calendar.isRTL?"styleTimeRTL":"styleTimeLTR","'>\n                <div class='start-duration'>\n                  <p class='event-start'>").concat(h(n[e].start.hours().toString(),n[e].start.minutes().toString()),"</p>\n                  <div class='duration-wrap'><img class='duration-img' src='").concat(config.urls.staticImg,"/clock.svg'/><div class='event-duration'>").concat(y(n[e].end-n[e].start),"</div></div>\n                </div>\n                ").concat(n[e].durationEditable?"<span class='paid'>".concat(config.translations.paid,"</span>"):"","\n            </div>\n          </div>\n        </div>\n        "):"\n        <td class='agenda-event' data-id='".concat(n[e].id,"' data-appointment_id='").concat(n[e].id,"' style='").concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'>\n        ").concat(n[e].profile_picture&&n[e].client_id&&n[e].client_id>=0?"<div class='foto-wrap'><img class='client-foto fit' src='".concat(config.urls.imgForClients.replace("{client_id}",n[e].client_id)+n[e].profile_picture,"' onerror=\"this.onerror=null;this.src='").concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"';\" /></div>"):!n[e].client_id||n[e].client_id<=0?"<div class='foto-wrap'><img class='client-foto fit' src='".concat(config.urls.imgForOccasionalClients).concat(config.occasionalClientPhoto,"' /></div>"):"<div class='foto-wrap'><img class='client-foto fit' src='".concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"' /></div>"),"\n        <div class='note-info'>\n          <div class='note-about-user ").concat(config.calendar.isRTL?"styleAgendaRTL":"styleAgendaLTR","'>\n            ").concat(n[e].name&&n[e].name?"<div class='name-wrap'><p class='client-name'>".concat(n[e].name,"</p><div class='client-icon'>").concat(n[e].birthdate?i(n[e],t.dateProfile.date):"").concat(n[e].is_new_client?s():"").concat(n[e].has_debt?o():"","</div></div>"):"<div class='name-wrap'><p class='client-name'>".concat(config.translations.occasional,"</p><div class='client-icon'>").concat(n[e].birthdate?i(n[e],t.dateProfile.date):"").concat(n[e].is_new_client?s():"").concat(n[e].has_debt?o():"","</div></div>"),"\n            <p class='services-name'>").concat(c.join(", "),"</p>\n            ").concat(n[e].note?"<div class='note-wrap'>\n        <img class='note-img' src='".concat(config.urls.staticImg,"/feather.svg'/>\n        <p class='client-note'>").concat(n[e].note,"</p>\n      </div>"):"","\n          ").concat(n[e].address?"<div class='address-wrap'>\n        <div class='address-img-wrap'>\n          <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n        </div>\n        <p class='address-line'>").concat(n[e].address,"</p>\n      </div>"):"","\n        </div>\n            <div class='time-block ").concat(config.calendar.isRTL?"styleTimeRTL":"styleTimeLTR","' style='border-image: linear-gradient(to bottom ").concat(cn(n[e].services)," ) 1 100%'>\n                <div class='start-duration'>\n                  <p class='event-start'>").concat(h(n[e].start.hours().toString(),n[e].start.minutes().toString()),"</p>\n                  <div class='duration-wrap'><img class='duration-img' src='").concat(config.urls.staticImg,"/clock.svg'/><div class='event-duration'>").concat(y(n[e].end-n[e].start),"</div></div>\n                </div>\n                ").concat(n[e].durationEditable?"<span class='paid'>".concat(config.translations.paid,"</span>"):"","\n            </div>\n        </div>\n      </td>\n        "),"\n\n        "));if($(a[0].children[0].children[1]).append(r),n[e+1]&&Q(n[e].start)!==Q(n[e+1].start)&&Q(n[e].end)<Q(n[e+1].start)){var l=(n[e+1].start-(null!==n[e].end?n[e].end:n[e].start))/36e5,d="";if(l<1){var f=Math.floor(60*l);d=1===f?"".concat(f," ").concat(config.translations.duration.minute):"".concat(f," ").concat(config.translations.duration.minutes)}else{var m=Math.floor(l);d=1===m?"".concat(m," ").concat(config.translations.duration.hour):"".concat(m," ").concat(config.translations.duration.hours)}$(a[0].children[0].children[1]).append(on(d,n[e].end))}}if(n[0]&&Q(n[0].start)>Q(moment(config.calendar.minTime,"HH:mm"))){var v=moment(n[0].start.format("YYYY-MM-DD")+config.calendar.minTime,"YYYY-MM-DD HH:mm").format("YYYY-MM-DD HH:mm"),u=n[0].start.format("YYYY-MM-DD HH:mm"),g=moment(u).diff(moment(v),"milliseconds"),p=rn(g);$(".fc-body .swiper-slide").prepend(on(p,v))}if(n.length&&n[n.length-1]&&Q(n[n.length-1].end)<Q(moment(config.calendar.maxTime,"HH:mm"))){var w=moment(n[n.length-1].start.format("YYYY-MM-DD")+config.calendar.maxTime,"YYYY-MM-DD HH:mm").format("YYYY-MM-DD HH:mm"),_=n[n.length-1].end.format("YYYY-MM-DD HH:mm"),b=moment(w).diff(moment(_),"milliseconds"),k=rn(b);$(a[0].children[0].children[1]).append(on(k,_))}return $(a[0].children[0].children[1].children).slice(1)},on=function(n,a){return $("<div class='duration-time' data-time-start='".concat(moment(a).format("YYYY-MM-DD HH-mm"),"' >\n  <div class='duration-time-content'>\n    <div class='free-time_value'>").concat(n,"</div>\n    <div class='duration-time_container'><div class='free-time'><img class='cross' src='").concat(config.urls.staticImg,"/plus.svg' /></span></div></div>\n    <div class='free-time_title'><span>").concat(config.translations.duration.description,"</span></div>\n</div>"))},rn=function(n){var a=Math.floor(n/36e5);n-=36e5*a;var t=Math.floor(n/6e4);return 1===a&&0===t?"".concat(a," ").concat(config.translations.duration.hour):0===a?"".concat(t," ").concat(config.translations.duration.minutes):0===t?"".concat(a," ").concat(config.translations.duration.hours):"<p class='full-dur'><span class='hours'>".concat(a,"</span> <span>").concat(config.translations.duration.hours,"</span> <span class='minutes'>").concat(t,"</span> <span>").concat(config.translations.duration.minutes,"</span></p>")},ln=function(n,a){var t=$(n).attr("data-time-start");(t=t.split(" "))[1].replace("-",":"),t=(t=[t[0],t[1].replace("-",":")]).join(" ");var e="".concat(moment(t).format("YYYY-MM-DD"),"T").concat(moment(t).format("HH:mm:ss"));window.location="".concat(config.urls.creatingAppointmentLink,"?start=").concat(e,"&worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(a.calendar_view_type)},dn=function(){var n=p.a.parse(window.location.search.slice(1));$(".duration-time").map(function(a,t){$(t).on("click",function(){ln(t,n)}),$(t)[0].taphold=function(){return ln(t,n),!1},$(t)[0].oncontextmenu=function(){return ln(t,n),!1}})},fn=function(){!0===$(".swiper-container").is(":visible")?$(".fc-body .swiper-slide").addClass("basic"):$(".fc-body .swiper-slide").addClass("full")},mn=function(n){var a=$(".agenda-event"),t=p.a.parse(window.location.search.slice(1)),e=$("#calendar").fullCalendar("getView");a.map(function(a,c){$(c).on("click",function(){var a=c.getAttribute("data-id");n.map(function(n){n.id==a&&(history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(e.intervalStart.format("YYYY-MM-DD"),"/appointments/").concat(n.id,"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(t.calendar_view_type)),j(n))})})}),$(".off_time").map(function(a,c){$(c).on("click",function(){var a=c.getAttribute("data-id");n.map(function(n){n.id==a&&(history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(e.intervalStart.format("YYYY-MM-DD"),"/appointments/").concat(n.id,"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(t.calendar_view_type)),j(n))})})})},vn=function(){var n=p.a.parse(window.location.search.slice(1)),a=$("\n    <div class='empty-page' style='".concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'>\n      <h1 class='agenda-title'>").concat(config.translations.no_queues,"</h1>\n      <div class='agenda-text'>\n        <p>").concat(config.translations.empty_agenda,"</p>\n      </div>\n      <div class='order-wrap'>\n        <p class='order-text'>").concat(config.translations.order_queue,"</p>\n        <div class='order-btn'><img class='cross' src='").concat(config.urls.staticImg,"/plus.svg' /></span></div>\n      </div>\n    </div>\n    "));$(".swiper-agenda-container .swiper-wrapper .swiper-slide").append(a),$(".order-wrap").on("click",function(){var a=$("#calendar").fullCalendar("getDate").format("YYYY-MM-DD");window.location="".concat(config.urls.creatingAppointmentLink,"?worker_id=").concat(config.activeWorkerId,"&start=").concat(a,"&calendar_view_type=").concat(n.calendar_view_type)}),$(".empty-page").css({backgroundImage:"url("+config.urls.staticImg+"/empty-agenda.svg"})},un=function n(){if(localStorage.getItem("holidays_data")&&!$(".holiday").length)try{!function(){var n,a=JSON.parse(localStorage.getItem("holidays_data")).data,t=$("#calendar").fullCalendar("getDate").format("YYYY-MM-DD");for(var e in a)(n=a[e].find(function(n){return n.date===t}))&&t===n.date&&($(".holiday").length&&$(".holiday").length>0&&$(".holiday").remove(),$(".fc-body .swiper-slide").prepend('<td class="holiday">'.concat(n.name,"</td>")))}()}catch(a){localStorage.removeItem("holidays_data"),$n(function(){return n()})}},gn=function(){$("#calendar").fullCalendar("removeEvents","limiter"),$(".fc-head").empty(),!0===$(".swiper-container").is(":visible")?$(".fc-agendaDay-view").addClass("basic"):$(".fc-agendaDay-view").addClass("full");var n=$("#calendar");n.fullCalendar();var a=$(".fc-body");$n(function(){return un()}),kn(!1,function(){$(".fc-agendaDay-view").children().first().addClass("swiper-agenda-container"),a.empty().addClass("swiper-wrapper");var n=$("#calendar").fullCalendar("getDate"),t=$("#calendar").fullCalendar("clientEvents").filter(function(a){return moment(a.start).isSame(n,"day")}).sort(function(n,a){return moment(n.start._i)-moment(a.start._i)});a.append('<tr class="swiper-slide"></tr>').children().append(t.length>0?sn(t):vn()),un(),mn(t),dn(),q(),fn()}),n.hammer().off("swipeleft"),n.hammer().on("swipeleft",function(){config.calendar.isRTL?n.fullCalendar("prev"):n.fullCalendar("next"),$n(function(){return un()}),kn(),q();var t=$("#calendar").fullCalendar("getDate"),e=$("#calendar").fullCalendar("clientEvents").filter(function(n){return moment(n.start).isSame(t,"day")}).sort(function(n,a){return moment(n.start._i)-moment(a.start._i)});a.empty(),a.append('<tr class="swiper-slide"></tr>').children().append(e.length>0?sn(e):vn()),un(),mn(e),dn(),fn(),B()}),n.hammer().off("swiperight"),n.hammer().on("swiperight",function(){config.calendar.isRTL?n.fullCalendar("next"):n.fullCalendar("prev"),$n(function(){return un()}),kn(),q();var t=$("#calendar").fullCalendar("getDate"),e=$("#calendar").fullCalendar("clientEvents").filter(function(n){return moment(n.start).isSame(t,"day")}).sort(function(n,a){return moment(n.start._i)-moment(a.start._i)});a.empty(),a.append('<tr class="swiper-slide"></td>').children().append(e.length>0?sn(e):vn()),un(),mn(e),dn(),fn(),B()})},pn=(t(12),function(){$("#calendar").fullCalendar("removeEvents","limiter");var n=p.a.parse(window.location.search.slice(1)),a=$(".fc-agendaFourDay-view .fc-head .fc-axis").width(),t=$(".fc-agendaFourDay-view .fc-head .fc-axis").outerWidth(),e=$(".fc-agendaFourDay-view .fc-head .fc-day-header").width(),c=$(".fc-agendaFourDay-view .fc-head .fc-day-header").innerHeight();if("agendaFourDay"===$("#calendar").fullCalendar("getView").name){$n(),kn(!1,function(){if(localStorage.getItem("holidays_data"))try{var a,t=JSON.parse(localStorage.getItem("holidays_data")).data;$(".custom-calendar-header .fc-day-header").map(function(n,e){for(var c in t)(a=t[c].find(function(n){return n.date===$(e).attr("data-date")}))&&$(e).attr("data-date")===a.date&&$(e).addClass("some-holiday").append("<div class='weekly-holiday' style='".concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'><p>").concat(a.name,"</p></div>"))})}catch(n){localStorage.removeItem("holidays_data"),$n()}Z(),q(),Dn(n)});var i=$("#calendar");i.fullCalendar(),i.hammer().off("swipeleft"),i.hammer().off("swiperight"),$(".fc-time-grid-container").hammer().off("swiperight"),$(".fc-time-grid-container").hammer().on("swiperight",function(n){X(n)||setTimeout(function(){$("#calendar").fullCalendar("removeEvents","limiter"),config.calendar.isRTL?i.fullCalendar("next"):i.fullCalendar("prev"),$n(),kn(!1,function(){Z(),q()}),B(),hn(c,a,e,t)},0)}),$(".fc-time-grid-container").hammer().off("swipeleft"),$(".fc-time-grid-container").hammer().on("swipeleft",function(n){X(n)||setTimeout(function(){$("#calendar").fullCalendar("removeEvents","limiter"),config.calendar.isRTL?i.fullCalendar("prev"):i.fullCalendar("next"),$n(),kn(!1,function(){Z(),q()}),B(),hn(c,a,e,t)},0)})}hn(c,a,e,t),B()}),hn=function(n,a,t,e){var c=$(".fc-agendaFourDay-view .fc-head .fc-head-container thead").html();if($(".custom-calendar-header").html(c),localStorage.getItem("holidays_data"))try{var i,s=JSON.parse(localStorage.getItem("holidays_data")).data;$(".custom-calendar-header .fc-day-header").map(function(n,a){for(var t in s)(i=s[t].find(function(n){return n.date===$(a).attr("data-date")}))&&$(a).attr("data-date")===i.date&&$(a).addClass("some-holiday").append("<div class='weekly-holiday' style='".concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'><p>").concat(i.name,"</p></div>"))})}catch(n){localStorage.removeItem("holidays_data"),$n()}$(".custom-calendar-header .fc-axis").css(config.calendar.isRTL?{width:e+1,borderLeft:"1px solid #ededed"}:{width:e}),$(".custom-calendar-header .fc-day-header").addClass(config.calendar.isRTL?"right-side":"left-side"),$(".custom-calendar-header .fc-day-header").css((config.calendar.isRTL,{width:t+1})),$(".custom-calendar-header .right-side:nth-child(1)").css({width:t+1}),$(".custom-calendar-header .right-side:nth-child(2)").css({width:t+1}),$(".custom-calendar-header .right-side:nth-child(3)").css({width:t+1}),$(".custom-calendar-header .right-side:nth-child(4)").css({width:t})},wn=(t(13),function(){if($("#calendar").fullCalendar("option","height",$("#calendar").innerHeight()),localStorage.getItem("holidays_data")&&!$(".holiday").length)try{!function(){var n,a=JSON.parse(localStorage.getItem("holidays_data")).data,t=$("#calendar").fullCalendar("getDate").format("YYYY-MM-DD");for(var e in a)if((n=a[e].find(function(n){return n.date===t}))&&t===n.date){$(".holiday").length&&$(".holiday").length>0&&$(".holiday").remove(),$(".fc-daily-view .fc-head").append("<td class=holiday>".concat(n.name,"</td>"));var c=$("#calendar").innerHeight()+$(".holiday")[0].clientHeight;$("#calendar").fullCalendar("option","height",c)}}()}catch(n){localStorage.removeItem("holidays_data"),$n()}}),yn=function(){$("#calendar").fullCalendar("removeEvents","limiter");var n=$("#calendar").fullCalendar("getView"),a=p.a.parse(window.location.search.slice(1));if("daily"===n.name){$(".fc-daily-view .fc-head").empty();var t=$("#calendar");t.fullCalendar(),t.hammer().off("swipeleft"),t.hammer().off("swiperight"),$n(function(){return wn()}),wn(),kn(!1,function(){Z(),q(),Dn(a)}),$(".fc-time-grid-container").hammer().off("swiperight"),$(".fc-time-grid-container").hammer().on("swiperight",function(n){X(n)||setTimeout(function(){$("#calendar").fullCalendar("removeEvents","limiter"),config.calendar.isRTL?t.fullCalendar("next"):t.fullCalendar("prev"),$(".fc-daily-view .fc-head").empty(),$n(function(){return wn()}),wn(),kn(!1,function(){Z(),q()}),B()},0)}),$(".fc-time-grid-container").hammer().off("swipeleft"),$(".fc-time-grid-container").hammer().on("swipeleft",function(n){X(n)||setTimeout(function(){$("#calendar").fullCalendar("removeEvents","limiter"),config.calendar.isRTL?t.fullCalendar("prev"):t.fullCalendar("next"),$(".fc-daily-view .fc-head").empty(),$n(function(){return wn()}),wn(),kn(!1,function(){Z(),q()}),B()},0)})}},_n=(t(14),function(n){var a=$(".click-mask"),t=p.a.parse(window.location.search.slice(1)),e=$("#calendar").fullCalendar("getView");a.map(function(a,c){$(c).on("click",function(a){a.preventDefault(),a.stopPropagation();var i=$(c).parent().parent().attr("data-appointment_id");n.map(function(n){n.id==i&&(history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(e.intervalStart.format("YYYY-MM-DD"),"/appointments/").concat(n.id,"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(t.calendar_view_type)),j(n))})})})}),$n=function(n){var a=moment();if(localStorage.getItem("holidays_data")){var t=localStorage.getItem("holidays_data"),e=JSON.parse(t),c=moment(e.last_loaded_holidays),i=e.data,s=$("#calendar").fullCalendar("getDate"),o=a.diff(c,"days"),r=s.year()===c.year();Math.abs(o)>=14?v(moment(a).year(),a.format(),!0).then(function(a){n&&n(a)}):!1===r&&!1===i.hasOwnProperty(s.year())&&v(s.year(),moment(a).format()).then(function(a){n&&n(a)})}else null===localStorage.getItem("holidays_data")&&v(moment(a).year(),moment(a).format()).then(function(a){n&&n(a)})},bn=function(n,a){return{dayStart:moment(n).set({hour:0,minute:0,second:0,millisecond:0}).format("YYYY-MM-DD HH:mm:ss"),dayEnd:moment(a).set({hour:23,minute:59,second:59,millisecond:0}).format("YYYY-MM-DD HH:mm:ss")}},kn=function(n,a){var t=$("#calendar").fullCalendar("getView"),e=moment(t.start).format();if(e=new Date(e),"agendaDay"===t.name){var c=moment(e).subtract(1,"days"),i=moment(e).add(1,"days"),s=bn(c,i),o=s.dayStart,r=s.dayEnd;W(o,r,!0,n,a)}else{if("daily"===t.name){var l=moment(e).subtract(1,"days"),d=moment(e).add(1,"days"),f=bn(l,d),m=f.dayStart,v=f.dayEnd;return W(m,v,!1,n,a)}if("agendaFourDay"===t.name){var u=moment(e).subtract(5,"days"),g=moment(e).add(6,"days"),p=bn(u,g),h=p.dayStart,w=p.dayEnd;return W(h,w,!1,n,a)}if("month"===t.name){var y=$("#calendar").fullCalendar("getDate"),_=moment(moment(y).startOf("month")).subtract(1,"months").startOf("month"),b=moment(moment(y).endOf("month")).add(1,"months").endOf("month"),k=bn(_,b),Y=k.dayStart,C=k.dayEnd;return W(Y,C,!1,n,a)}}},Yn=function n(){if(localStorage.getItem("holidays_data"))try{var a,t=JSON.parse(localStorage.getItem("holidays_data")).data;$(".fc-body .fc-content-skeleton .fc-day-top").map(function(n,e){for(var c in t)(a=t[c].find(function(n){return n.date===$(e).attr("data-date")}))&&$(e).attr("data-date")===a.date&&$(e).addClass("some-holiday").append("<div class='month-holiday' style='".concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'><p>").concat(a.name,"</p></div>"))})}catch(a){localStorage.removeItem("holidays_data"),$n(function(){return n()})}},Cn=function(n){var a=$(".fc-day-grid-event"),t=$("#calendar").fullCalendar("clientEvents");a.map(function(n,a){$(a).on("click",function(){var n=a.getAttribute("data-appointment_id");t.map(function(a){a.id==n&&j(a)})})})},Dn=function(n){var a=n.appointment_id,t=$("[data-appointment_id = ".concat(a,"]"));t[0]&&t[0].scrollIntoView({block:"center",behavior:"smooth"}),t&&t.addClass("event-shadow")},In=function(){if($("#calendar").fullCalendar("removeEvents","limiter"),"month"===$("#calendar").fullCalendar("getView").name){$n(function(){return Yn()}),kn(!0,function(){return Cn()}),Yn();var n=$("#calendar");n.fullCalendar(),n.hammer().off("swipeleft"),n.hammer().on("swipeleft",function(){config.calendar.isRTL?n.fullCalendar("prev"):n.fullCalendar("next"),kn(!0,function(){return Cn()}),$n(function(){return Yn()}),Yn(),B()}),n.hammer().off("swiperight"),n.hammer().on("swiperight",function(){config.calendar.isRTL?n.fullCalendar("next"):n.fullCalendar("prev"),kn(!0,function(){return Cn()}),$n(function(){return Yn()}),Yn(),B()})}},Mn=function(){var n=$("#calendar").fullCalendar("getView");if("agendaDay"===n.name&&gn(),"daily"===n.name&&yn($("#calendar").fullCalendar("getDate")),"agendaFourDay"===n.name&&pn($("#calendar").fullCalendar("getDate").add(-1,"days")),"month"===n.name){var a=$(window).outerHeight()-($("#header").outerHeight()+(config.workers.length>1?$(".swiper-visible").outerHeight():0));$("#calendar").fullCalendar("option","contentHeight",a),In()}B()};t(15);if("undefined"!=typeof window&&"undefined"!=typeof config){var Tn=.01*window.innerHeight;if(document.documentElement.style.setProperty("--vh","".concat(Tn,"px")),window.addEventListener("resize",function(){var n=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(n,"px"))}),"preact"===config.js_framework)try{t(!function(){var n=new Error("Cannot find module 'preact'");throw n.code="MODULE_NOT_FOUND",n}()).h}catch(n){console.log(n)}else if("vanilla"===config.js_framework)try{var Sn=t(16).default}catch(n){console.log(n)}}var xn=t(2),On=(t(18),function(){$("#menu_modal").removeClass("jsx-menu"),Object(xn.disableBodyScroll)(document.querySelector("#menu_modal")),$($("html")[0]).addClass("no-scroll")}),Ln=function(n){return n.stopPropagation()},Pn=function(){$("#menu_modal").addClass("jsx-menu"),Object(xn.clearAllBodyScrollLocks)(),$($("html")[0]).removeClass("no-scroll")},Hn=function(){document.body.appendChild(function(n){var a=n.closeMenu,t=n.commonConfig,e=n.translations,c=t||config;0===Object.entries(c.translations).length&&c.translations.constructor===Object&&(c.translations=e);var i={"background-image":"url('".concat(c.urls.menu_icons,"photo-bgr.jpg')")};console.log("closeMenu",a);var s=c.user.business_logo.includes(".svg");return Sn("div",{id:"menu_modal",className:"jsx-menu",onClick:a||void console.log("click")},Sn("div",{className:"menu_container"},Sn("div",{className:"menu_wrap",style:i},Sn("div",{className:"list-wrap",onClick:function(n){return n.stopPropagation()}},Sn("div",{className:"menu"},Sn("div",{className:"menu-logo"},Sn("div",{className:"logo"+(s?" svg-logo":"")},Sn("img",{className:"business_logo",src:c.user.business_logo})),Sn("div",{className:"business_container"},Sn("p",{className:"business_name"},c.user.business_name),Sn("p",{className:"business_address"},Sn("img",{className:"business_address_img",src:"".concat(c.urls.menu_icons,"map-pin.svg")}),c.user.business_address))),Sn("nav",{className:"menu-list"},c.menu.map(function(n){return"install"===n.text?Sn("li",{id:"install",className:"list-item installed",onClick:a||!1},Sn("p",{className:"item-link"},c.translations.menu[n.text],Sn("span",{className:"menu-img-wrap"},Sn("img",{className:"menu-img",src:c.urls.menu_icons+n.icon,alt:n.text})))):Sn("li",{className:"list-item"},Sn("a",{className:"item-link",href:n.link},c.translations.menu[n.text],Sn("span",{className:"menu-img-wrap"},Sn("img",{className:"menu-img",src:c.urls.menu_icons+n.icon,alt:n.text}))))})))))))}({})),$(".more_wrap")[0].addEventListener("click",On);var n=$("#menu_modal")[0],a=$(".list-wrap")[0];$("#install")[0].addEventListener("click",Pn),a.addEventListener("click",Ln),n.addEventListener("click",Pn)};t(19),t(20),t(21);function En(n,a){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);a&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,e)}return t}function Rn(n,a,t){return a in n?Object.defineProperty(n,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[a]=t,n}$(document).ready(function(){var n,a=document.getElementsByTagName("body")[0];config.calendar.isRTL&&(a.style.direction="rtl"),n="\n  <div id='header' style='".concat(config.calendar.isRTL?"direction: ltr":"direction: rtl","'>\n    <div class='header-cont'>\n      <div class='menu_refresh ").concat(config.calendar.isRTL?"menu_ltr":"menu_rtl","'>\n        <div class='more_wrap'>\n            <img src='").concat(config.urls.staticImg,"/ic_menu.svg'>\n        </div>\n        <div id='refresh_button'>\n          <img class='refresh_button_img' src='").concat(config.urls.staticImg,"/refresh.svg'>\n        </div>\n      </div>\n      <div class='middle-section' style='direction: ltr'>\n          <div class='prev_button_wrap common'><img class='prev_button btn' src='").concat(config.urls.staticImg,"/prev.svg'></div>\n          <div class='current_date'>\n            <span class='today'></span>\n            <span class='current_date_field'></span>\n            <span class='this_week'></span>\n          </div>\n          <div class='next_button_wrap common'><img class='next_button btn' src='").concat(config.urls.staticImg,"/next.svg'></div>\n      </div>\n      <div class='header_right ").concat(config.calendar.isRTL?"view_buttons_ltr":"view_buttons_rtl","'>\n          <button  class='today_wrap' ><img class='img_today' src='").concat(config.urls.staticImg,"/today.svg'><span>").concat(config.translations.today,"</span></button>\n          <button class='daily_wrap daily_wrap_label'><img class='img_view' src='").concat(config.urls.staticImg,"/change_view.svg'><span>").concat(config.translations.agenda,"</span></button>\n      </div>\n    </div>\n  </div>"),$("#calendar").before(n),$(".current_date").on("click",function(){var n=$("#calendar").fullCalendar("getView");if("month"!==n.name){history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=monthly")),$(".custom-calendar-header").addClass("hidden"),$(".formonth").removeClass("hidden"),$(".swiper-background .swiper-slide .fit").css({display:"block"});var a=$(window).outerHeight()-($("#header").outerHeight()+(config.workers.length>1?$(".swiper-visible").outerHeight():0));$("#calendar").fullCalendar("option","contentHeight",a),$("#calendar").fullCalendar("changeView","month"),B();var t=$("#header").height(),e=config.workers.length>1?$(".swiper-visible").outerHeight():0;$("#calendar").css({marginTop:t+e-1}),In()}});var t,e=config.workers.find(function(n){return n.id==config.activeWorkerId}),c=p.a.parse(window.location.search.slice(1)),i=c.calendar_view_type?config.match_view[c.calendar_view_type]:config.match_view[config.calendar_view_type],s=e.businessHours;if(function(){var n=$("#calendar").fullCalendar("getView"),a=document.createElement("div"),t=document.createElement("div"),e=document.createElement("div"),c=document.createElement("div");$(c).addClass("helperBox"),$("#app").prepend(c),$(a).addClass("swiper-background ".concat(config.workers.length>1?"swiper-visible":"")),$(t).addClass("swiper-workers"),$(e).addClass("swiper-cont"),$(t).html(u(n));var i=$("\n    <div class='custom-calendar-header hidden ".concat(config.workers.length>1?"withWorkers":"","' style='direction: ltr'>\n    </div>\n    "));$(a).append(t),$(a).append(i),$(e).append(a),$("#calendar").before(e);var s=new Swiper(".swiper-container",{animating:!0,slidesPerView:"auto",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},onSlideChangeStart:function(){0===s.activeIndex?($(".swiper-button-prev").hide(),$(".swiper-button-next").show()):s.progress>.8?($(".swiper-button-prev").show(),$(".swiper-button-next").hide()):($(".swiper-button-prev").show(),$(".swiper-button-next").show())}});if($(".swiper-button-prev").css({backgroundImage:"url(".concat(config.urls.staticImg,"/btn-next.svg)")}),$(".swiper-button-next").css({backgroundImage:"url(".concat(config.urls.staticImg,"/btn-prev.svg)")}),s.slides&&s.slides.length<=1){$(".swiper-workers").hide();var o=$("#header").height();$("#calendar").css({marginTop:o+10})}else s.slides&&s.slides.length<=6&&($(".swiper-button-prev").hide(),$(".swiper-button-next").hide());s.slides&&2===s.slides.length?($(".swiper-container").addClass("forTwo"),$(".swiper-wrapper").addClass("flexTwo")):$(".swiper-wrapper").removeClass("flexTwo"),$(".swiper-button-prev").hide(),$(".swiper-button-prev").on("click",function(){s.slidePrev(4e3)}),$(".swiper-button-next").on("click",function(){s.slideNext(4e3)});var r=$("#header").height(),l=config.workers.length>1?$(".swiper-background").height():0;$("#calendar").css({marginTop:r+l+(config.workers.length>1?10:0)-1}),$(window).scroll(function(){if($(window).scrollTop()>=105){if($(".swiper-workers").addClass("topScroll"),$(".swiper-workers .fit").fadeOut("fast"),$(".swiper-workers .swiper-slide").css({justifyContent:"center"}),"agendaFourDay"===$("#calendar").fullCalendar("getView").name){var n=$("#header").height(),a=$(".swiper-background").height(),t=$(".custom-calendar-header").height();$("#calendar").css({marginTop:n+a+t-(config.workers.length>1?10:20)-1})}if("daily"===$("#calendar").fullCalendar("getView").name){var e=$("#header").height(),c=$(".swiper-background").height();$("#calendar").css({marginTop:e+c+(config.workers.length>1?10:0)-1})}if("agendaDay"===$("#calendar").fullCalendar("getView").name){var i=$("#header").height(),s=$(".swiper-background").height();$("#calendar").css({marginTop:i+s+(config.workers.length>1?10:0)-1})}}else{if($(".swiper-workers").removeClass("topScroll"),$(".swiper-workers .fit").fadeIn("fast"),$(".swiper-workers .swiper-slide").css({justifyContent:"flex-start"}),"agendaFourDay"===$("#calendar").fullCalendar("getView").name){var o=$("#header").height(),r=$(".swiper-background").height(),l=$(".custom-calendar-header").height();$("#calendar").css({marginTop:o+r+l-1-(config.workers.length>1?10:20)})}if("daily"===$("#calendar").fullCalendar("getView").name){var d=$("#header").height(),f=$(".swiper-background").height();$("#calendar").css({marginTop:d+f+(config.workers.length>1?10:0)-1})}if("agendaDay"===$("#calendar").fullCalendar("getView").name){var m=$("#header").height(),v=$(".swiper-background").height();$("#calendar").css({marginTop:m+v+(config.workers.length>1?10:0)-1})}}}),$(".swiper-workers .swiper-slide").on("click",function(){config.activeWorkerId=$(this).data("index"),$(this).parent().find(".swiper-slide").removeClass("active"),$(this).addClass("active");var n=p.a.parse(window.location.search.slice(1)),a=config.workers.find(function(n){return n.id==config.activeWorkerId}),t=$("#calendar").fullCalendar("getView");if(history.replaceState(null,null,"".concat(config.urls.startUrl,"/").concat(t.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(n.calendar_view_type)),$("#calendar").fullCalendar("option",{businessHours:a.businessHours}),"agendaDay"===t.name&&gn(),"daily"===t.name&&yn($("#calendar").fullCalendar("getDate")),"agendaFourDay"===t.name&&pn($("#calendar").fullCalendar("getDate")),"month"===t.name){var e=$("#calendar").fullCalendar("getDate");$("#calendar").fullCalendar("changeView","daily"),$("#calendar").fullCalendar("changeView","month",e),In()}})}(),$("#calendar").fullCalendar(function(n){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?En(t,!0).forEach(function(a){Rn(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):En(t).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}({},config.calendar,{businessHours:s,defaultView:i,fixedWeekCount:!1,viewRender:G,dayClick:J,columnHeaderText:U,eventRender:I,eventAfterRender:T,eventAfterAllRender:x,eventResize:K,eventDrop:nn})),function(){var n=$("\n      <div class='preloader ".concat(config.calendar.isRTL?"styleLoaderRTL":"styleLoaderLTR","'>\n        <img class='loader' src='").concat(config.urls.staticImg,"/preloader.svg' />\n      </div>\n    "));$("#calendar").before(n),window.isActive=!0,window.isActive?$(n).addClass("hidden"):$(n).removeClass("hidden")}(),Mn(),function(){$(".prev_button_wrap").click(function(){var n=$("#calendar").fullCalendar("getView");if("agendaFourDay"===n.name?(config.calendar.isRTL?$("#calendar").fullCalendar("next"):$("#calendar").fullCalendar("prev"),pn($("#calendar").fullCalendar("getDate"))):"daily"===n.name&&(config.calendar.isRTL?$("#calendar").fullCalendar("next"):$("#calendar").fullCalendar("prev"),yn($("#calendar").fullCalendar("getDate"))),"agendaDay"===n.name)config.calendar.isRTL?$("#calendar").fullCalendar("next"):$("#calendar").fullCalendar("prev"),gn();else if("month"===n.name){var a=$("#calendar").fullCalendar("getDate").startOf("month");$("#calendar").fullCalendar("changeView","agendaDay");var t=$(window).outerHeight()-($("#header").outerHeight()+(config.workers.length>1?$(".swiper-visible").outerHeight():0));$("#calendar").fullCalendar("option","contentHeight",t),config.calendar.isRTL?$("#calendar").fullCalendar("changeView","month",moment(a).add(1,"month")):$("#calendar").fullCalendar("changeView","month",moment(a).subtract(1,"month")),kn(),In()}B()}),$(".next_button_wrap").click(function(){var n=$("#calendar").fullCalendar("getView");if("agendaFourDay"===n.name?(config.calendar.isRTL?$("#calendar").fullCalendar("prev"):$("#calendar").fullCalendar("next"),pn($("#calendar").fullCalendar("getDate"))):"daily"===n.name&&(config.calendar.isRTL?$("#calendar").fullCalendar("prev"):$("#calendar").fullCalendar("next"),yn()),"agendaDay"===n.name&&(config.calendar.isRTL?$("#calendar").fullCalendar("prev"):$("#calendar").fullCalendar("next"),gn()),"month"===n.name){var a=$("#calendar").fullCalendar("getDate").startOf("month");$("#calendar").fullCalendar("changeView","agendaDay");var t=$(window).outerHeight()-($("#header").outerHeight()+(config.workers.length>1?$(".swiper-visible").outerHeight():0));$("#calendar").fullCalendar("option","contentHeight",t),config.calendar.isRTL?$("#calendar").fullCalendar("changeView","month",moment(a).subtract(1,"month")):$("#calendar").fullCalendar("changeView","month",moment(a).add(1,"month")),kn(),In()}B()}),$(".today_wrap").click(function(){var n=$("#calendar").fullCalendar("getView");if("agendaFourDay"===n.name?($("#calendar").fullCalendar("today"),kn(!0,function(){pn($("#calendar").fullCalendar("getDate"))})):"daily"===n.name?($("#calendar").fullCalendar("today"),yn($("#calendar").fullCalendar("getDate")),B()):"agendaDay"===n.name&&($("#calendar").fullCalendar("today"),kn(!0,function(){gn()}),B()),"month"===n.name){$("#calendar").fullCalendar("today");var a=moment().format();$("#calendar").fullCalendar("changeView","daily");var t=$(window).outerHeight()-($("#header").outerHeight()+(config.workers.length>1?$(".swiper-visible").outerHeight():0));$("#calendar").fullCalendar("option","contentHeight",t),$("#calendar").fullCalendar("changeView","month",a),In(),B()}});$(".daily_wrap").click(function(){var n=$("#calendar").fullCalendar("getView");if("agendaDay"===n.name)$("#calendar").fullCalendar("option","contentHeight","auto"),$(".custom-calendar-header").addClass("hidden"),$(".formonth").addClass("hidden"),$("#calendar").fullCalendar("changeView","daily"),history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=daily"));else if("daily"===n.name)$("#calendar").fullCalendar("option","contentHeight","auto"),$(".custom-calendar-header").removeClass("hidden"),$(".formonth").addClass("hidden"),$("#calendar").fullCalendar("changeView","agendaFourDay"),history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=weekly"));else if("agendaFourDay"===n.name){$(".custom-calendar-header").addClass("hidden"),$(".formonth").removeClass("hidden"),$("#calendar").fullCalendar("changeView","month"),history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=monthly")),$(".swiper-background .swiper-slide .fit").css({display:"block"});var a=$(window).outerHeight()-($("#header").outerHeight()+(config.workers.length>1?$(".swiper-visible").outerHeight():0));$("#calendar").fullCalendar("option","contentHeight",a)}else if("month"===n.name){$(".custom-calendar-header").addClass("hidden"),$(".formonth").addClass("hidden");var t=window.location.pathname,e=new RegExp("\\d{4}\\-\\d{1,2}\\-\\d{1,2}","g"),c=t.match(e)[0];$("#calendar").fullCalendar("changeView","agendaDay",moment(c)),history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=agenda"))}Mn()}),B(),config.workers.length<=1&&$(".refresh_button_img").hide(),$("#refresh_button").click(function(){config.activeWorkerId&&kn(!0)})}(),t=$("\n    <div class='floating-button ".concat(!1===config.calendar.isRTL?"standartRight":"standartLeft","'><img class='cross' src='").concat(config.urls.staticImg,"/plus.svg' /></div>\n    ")),$("#calendar").after(t),$(t).on("click",function(){var n=p.a.parse(window.location.search.slice(1)),a=$("#calendar").fullCalendar("getView"),t=$("#calendar").fullCalendar("getDate").format("YYYY-MM-DD");"daily"===a.name||"agendaDay"===a.name?window.location="".concat(config.urls.creatingAppointmentLink,"?worker_id=").concat(config.activeWorkerId,"&start=").concat(t,"&calendar_view_type=").concat(n.calendar_view_type):window.location="".concat(config.urls.creatingAppointmentLink,"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(n.calendar_view_type)}),Hn(),c.appointment_id){var o="true"===c.new?"add":"edit";setTimeout(function(){H(c,o)},1e3)}var r=$("#calendar").fullCalendar("getView");window.addEventListener("popstate",function(){if($(".eventPopupCont").length>0&&0===$(".deleteModal").length){var n=p.a.parse(window.location.search.slice(1));history.replaceState(null,null,"".concat(config.urls.startUrl,"/").concat(r.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(n.calendar_view_type)),$(".eventPopupCont").remove();var a=$(".event-shadow");a&&a.removeClass("event-shadow"),$($("html")[0]).removeClass("no-scroll"),$($("body")[0]).removeClass("no-scroll");var t=$("#calendar").fullCalendar("getDate");$("#calendar").fullCalendar("gotoDate",t)}else if($(".eventPopupCont").length>0&&$(".deleteModal").length>0)$(".deleteModal").remove(),document.removeEventListener("keydown",w);else{$("#calendar").fullCalendar("option","contentHeight","auto");var e=p.a.parse(window.location.search.slice(1)),c=$("#calendar").fullCalendar("getDate");$("#calendar").fullCalendar("changeView",config.match_view[e.calendar_view_type],c),"agendaFourDay"!==r.name&&$(".custom-calendar-header").addClass("hidden"),Mn()}});var l=location.search&&location.search.includes("calendar_view_type=")?location.search:location.search+"&calendar_view_type=".concat(config.calendar_view_type);history.pushState(null,null,l?"".concat(config.urls.startUrl,"/").concat(r.intervalStart.format("YYYY-MM-DD"))+l:"".concat(config.urls.startUrl,"/").concat(r.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(config.calendar_view_type))});t(22);$(document).ready(function(){config.timeZone=Intl.DateTimeFormat().resolvedOptions().timeZone})}]);
//# sourceMappingURL=main.bundle.min.js.map