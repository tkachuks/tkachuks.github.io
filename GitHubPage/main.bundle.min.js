!function(n){var a={};function t(e){if(a[e])return a[e].exports;var c=a[e]={i:e,l:!1,exports:{}};return n[e].call(c.exports,c,c.exports,t),c.l=!0,c.exports}t.m=n,t.c=a,t.d=function(n,a,e){t.o(n,a)||Object.defineProperty(n,a,{enumerable:!0,get:e})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,a){if(1&a&&(n=t(n)),8&a)return n;if(4&a&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&a&&"string"!=typeof n)for(var c in n)t.d(e,c,function(a){return n[a]}.bind(null,c));return e},t.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(a,"a",a),a},t.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},t.p="",t(t.s=17)}([function(n,a,t){"use strict";var e=t(5),c=t(6),i=t(2);n.exports={formats:i,parse:c,stringify:e}},function(n,a,t){"use strict";var e=Object.prototype.hasOwnProperty,c=Array.isArray,i=function(){for(var n=[],a=0;a<256;++a)n.push("%"+((a<16?"0":"")+a.toString(16)).toUpperCase());return n}(),s=function(n,a){for(var t=a&&a.plainObjects?Object.create(null):{},e=0;e<n.length;++e)void 0!==n[e]&&(t[e]=n[e]);return t};n.exports={arrayToObject:s,assign:function(n,a){return Object.keys(a).reduce(function(n,t){return n[t]=a[t],n},n)},combine:function(n,a){return[].concat(n,a)},compact:function(n){for(var a=[{obj:{o:n},prop:"o"}],t=[],e=0;e<a.length;++e)for(var i=a[e],s=i.obj[i.prop],o=Object.keys(s),r=0;r<o.length;++r){var l=o[r],d=s[l];"object"==typeof d&&null!==d&&-1===t.indexOf(d)&&(a.push({obj:s,prop:l}),t.push(d))}return function(n){for(;n.length>1;){var a=n.pop(),t=a.obj[a.prop];if(c(t)){for(var e=[],i=0;i<t.length;++i)void 0!==t[i]&&e.push(t[i]);a.obj[a.prop]=e}}}(a),n},decode:function(n,a,t){var e=n.replace(/\+/g," ");if("iso-8859-1"===t)return e.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(e)}catch(n){return e}},encode:function(n,a,t){if(0===n.length)return n;var e=n;if("symbol"==typeof n?e=Symbol.prototype.toString.call(n):"string"!=typeof n&&(e=String(n)),"iso-8859-1"===t)return escape(e).replace(/%u[0-9a-f]{4}/gi,function(n){return"%26%23"+parseInt(n.slice(2),16)+"%3B"});for(var c="",s=0;s<e.length;++s){var o=e.charCodeAt(s);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?c+=e.charAt(s):o<128?c+=i[o]:o<2048?c+=i[192|o>>6]+i[128|63&o]:o<55296||o>=57344?c+=i[224|o>>12]+i[128|o>>6&63]+i[128|63&o]:(s+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(s)),c+=i[240|o>>18]+i[128|o>>12&63]+i[128|o>>6&63]+i[128|63&o])}return c},isBuffer:function(n){return!(!n||"object"!=typeof n)&&!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))},isRegExp:function(n){return"[object RegExp]"===Object.prototype.toString.call(n)},merge:function n(a,t,i){if(!t)return a;if("object"!=typeof t){if(c(a))a.push(t);else{if(!a||"object"!=typeof a)return[a,t];(i&&(i.plainObjects||i.allowPrototypes)||!e.call(Object.prototype,t))&&(a[t]=!0)}return a}if(!a||"object"!=typeof a)return[a].concat(t);var o=a;return c(a)&&!c(t)&&(o=s(a,i)),c(a)&&c(t)?(t.forEach(function(t,c){if(e.call(a,c)){var s=a[c];s&&"object"==typeof s&&t&&"object"==typeof t?a[c]=n(s,t,i):a.push(t)}else a[c]=t}),a):Object.keys(t).reduce(function(a,c){var s=t[c];return e.call(a,c)?a[c]=n(a[c],s,i):a[c]=s,a},o)}}},function(n,a,t){"use strict";var e=String.prototype.replace,c=/%20/g,i=t(1),s={RFC1738:"RFC1738",RFC3986:"RFC3986"};n.exports=i.assign({default:s.RFC3986,formatters:{RFC1738:function(n){return e.call(n,c,"+")},RFC3986:function(n){return String(n)}}},s)},function(n,a,t){},function(n,a,t){},function(n,a,t){"use strict";var e=t(1),c=t(2),i=Object.prototype.hasOwnProperty,s={brackets:function(n){return n+"[]"},comma:"comma",indices:function(n,a){return n+"["+a+"]"},repeat:function(n){return n}},o=Array.isArray,r=Array.prototype.push,l=function(n,a){r.apply(n,o(a)?a:[a])},d=Date.prototype.toISOString,f=c.default,m={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:e.encode,encodeValuesOnly:!1,format:f,formatter:c.formatters[f],indices:!1,serializeDate:function(n){return d.call(n)},skipNulls:!1,strictNullHandling:!1},g=function n(a,t,c,i,s,r,d,f,g,v,p,u,h){var w,y=a;if("function"==typeof d?y=d(t,y):y instanceof Date?y=v(y):"comma"===c&&o(y)&&(y=y.join(",")),null===y){if(i)return r&&!u?r(t,m.encoder,h):t;y=""}if("string"==typeof(w=y)||"number"==typeof w||"boolean"==typeof w||"symbol"==typeof w||"bigint"==typeof w||e.isBuffer(y))return r?[p(u?t:r(t,m.encoder,h))+"="+p(r(y,m.encoder,h))]:[p(t)+"="+p(String(y))];var _,$=[];if(void 0===y)return $;if(o(d))_=d;else{var b=Object.keys(y);_=f?b.sort(f):b}for(var k=0;k<_.length;++k){var C=_[k];s&&null===y[C]||(o(y)?l($,n(y[C],"function"==typeof c?c(t,C):t,c,i,s,r,d,f,g,v,p,u,h)):l($,n(y[C],t+(g?"."+C:"["+C+"]"),c,i,s,r,d,f,g,v,p,u,h)))}return $};n.exports=function(n,a){var t,e=n,r=function(n){if(!n)return m;if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var a=n.charset||m.charset;if(void 0!==n.charset&&"utf-8"!==n.charset&&"iso-8859-1"!==n.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=c.default;if(void 0!==n.format){if(!i.call(c.formatters,n.format))throw new TypeError("Unknown format option provided.");t=n.format}var e=c.formatters[t],s=m.filter;return("function"==typeof n.filter||o(n.filter))&&(s=n.filter),{addQueryPrefix:"boolean"==typeof n.addQueryPrefix?n.addQueryPrefix:m.addQueryPrefix,allowDots:void 0===n.allowDots?m.allowDots:!!n.allowDots,charset:a,charsetSentinel:"boolean"==typeof n.charsetSentinel?n.charsetSentinel:m.charsetSentinel,delimiter:void 0===n.delimiter?m.delimiter:n.delimiter,encode:"boolean"==typeof n.encode?n.encode:m.encode,encoder:"function"==typeof n.encoder?n.encoder:m.encoder,encodeValuesOnly:"boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:m.encodeValuesOnly,filter:s,formatter:e,serializeDate:"function"==typeof n.serializeDate?n.serializeDate:m.serializeDate,skipNulls:"boolean"==typeof n.skipNulls?n.skipNulls:m.skipNulls,sort:"function"==typeof n.sort?n.sort:null,strictNullHandling:"boolean"==typeof n.strictNullHandling?n.strictNullHandling:m.strictNullHandling}}(a);"function"==typeof r.filter?e=(0,r.filter)("",e):o(r.filter)&&(t=r.filter);var d,f=[];if("object"!=typeof e||null===e)return"";d=a&&a.arrayFormat in s?a.arrayFormat:a&&"indices"in a?a.indices?"indices":"repeat":"indices";var v=s[d];t||(t=Object.keys(e)),r.sort&&t.sort(r.sort);for(var p=0;p<t.length;++p){var u=t[p];r.skipNulls&&null===e[u]||l(f,g(e[u],u,v,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.formatter,r.encodeValuesOnly,r.charset))}var h=f.join(r.delimiter),w=!0===r.addQueryPrefix?"?":"";return r.charsetSentinel&&("iso-8859-1"===r.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),h.length>0?w+h:""}},function(n,a,t){"use strict";var e=t(1),c=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:e.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(n){return n.replace(/&#(\d+);/g,function(n,a){return String.fromCharCode(parseInt(a,10))})},o=function(n,a,t){if(n){var e=t.allowDots?n.replace(/\.([^.[]+)/g,"[$1]"):n,i=/(\[[^[\]]*])/g,s=t.depth>0&&/(\[[^[\]]*])/.exec(e),o=s?e.slice(0,s.index):e,r=[];if(o){if(!t.plainObjects&&c.call(Object.prototype,o)&&!t.allowPrototypes)return;r.push(o)}for(var l=0;t.depth>0&&null!==(s=i.exec(e))&&l<t.depth;){if(l+=1,!t.plainObjects&&c.call(Object.prototype,s[1].slice(1,-1))&&!t.allowPrototypes)return;r.push(s[1])}return s&&r.push("["+e.slice(s.index)+"]"),function(n,a,t){for(var e=a,c=n.length-1;c>=0;--c){var i,s=n[c];if("[]"===s&&t.parseArrays)i=[].concat(e);else{i=t.plainObjects?Object.create(null):{};var o="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,r=parseInt(o,10);t.parseArrays||""!==o?!isNaN(r)&&s!==o&&String(r)===o&&r>=0&&t.parseArrays&&r<=t.arrayLimit?(i=[])[r]=e:i[o]=e:i={0:e}}e=i}return e}(r,a,t)}};n.exports=function(n,a){var t=function(n){if(!n)return i;if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==n.charset&&"utf-8"!==n.charset&&"iso-8859-1"!==n.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var a=void 0===n.charset?i.charset:n.charset;return{allowDots:void 0===n.allowDots?i.allowDots:!!n.allowDots,allowPrototypes:"boolean"==typeof n.allowPrototypes?n.allowPrototypes:i.allowPrototypes,arrayLimit:"number"==typeof n.arrayLimit?n.arrayLimit:i.arrayLimit,charset:a,charsetSentinel:"boolean"==typeof n.charsetSentinel?n.charsetSentinel:i.charsetSentinel,comma:"boolean"==typeof n.comma?n.comma:i.comma,decoder:"function"==typeof n.decoder?n.decoder:i.decoder,delimiter:"string"==typeof n.delimiter||e.isRegExp(n.delimiter)?n.delimiter:i.delimiter,depth:"number"==typeof n.depth||!1===n.depth?+n.depth:i.depth,ignoreQueryPrefix:!0===n.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof n.interpretNumericEntities?n.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:"number"==typeof n.parameterLimit?n.parameterLimit:i.parameterLimit,parseArrays:!1!==n.parseArrays,plainObjects:"boolean"==typeof n.plainObjects?n.plainObjects:i.plainObjects,strictNullHandling:"boolean"==typeof n.strictNullHandling?n.strictNullHandling:i.strictNullHandling}}(a);if(""===n||null==n)return t.plainObjects?Object.create(null):{};for(var r="string"==typeof n?function(n,a){var t,o={},r=a.ignoreQueryPrefix?n.replace(/^\?/,""):n,l=a.parameterLimit===1/0?void 0:a.parameterLimit,d=r.split(a.delimiter,l),f=-1,m=a.charset;if(a.charsetSentinel)for(t=0;t<d.length;++t)0===d[t].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[t]?m="utf-8":"utf8=%26%2310003%3B"===d[t]&&(m="iso-8859-1"),f=t,t=d.length);for(t=0;t<d.length;++t)if(t!==f){var g,v,p=d[t],u=p.indexOf("]="),h=-1===u?p.indexOf("="):u+1;-1===h?(g=a.decoder(p,i.decoder,m),v=a.strictNullHandling?null:""):(g=a.decoder(p.slice(0,h),i.decoder,m),v=a.decoder(p.slice(h+1),i.decoder,m)),v&&a.interpretNumericEntities&&"iso-8859-1"===m&&(v=s(v)),v&&a.comma&&v.indexOf(",")>-1&&(v=v.split(",")),c.call(o,g)?o[g]=e.combine(o[g],v):o[g]=v}return o}(n,t):n,l=t.plainObjects?Object.create(null):{},d=Object.keys(r),f=0;f<d.length;++f){var m=d[f],g=o(m,r[m],t);l=e.merge(l,g,t)}return e.compact(l)}},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){"use strict";t.r(a);var e=function n(a,t){return t.headers||(t.headers={}),t.method||(t.method="GET"),t.headers["X-Requested-With"]="XMLHttpRequest",t.credentials="include",fetch(a,t).then(function(e){if(401!==e.status)return 503===e.status?new Promise(function(c){return setTimeout(function(){return c(n(a,t))},1e3*e.headers.get("Retry-After"))}):e;window.location.href=window.location.origin+config.urls.login})};function c(n){return function(n){if(Array.isArray(n)){for(var a=0,t=new Array(n.length);a<n.length;a++)t[a]=n[a];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i,s={},o=function(n,a,t){var o={mode:"cors",method:"GET"};return new Promise(function(r,l){t&&(s[config.activeWorkerId]=null);var d,f,m=s[config.activeWorkerId],g=config.activeWorkerId!==i;if(i=config.activeWorkerId,m){if(function(n,a,t){return+new Date(t.start)<=+new Date(n)&&+new Date(t.end)>=+new Date(a)}(n,a,m))return void r({events:g?m.events:[],refresh:g});+new Date(m.start)<+new Date(n)&&(d=m.start,n=m.end),+new Date(m.end)>+new Date(a)&&(f=m.end,a=m.start)}var v="".concat(moment(n).format("YYYY-MM-DD"),"T").concat(moment(n).format("HH:mm:ss")),p="".concat(moment(a).format("YYYY-MM-DD"),"T").concat(moment(a).format("HH:mm:ss")),u="".concat(config.urls.appointmentsUrl,"?start=").concat(v,"&end=").concat(p,"&worker_id=").concat(config.activeWorkerId);$(".refresh_button_img").addClass("loader"),$(".preloader").removeClass("hidden"),e(u,o).then(function(t){if(200!==t.status)return l([]);t.json().then(function(t){var e,i=t.map(function(n){return n});m&&(e=i,i=[].concat(c(m.events),c(i))),s[config.activeWorkerId]={start:d||n,end:f||a,events:i},window.isActive=!1,$(".preloader").addClass("hidden"),$(".refresh_button_img").removeClass("loader"),r({events:e||i,refresh:g})})})})};function r(n,a){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);a&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,e)}return t}function l(n){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(t,!0).forEach(function(a){d(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r(t).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function d(n,a,t){return a in n?Object.defineProperty(n,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[a]=t,n}var f=function(n,a,t){var c={mode:"cors",method:"GET"};return new Promise(function(i,s){var o=config.urls.get_holidays.replace("{YYYY}",n);e(o,c).then(function(e){if(200!==e.status)return s([]);e.json().then(function(e){if(localStorage.getItem("holidays_data")&&n!==moment(a).year()&&!1===JSON.parse(localStorage.getItem("holidays_data")).data.hasOwnProperty(n)){var c=JSON.parse(localStorage.getItem("holidays_data")),s=Object.assign(c.data,d({},n,e));c.data=s,localStorage.setItem("holidays_data",JSON.stringify({last_loaded_holidays:a,data:l({},s)}))}else null===localStorage.getItem("holidays_data")?localStorage.setItem("holidays_data",JSON.stringify({last_loaded_holidays:a,data:d({},n,e)})):localStorage.getItem("holidays_data")&&t&&localStorage.setItem("holidays_data",JSON.stringify({last_loaded_holidays:a,data:d({},n,e)}));i({holidays:e})})})})},m=(t(3),t(4),function(){var n=config.workers.map(function(n){var a="";return config.activeWorkerId==n.id&&(a=" active"),"\n      <figure data-index='".concat(n.id,"' class='swiper-slide").concat(a,"'>\n         <img class='fit' src='").concat(config.urls.imgForWorkers.replace("{worker_id}",n.photo),"' onerror=\"this.onerror=null;this.src='").concat(config.urls.defaultPathToWorkerImg).concat(config.defaultWorkerPhoto,"';\" />\n         <figcaption class='swiper-title'>").concat(n.name,"</figcaption>\n      </figure>")});return"\n    <div class='swiper-container' style='".concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'>\n      <div class='swiper-wrapper'>\n        ").concat(n.join(""),"\n      </div>\n      <div class='swiper-button-next'></div>\n      <div class='swiper-button-prev'></div>\n    </div>\n  ")}),g=function(n,a){return(n&&1===n.length?"0"+n:n)+":"+(a&&1===a.length?0===a?a+"0":"0"+a:a)},v=function(n){var a=Math.floor(n/36e5);n-=36e5*a;var t=Math.floor(n/6e4);return 1===a&&0===t?"".concat(a," ").concat(config.translations.duration.hour):0===a?"".concat(t," ").concat(config.translations.duration.minutes):0===t?"".concat(a," ").concat(config.translations.duration.hours):"<p class='full-dur'><span class='hours'>".concat(a,"</span><span>").concat(config.translations.duration.abbreviated_hours,"</span><span class='minutes'>").concat(t,"</span><span>").concat(config.translations.duration.abbreviated_minutes,"</span></p>")},p=function(n){return 3600*n.slice(0,2)+60*n.slice(3,5)},u=function(n,a){return 5===n.birthdate.length?moment("2018-".concat(n.birthdate)).format("MM")===moment(a).format("MM")?"<span class='bday'><img class='bday-img' src='".concat(config.urls.staticImg,"/bday.svg'></span>"):"":10===n.birthdate.length?moment(n.birthdate).format("MM")===moment(a).format("MM")?"<span class='bday'><img class='bday-img' src='".concat(config.urls.staticImg,"/bday.svg'></span>"):"":void 0},h=function(n){var a=0,t="";if(n)for(var e=(100/n.length).toFixed(2),c=0,i=n.length;c<i;c++){var s=+a+ +e;t+=", "+n[c].color+" "+a+"%, "+n[c].color+" "+s+"%",a=s}return t},w=function(n,a){var t=Math.floor((a-n)/6e4),e=config.calendar.slotDuration.split(":");return t/((1e3*+e[2]+6e4*+e[1]+36e5*+e[0])/6e4)},y=function(n){return parseInt(n,16)},_=function(n,a){return"#"+function(n,a){for(var t="",e=0;e<n.length;e+=2){var c=Math.round((y(n.slice(e,e+2))+y(a.slice(e,e+2)))/2).toString(16);t+=1===c.length?""+c:c}return t}("#"===n[0]?n.slice(1):n,"#"===a[0]?a.slice(1):a)},b=function(n,a,t){if(a.attr("data-appointment_id",n.id),"daily"===t.name||"agendaFourDay"===t.name){$(a[0]).css(config.calendar.isRTL?{direction:"rtl"}:{direction:"ltr"});var e=n.services&&n.services.length>0&&n.services[0].color?n.services[0].color:n.off_time?"#777777":"#4f2da7";$(a[0]).css({"border-image":"linear-gradient(to bottom"+h(n.services)+") 1 100%",backgroundColor:_(e,"#FFFFFF")});var c=g(n.start.hours().toString(),n.start.minutes().toString()),i=n.end?g(n.end.hours().toString(),n.end.minutes().toString()):"";!function(n,a,t,e,c){var i=$(a[0].children[0]);$(i).addClass("ev-custom");var s=$("<div class='info-time'>\n      <p class='event-start'>".concat(t," - ").concat(e,"</p>\n      <div class='short-cont'>\n              <div class='duration-wrap'>\n                <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                <div class='event-duration'>").concat(v(n.end-n.start),"</div>\n              </div>\n            </div>\n    </div>"));$(s).appendTo(i)}(n,a,c,i)}if("month"===t.name){var s=n.services?n.services.reduce(function(n,a){return a.name&&a.name?n+"".concat(a.name)+(a.count>1?" ⨯ ".concat(a.count,","):""):n},""):[];n.services&&(s=s.split(","));var o=$(a[0].children[0])[0],r=n.services&&n.services[0]&&n.services[0].color?n.services[0].color:"transparent",l=n.off_time?"<p class='month_title off_time_service' > ".concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>"):n.services&&n.services?"<p class='month_title' ><span class='square'>&bull;</span><span class='service-item'>".concat(n.name?n.name:config.translations.occasional,"</span></p>"):"";$(o).addClass(config.calendar.isRTL?"title_rtl":""),$(o).attr("data-event",n.start.format("YYYY-MM-DD")),moment($(o).attr("data-event")).format("MM")!==$("#calendar").fullCalendar("getDate").format("MM")&&$(o).addClass("not-current-month"),$(o).css({borderColor:r}),$(l).hasClass("off_time_service")&&$(o).addClass("off_time_title"),$(o).html(l)}},k=function(n){var a,t;for(a=0,t=0;null!=n;a+=n.offsetLeft,t+=n.offsetTop,n=n.offsetParent);return{x:a,y:t}},C=function(n,a,t){if("daily"===t.name||"agendaFourDay"===t.name){$(a[0].children[0]).empty();var e=g(n.start.hours().toString(),n.start.minutes().toString()),c=n.end?g(n.end.hours().toString(),n.end.minutes().toString()):"",i=$(a).width();"daily"===t.name&&(i<=245.5&&i>122.4?function(n,a,t,e,c){var i=$(a[0].children[0]);$(i).addClass("ev-custom");var s,o=n.services?n.services.reduce(function(n,a){return a.name&&a.name?n+"".concat(a.name)+(a.count>1?" ⨯ ".concat(a.count,","):""):n},""):[];n.services&&(o=o.split(",")),w(n.start,n.end)>=.5&&w(n.start,n.end)<2&&(s=$(n.off_time?"<div class='click-mask'></div>\n        <div class='off_time short-half ".concat(config.calendar.isRTL?"shortOfftimeRTL":"shortOfftimeLTR","'>\n          <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n          <p class='event-start'>").concat(t," - ").concat(e,"</p>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service half-flex ".concat(config.calendar.isRTL?"singleHalfRTL":"singleHalfLTR","'>\n            ").concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1),"</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1),"</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>"))),w(n.start,n.end)>=2&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time half_off ".concat(config.calendar.isRTL?"halfOfftimeRTL":"halfOfftimeLTR","'>\n            <div class='off_time_extended'>\n              <div class='off_time_wrap'>\n                <img class='off_time_img' src='").concat("break"===n.off_time?"".concat(config.urls.staticImg,"/break.svg"):"".concat(config.urls.staticImg,"/meeting.svg"),"' />\n                <div class='off_time-info'>\n              <p class='event-start'>").concat(t," - ").concat(e,"</p>\n              <div class='short-cont'>\n                <div class='duration-wrap'>\n                  <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                  <div class='event-duration'>").concat(v(n.end-n.start),"</div>\n                </div>\n              </div>\n            </div>\n              </div>\n              </div>\n              <div class='main_info'>\n              ").concat(w(n.start,n.end)>2?"<p class='name_full'>".concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>"):"","\n              ").concat(n.address&&w(n.start,n.end)>3?"<div class='address-wrap'>\n                  <div class='address-img-wrap'>\n                    <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n                  </div>\n                  <p class='client-address'>").concat(n.address,"</p>\n                </div>"):"","\n                ").concat(n.note&&(w(n.start,n.end)>4||!n.address)?"<div class='note-wrap'>\n                    <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n                    <p class='client-note'>").concat(n.note,"</p>\n                  </div>"):"","\n                </div>\n          </div>"):"<div class='click-mask'></div><div class='custom-event half ".concat(config.calendar.isRTL?"halfRTL":"halfLTR","'>\n        <div class='main-info'>\n          <div class='foto-time'>\n             <div class='foto-name'>\n            ").concat("daily"===c.name&&w(n.start,n.end)>=5?"".concat(n.profile_picture&&n.client_id&&n.client_id>=0?"<div class='wrap-time'><img class='fit normalSize' src='".concat(config.urls.imgForClients.replace("{client_id}","".concat(n.client_id))+n.profile_picture,"' onerror=\"this.onerror=null;this.src='").concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"';\"/>\n       <div class='time-info'>\n            <p class='event-start'>").concat(t," - ").concat(e,"</p>\n            <div class='short-cont'>\n              <div class='duration-wrap'>\n                <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                <div class='event-duration'>").concat(v(n.end-n.start),"</div>\n              </div>\n            </div>\n          </div>\n       </div>"):!n.client_id||n.client_id<=0?"<div class='wrap-time'><img class='fit normalSize' src='".concat(config.urls.imgForOccasionalClients).concat(config.occasionalClientPhoto,"' />\n       <div class='time-info'>\n       <p class='event-start'>").concat(t," - ").concat(e,"</p>\n       <div class='short-cont'>\n         <div class='duration-wrap'>\n           <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n           <div class='event-duration'>").concat(v(n.end-n.start),"</div>\n         </div>\n       </div>\n     </div>\n       </div>"):"<div class='wrap-time'><img class='fit normalSize' src='".concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"' />\n      <div class='time-info'>\n      <p class='event-start'>").concat(t," - ").concat(e,"</p>\n      <div class='short-cont'>\n        <div class='duration-wrap'>\n          <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n          <div class='event-duration'>").concat(v(n.end-n.start),"</div>\n        </div>\n      </div>\n    </div>\n      </div>"),"\n    "):"","\n            <div class='name-service'>\n            <div class='name-service-wrap ").concat(config.calendar.isRTL&&w(n.start,n.end)>=5?"nameHalfRTL":"nameHalfLTR","'>\n            ").concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1)).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1)).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>\n    ").concat(w(n.start,n.end)<=4?"\n      <div class='time-info'>\n      <p class='event-start'>".concat(t," - ").concat(e,"</p>\n      <div class='short-cont'>\n        <div class='duration-wrap'>\n          <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n          <div class='event-duration'>").concat(v(n.end-n.start),"</div>\n        </div>\n      </div>\n    </div>"):"","  \n            </div>\n          </div>\n          \n        </div>\n        ").concat(n.address||n.note?"<div class='".concat("note-address ".concat(3===w(n.start,n.end)?"nomargin":""),"'>\n        ",n.address&&w(n.start,n.end)>2?"<div class='address-wrap'>\n        <div class='address-img-wrap'>\n          <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n        </div>\n    <p class='client-address'>").concat(n.address,"</p>\n    </div>"):"","\n          ").concat(n.note&&(w(n.start,n.end)>3&&5!==w(n.start,n.end)||!n.address)?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='client-note nowrap'>").concat(n.note,"</p>\n    </div>"):"","\n        </div>"):"","\n      </div>\n    "))),$(s).appendTo(i)}(n,a,e,c,t):i<=91&&i<122.4?function(n,a,t,e,c){var i=$(a[0].children[0]);$(i).addClass("ev-custom");var s,o=n.services?n.services.reduce(function(n,a){return a.name&&a.name?n+"".concat(a.name)+(a.count>1?" ⨯ ".concat(a.count,","):""):n},""):[];n.services&&(o=o.split(",")),w(n.start,n.end)>.5&&w(n.start,n.end)<2&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time short-third ".concat(config.calendar.isRTL?"singleOfftimeRTL":"singleOfftimeLTR","'>\n          <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service half-flex ".concat(config.calendar.isRTL?"singleThirdRTL":"singleThirdLTR","'>\n            ").concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1),"</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1),"</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>"))),w(n.start,n.end)>=2&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time third_off ".concat(config.calendar.isRTL?"extraOfftimeRTL":"extraOfftimeLTR","'>\n      <div class='off_time_extended'>\n        <div class='main_info'>\n        <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        ").concat(n.address?"<div class='address-wrap'>\n            <div class='address-img-wrap'>\n              <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n            </div>\n            <p class='client-address'>").concat(n.address,"</p>\n          </div>"):"","\n          ").concat(n.note?"<div class='note-wrap'>\n              <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n              <p class='client-note'>").concat(n.note,"</p>\n            </div>"):"","\n          </div>\n    </div>"):"<div class='click-mask'></div><div class='custom-event extra ".concat(config.calendar.isRTL?"extraRTL":"extraLTR","'>\n        <div class='main-info'>\n          <div class='foto-time'>\n             <div class='foto-name'>\n            <div class='","name-service ".concat(w(n.start,n.end)<=4?"nopading":""),"'>\n            <div class='name-service-wrap'>\n            ").concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1)).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1)).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>\n            </div>\n          </div>\n          \n        </div>\n        <div class='","note-address ".concat(3===w(n.start,n.end)?"nomargin":""),"'>\n        ").concat(n.address?"<div class='address-wrap'>\n        <div class='address-img-wrap'>\n            <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n        </div>\n    <p class='client-address'>").concat(n.address,"</p>\n    </div>"):"","\n          ").concat(n.note?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='","client-note ".concat(w(n.start,n.end)>5?"normal":""),"'>").concat(n.note,"</p>\n    </div>"):"","\n        </div>\n      </div>\n    "))),$(s).appendTo(i)}(n,a,0,0,t):i<=122.4?function(n,a,t,e,c){var i=$(a[0].children[0]);$(i).addClass("ev-custom");var s,o=n.services?n.services.reduce(function(n,a){return a.name&&a.name?n+"".concat(a.name)+(a.count>1?" ⨯ ".concat(a.count,","):""):n},""):[];n.services&&(o=o.split(",")),w(n.start,n.end)>=.5&&w(n.start,n.end)<2&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time short-third ".concat(config.calendar.isRTL?"singleOfftimeRTL":"singleOfftimeLTR","'>\n          <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service half-flex ".concat(config.calendar.isRTL?"singleThirdRTL":"singleThirdLTR","'>\n            ").concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1),"</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1),"</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>"))),w(n.start,n.end)>=2&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time third_off ".concat(config.calendar.isRTL?"thirdOfftimeRTL":"thirdOfftimeLTR","'>\n      <div class='off_time_extended'>\n      ").concat(w(n.start,n.end)>=5?"<div class='off_time_wrap'>\n          <img class='off_time_img' src='".concat("break"===n.off_time?"".concat(config.urls.staticImg,"/break.svg"):"".concat(config.urls.staticImg,"/meeting.svg"),"' />\n          <div class='off_time-info'>\n          <p class='event-start'>").concat(t," - ").concat(e,"</p>\n        <div class='short-cont'>\n          <div class='duration-wrap'>\n            <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n            <div class='event-duration'>").concat(v(n.end-n.start),"</div>\n          </div>\n        </div>\n      </div>\n        </div>\n        </div>"):"","\n        <div class='main_info'>\n        <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        ").concat(n.address?"<div class='address-wrap'>\n            <div class='address-img-wrap'>\n              <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n            </div>\n            <p class='client-address'>").concat(n.address,"</p>\n          </div>"):"","\n          ").concat(n.note&&(w(n.start,n.end)>2||!n.address)?"<div class='note-wrap'>\n              <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n              <p class='client-note'>").concat(n.note,"</p>\n            </div>"):"","\n          </div>\n    </div>"):"<div class='click-mask'></div><div class='custom-event third ".concat(config.calendar.isRTL?"thirdRTL":"thirdLTR","'>\n        <div class='main-info'>\n          <div class='foto-time'>\n             <div class='foto-name'>\n            ").concat("daily"===c.name&&w(n.start,n.end)>=5?"".concat(n.profile_picture&&n.client_id&&n.client_id>=0?"<div class='wrap-time'><div><img class='fit normalSize' src='".concat(config.urls.imgForClients.replace("{client_id}","".concat(n.client_id))+n.profile_picture,"' onerror=\"this.onerror=null;this.src='").concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"';\"/></div>\n       <div class='time-info'>\n            <p class='event-start'>").concat(t," - ").concat(e,"</p>\n            <div class='short-cont'>\n              <div class='duration-wrap'>\n                <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                <div class='event-duration'>").concat(v(n.end-n.start),"</div>\n              </div>\n            </div>\n          </div>\n       </div>"):!n.client_id||n.client_id<=0?"<div class='wrap-time'><div><img class='fit normalSize' src='".concat(config.urls.imgForOccasionalClients).concat(config.occasionalClientPhoto,"' /></div>\n       <div class='time-info'>\n            <p class='event-start'>").concat(t," - ").concat(e,"</p>\n            <div class='short-cont'>\n              <div class='duration-wrap'>\n                <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                <div class='event-duration'>").concat(v(n.end-n.start),"</div>\n              </div>\n            </div>\n          </div>\n       </div>"):"<div class='wrap-time'><div><img class='fit normalSize' src='".concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"' /></div>\n       <div class='time-info'>\n            <p class='event-start'>").concat(t," - ").concat(e,"</p>\n            <div class='short-cont'>\n              <div class='duration-wrap'>\n                <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                <div class='event-duration'>").concat(v(n.end-n.start),"</div>\n              </div>\n            </div>\n          </div>\n       </div>"),"\n    "):"","\n            <div class='","name-service ".concat(w(n.start,n.end)<=4?"nopading":""),"'>\n            <div class='name-service-wrap'>\n            ").concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1)).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1)).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>\n            </div>\n          </div>\n          \n        </div>\n        <div class='","note-address ".concat(3===w(n.start,n.end)?"nomargin":""),"'>\n        ").concat(n.address?"<div class='address-wrap'>\n        <div class='address-img-wrap'>\n            <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n        </div>\n    <p class='client-address'>").concat(n.address,"</p>\n    </div>"):"","\n          ").concat(n.note&&(w(n.start,n.end)>2&&5!==w(n.start,n.end)||!n.address)?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='client-note'>").concat(n.note,"</p>\n    </div>"):"","\n        </div>\n      </div>\n    "))),$(s).appendTo(i)}(n,a,e,c,t):function(n,a,t,e,c){var i=$(a[0].children[0]);$(i).addClass("ev-custom");var s,o=n.services?n.services.reduce(function(n,a){return a.name&&a.name?n+"".concat(a.name)+(a.count>1?" ⨯ ".concat(a.count,","):""):n},""):[];n.services&&(o=o.split(",")),w(n.start,n.end)>=.5&&w(n.start,n.end)<=1&&(s=$(n.off_time?"<div class='click-mask'></div>\n        <div class='off_time short'>\n          <p class='name_full'>".concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n          <p class='event-start'>").concat(t," - ").concat(e,"</p>\n        </div>"):"<div class='click-mask'></div>\n        <div class='custom-event'>\n    <div class='name-service flex'>\n            ".concat(n.name?"<p class='client-name ".concat(1===w(n.start,n.end)?"oneRow":"","'>").concat(n.name).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name ".concat(1===w(n.start,n.end)?"oneRow":"","'>").concat(config.translations.occasional).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n      ").concat(n.is_new_client||n.durationEditable?"<div class='iconsEditional'>\n      ".concat(n.durationEditable?"<span class='paid'>".concat(config.translations.paid,"</span>"):n.is_new_client?"<img class='new-icon' src='".concat(config.urls.staticImg,"/new.svg'>"):"","\n          </div>"):"","\n      <div class='time-info single-time'>\n        <p class='event-start'>").concat(t," - ").concat(e,"</p>\n      </div>\n    </div>"))),w(n.start,n.end)>1&&(s=$(n.off_time?"<div class='click-mask'></div>\n          <div class='off_time'>\n            <div class='off_time_extended'>\n              <div class='off_time_wrap'>\n                <img class='off_time_img' src='".concat("break"===n.off_time?"".concat(config.urls.staticImg,"/break.svg"):"".concat(config.urls.staticImg,"/meeting.svg"),"' />\n              </div>\n              <div class='main_info'>\n              <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n              ").concat(n.address?"<div class='address-wrap'>\n                  <div class='address-img-wrap'>\n                    <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n                  </div>\n                  <p class='client-address'>").concat(n.address,"</p>\n                </div>"):"","\n                ").concat(n.note&&(w(n.start,n.end)>2||!n.address)?"<div class='note-wrap'>\n                    <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n                    <p class='client-note'>").concat(n.note,"</p>\n                  </div>"):"","\n                </div>\n            </div>\n            <div class='off_time-info'>\n              <p class='event-start'>").concat(t," - ").concat(e,"</p>\n              <div class='short-cont'>\n                <div class='duration-wrap'>\n                  <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                  <div class='event-duration'>").concat(v(n.end-n.start),"</div>\n                </div>\n              </div>\n            </div>\n          </div>"):"<div class='click-mask'></div>\n        <div class='custom-event'>\n        <div class='main-info'>\n          <div class='foto-time'>\n             <div class='foto-name'>\n            ".concat("daily"===c.name?"".concat(n.profile_picture&&n.client_id&&n.client_id>=0?"<img class='fit normalSize' src='".concat(config.urls.imgForClients.replace("{client_id}","".concat(n.client_id))+n.profile_picture,"' onerror=\"this.onerror=null;this.src='").concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"';\"/>"):!n.client_id||n.client_id<=0?"<img class='normalSize fit' src='".concat(config.urls.imgForOccasionalClients).concat(config.occasionalClientPhoto,"' />"):"<img class='normalSize fit' src='".concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"' />"),"\n    "):"","\n            <div class='name-service'>\n            ").concat(n.name?"<p class='client-name'>".concat(n.name).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n            <p class='services-name'>").concat(o.map(function(n){return"<span class='service-item'>".concat(n,"</span>")}).join(" "),"</p>\n            </div>\n          </div>\n          ").concat(n.is_new_client||n.durationEditable?"<div class='iconsEditional'>\n            ".concat(n.durationEditable?"<span class='paid'>".concat(config.translations.paid,"</span>"):"","\n            ").concat(n.is_new_client?"<img class='new-icon' src='".concat(config.urls.staticImg,"/new.svg'>"):"","\n          </div>"):"","\n          <div class='time-info'>\n            <p class='event-start'>").concat(t," - ").concat(e,"</p>\n            <div class='short-cont'>\n              <div class='duration-wrap'>\n                <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                <div class='event-duration'>").concat(v(n.end-n.start),"</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        ").concat(w(n.start,n.end)>2?"<div class='note-address'>\n        ".concat(n.address&&w(n.start,n.end)>2?"<div class='address-wrap'>\n        <div class='address-img-wrap'>\n            <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n        </div>\n    <p class='client-address'>").concat(n.address,"</p>\n    </div>"):"","\n          ").concat(n.note&&(w(n.start,n.end)>3||!n.address)?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='","client-note ".concat(w(n.start,n.end)<=6?"nowrap":""),"'>").concat(n.note,"</p>\n    </div>"):"","\n        </div>"):"","\n      </div>\n    "))),$(s).appendTo(i)}(n,a,e,c,t)),"agendaFourDay"===t.name&&(i<=60?function(n,a,t,e,c){var i=$(a[0].children[0]);$(i).addClass("ev-custom");var s,o=n.services?n.services.reduce(function(n,a){return a.name&&a.name?n+"".concat(a.name)+(a.count>1?" ⨯ ".concat(a.count,","):""):n},""):[];n.services&&(o=o.split(",")),w(n.start,n.end)>=.5&&w(n.start,n.end)<2&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time shortOff'>\n          <p class='name_full'>".concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service weeklyflex overlayOne'>\n            ".concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1),"</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1),"</p>"),"\n    </div>"))),w(n.start,n.end)>=2&&w(n.start,n.end)<3&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time twoOff'>\n          <p class='event-start'>".concat(t,"</p>\n          <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service twoline'>\n            ".concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1),"</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1),"</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>"))),w(n.start,n.end)>=3&&w(n.start,n.end)<4&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time threeOff'>\n        <div class='time-name'>\n          <p class='event-start'>".concat(t,"</p>\n          <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        </div>\n          <div class='note-address'>\n        ").concat(n.address?"<div class='address-wrap'>\n        <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n    <p class='client-address'>").concat(n.address,"</p>\n    </div>"):"","\n          ").concat(n.note&&!n.address?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='","client-note ".concat(w(n.start,n.end)<=4?"nowrap":""),"'>").concat(n.note,"</p>\n    </div>"):"","\n        </div>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service threeline overlayThree'>\n            ".concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1),"</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1),"</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o,"</p>\n    ").concat(n.address?"<div class='address-wrap'>\n           <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n      <p class='client-address'>").concat(n.address,"</p>\n      </div>"):"","\n    ").concat(n.note&&!n.address?"<div class='note-wrap'>\n    <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n    <p class='","client-note ".concat(w(n.start,n.end)<=4?"nowrap":""),"'>").concat(n.note,"</p>\n  </div>"):"","\n    </div>"))),w(n.start,n.end)>=4&&w(n.start,n.end)<5&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time threeOff'>\n      <div class='time-name'>\n        <p class='event-start'>".concat(t,"</p>\n        <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n      </div>\n        <div class='note-address'>\n      ").concat(n.address?"<div class='address-wrap'>\n        <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n        <p class='client-address'>").concat(n.address,"</p>\n      </div>"):"","\n        ").concat(n.note?"<div class='note-wrap'>\n    <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n    <p class='","client-note ".concat(w(n.start,n.end)<=4?"nowrap":""),"'>").concat(n.note,"</p>\n  </div>"):"","\n      </div>\n      </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service fourline overlayFour'>\n            ".concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1)).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1)).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n        ").concat(n.address?"<div class='address-wrap'>\n        <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n        <p class='client-address'>").concat(n.address,"</p>\n      </div>"):"","\n          ").concat(n.note?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='","client-note ".concat(w(n.start,n.end)<=4?"nowrap":""),"'>").concat(n.note,"</p>\n    </div>"):"","\n    </div>"))),w(n.start,n.end)>=5&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time fullOff overlayOff'>\n        <p class='event-start'>".concat(t,"</p>\n        <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        <div class='note-address'>\n      ").concat(n.address?"<div class='address-wrap'>\n      <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n      <p class='client-address'>").concat(n.address,"</p>\n  </div>"):"","\n        ").concat(n.note?"<div class='note-wrap'>\n    <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n    <p class='","client-note ".concat(w(n.start,n.end)<=4?"nowrap":""),"'>").concat(n.note,"</p>\n  </div>"):"","\n      </div>\n      </div>"):"<div class='click-mask'></div><div class='custom-event fullWeekly overlayFull'>\n          <div class='foto-time'>\n            <div class='time-info'>\n            <p class='event-start'>".concat(t," - ").concat(e,"</p>\n          </div>\n          <div class='name-service'>\n          ").concat(n.name?"<p class='client-name'>".concat(n.name).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n          <p class='services-name'>").concat(o.map(function(n){return"<span class='service-item'>".concat(n,"</span>")}).join(" "),"</p>\n          </div>\n        </div>\n        <div class='note-address'>\n        ").concat(n.address?"<div class='address-wrap'>\n        <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n        <p class='client-address'>").concat(n.address,"</p>\n      </div>"):"","\n          ").concat(n.note?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='","client-note ".concat(w(n.start,n.end)<=4?"nowrap":""),"'>").concat(n.note,"</p>\n    </div>"):"","\n      </div>\n    "))),$(s).appendTo(i)}(n,a,e,c,t):function(n,a,t,e,c){var i=$(a[0].children[0]);$(i).addClass("ev-custom");var s,o=n.services?n.services.reduce(function(n,a){return a.name&&a.name?n+"".concat(a.name)+(a.count>1?" ⨯ ".concat(a.count,","):""):n},""):[];n.services&&(o=o.split(",")),w(n.start,n.end)>=.5&&w(n.start,n.end)<2&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time shortOff'>\n          <p class='name_full'>".concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n          <p class='event-start'>").concat(t,"</p>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service weeklyflex'>\n            ".concat(n.name?"<p class='client-name'>".concat(n.name,"</p>"):"<p class='client-name'>".concat(config.translations.occasional,"</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0].slice(0,2)+" +"+(o.length-1):o[0],"</p>\n    <p>").concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>\n    </div>"))),w(n.start,n.end)>=2&&w(n.start,n.end)<3&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time twoOff'>\n          <p class='event-start'>".concat(t," - ").concat(e,"</p>\n          <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service twoline'>\n            ".concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1)).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1)).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>"))),w(n.start,n.end)>=3&&w(n.start,n.end)<4&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time threeOff'>\n        <div class='time-name'>\n          <p class='event-start'>".concat(t," - ").concat(e,"</p>\n          <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        </div>\n          <div class='note-address'>\n        ").concat(n.address?"<div class='address-wrap'>\n       <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n    <p class='client-address'>").concat(n.address,"</p>\n    </div>"):"","\n          ").concat(n.note?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='client-note nowrap'>").concat(n.note,"</p>\n    </div>"):"","\n        </div>\n        </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service threeline'>\n    <p class='event-start'>".concat(t," - ").concat(e,"</p>\n    ").concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1)).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1)).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    </div>"))),w(n.start,n.end)>=4&&w(n.start,n.end)<5&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time threeOff'>\n      <div class='time-name'>\n        <p class='event-start'>".concat(t," - ").concat(e,"</p>\n        <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n      </div>\n        <div class='note-address'>\n      ").concat(n.address?"<div class='address-wrap'>\n      <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n  <p class='client-address'>").concat(n.address,"</p>\n  </div>"):"","\n        ").concat(n.note?"<div class='note-wrap'>\n    <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n    <p class='client-note nowrap'>").concat(n.note,"</p>\n  </div>"):"","\n      </div>\n      </div>"):"<div class='click-mask'></div><div class='custom-event'>\n    <div class='name-service fourline'>\n    <p class='event-start'>".concat(t," - ").concat(e,"</p>\n            ").concat(n.name?"<p class='client-name'>".concat(n.name.split(" ",1)).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional.split(" ",1)).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n    <p class='services-name single'>").concat(o.length>1?o[0]+" +"+(o.length-1):o[0],"</p>\n    <div class='note-address'>\n        ").concat(n.address?"<div class='address-wrap'>\n        <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n    <p class='client-address'>").concat(n.address,"</p>\n    </div>"):"","\n          ").concat(n.note&&!n.address?"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='","client-note ".concat(w(n.start,n.end)<=4?"nowrap":""),"'>").concat(n.note,"</p>\n    </div>"):"","\n        </div>\n    </div>"))),w(n.start,n.end)>=5&&(s=$(n.off_time?"<div class='click-mask'></div><div class='off_time fullOff'>\n      <div class='time-name'>\n        <div class='off_time_wrap'>\n          <img class='off_time_img' src='".concat("break"===n.off_time?"".concat(config.urls.staticImg,"/break.svg"):"".concat(config.urls.staticImg,"/meeting.svg"),"' />\n        </div>\n        <p class='event-start'>").concat(t," - ").concat(e,"</p>\n        </div>\n        <p class='name_full'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n        <div class='note-address'>\n      ").concat(n.address?"<div class='address-wrap'>\n      <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n  <p class='client-address'>").concat(n.address,"</p>\n  </div>"):"","\n        ").concat(n.note?"<div class='note-wrap'>\n    <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n    <p class='client-note nowrap'>").concat(n.note,"</p>\n  </div>"):"","\n      </div>\n      </div>"):"<div class='click-mask'></div><div class='custom-event fullWeekly'>\n          <div class='foto-time'>\n             <div class='foto-name'>\n            ".concat("agendaFourDay"===c.name?"".concat(n.profile_picture&&n.client_id&&n.client_id>=0?"<div class='normalSize'><img class='fit normalSize' src='".concat(config.urls.imgForClients.replace("{client_id}","".concat(n.client_id))+n.profile_picture,"' onerror=\"this.onerror=null;this.src='").concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"';\"/></div>"):!n.client_id||n.client_id<=0?"<div><img class='fit normalSize' src='".concat(config.urls.imgForOccasionalClients).concat(config.occasionalClientPhoto,"' /></div>"):"<div><img class='fit normalSize' src='".concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"' /></div>")):"","\n<div class='time-info'>\n            <p class='event-start'>").concat(t," - ").concat(e,"</p>\n            <div class='short-cont'>\n              <div class='duration-wrap'>\n                <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                <div class='event-duration'>").concat(v(n.end-n.start),"</div>\n              </div>\n            </div>\n          </div>\n          </div>\n          <div class='name-service'>\n          ").concat(n.name?"<p class='client-name'>".concat(n.name).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"):"<p class='client-name'>".concat(config.translations.occasional).concat(n.birthdate?u(n,c.dateProfile.date):"").concat(n.has_debt?"<span class='debt'><img class='mini' src='".concat(config.urls.staticImg,"/debt1.svg'></span>"):"","</p>"),"\n          <p class='services-name'>").concat(o.map(function(n){return"<span class='service-item'>".concat(n,"</span>")}).join(" "),"</p>\n          </div>\n        </div>\n        <div class='note-address'>\n        ").concat(n.address?"<div class='address-wrap'>\n        <div class='img-wrap'><img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'></div>\n    <p class='client-address'>").concat(n.address,"</p>\n    </div>"):"","\n          ").concat(!n.note||n.address&&5===w(n.start,n.end)?"":"<div class='note-wrap'>\n      <div class='img-wrap'><img class='feather' src='".concat(config.urls.staticImg,"/feather.svg'></div>\n      <p class='client-note nowrap'>").concat(n.note,"</p>\n    </div>"),"\n      </div>\n    "))),$(s).appendTo(i)}(n,a,e,c,t))}},Y=function(n,a){var t=window.loadedEventsMap[n.format("YYYY-MM-DD")];$(a).removeClass("dayOfRest easyDay normalDay busyDay");var e=$("#calendar").fullCalendar("option","businessHours");if(t&&e){var c=t.map(function(n){return moment(n.end)-moment(n.start)}),i=e.filter(function(a){return a.dow.includes(moment(n).day())}),s=0!==i.length&&1e3*(p(i[0].end)-p(i[0].start));$(a).addClass(0===i.length?"dayOff":function(n,a){var t=n/a;return 0===t?"dayOfRest":t<.3?"easyDay":t<.6?"normalDay":t<=1||t>1?"busyDay":void 0}(function(n){for(var a=0,t=0;t<n.length;t++)a+=n[t];return a}(c),s))}},D=function(n){"month"===n.name&&setTimeout(function(){if(window.loadedEvents)for(var n=$(".fc-day-grid .fc-bg .fc-day"),a=0;a<n.length;a++){var t=n[a],e=moment($(t).attr("data-date"));Y(e,t)}},10),function(){for(var n=$(".fc-more-cell"),a=0,t=n.length;a<t;a++){var e=k(n[a]);$(document.elementsFromPoint(e.x,e.y)).filter(".fc-bg .fc-other-month").length&&$(n[a]).find(".fc-more").css({filter:"opacity(55%)"})}}()},I=t(0),M=t.n(I),T=(t(7),function(n,a){var t=$("#calendar").fullCalendar("getView"),c=M.a.parse(window.location.search.slice(1)),i=function(){return $(".deleteModal").remove()},s=n.name&&""!==n.name?n.name:config.translations.occasional,o=$("<div id='modal-background' class='deleteModal'>\n      <div class='confirm-block'>\n          <figure class='modal-body'>\n            <img class='icon' src=".concat(config.urls.staticImg+"/trash-del.svg"," />\n            ").concat(n.off_time?"<figcaption class='text'>".concat(config.translations.del_question_off_time.replace("{off_time_type}",config.translations.off_time_labels[n.off_time]),"</figcaption>"):"<figcaption class='text'>".concat(config.translations.del_question_appointment.replace("{client_name}",s),"</figcaption>"),"\n            \n          </figure>\n        <div class='modal-footer'>\n          <button class='no-btn'>").concat(config.translations.cancel.toUpperCase(),"<img class='cancel-img' src=").concat(config.urls.staticImg+"/plus-blue.svg"," /></button>\n          <button class='yes-btn'>").concat(config.translations.confirm.toUpperCase(),"<img src=").concat(config.urls.staticImg+"/confirm.svg"," /></button>\n        </div>\n      </div> \n    </div>"));$(".deleteModal").length||$("body").append(o),$(".modal-body").on("click",function(n){return n.stopPropagation()}),$(".no-btn").on("click",i),$(".deleteModal").on("click",i),$(".yes-btn").on("click",function(){var n,i;(n=a,i="".concat(config.urls.appointmentsUrl,"/").concat(n),e(i,{method:"DELETE"})).then(function(n){if(204===n.status){if($("#calendar").fullCalendar("removeEvents",[a]),"agendaDay"===t.name){var e=$(".fc-agendaDay-view ");tn(t,e)}$(".eventPopupCont").remove(),history.replaceState(null,null,window.location.search?"".concat(config.urls.startUrl,"/").concat(t.intervalStart.format("YYYY-MM-DD"))+window.location.search:"".concat(config.urls.startUrl,"/").concat(t.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(c.calendar_view_type)),W()}})})});t(8);var S,O=function(n,a){var t,e=config.translations.dates.days,c=$("#calendar").fullCalendar("getView");if("month"===c.name&&($(".formonth").addClass("hidden"),$("#calendar").fullCalendar("option","contentHeight","auto"),$("#calendar").fullCalendar("changeView","daily",n.start),pn()),"month"!==c.name){("daily"===c.name&&a||"agendaFourDay"===c.name&&a)&&(a.preventDefault(),a.stopPropagation());var i=n.services?n.services.reduce(function(n,a){return a.name&&a.name?n+"".concat(a.name,","):n},""):[];n.services&&(i=(i=i.slice(0,-1)).split(",")),console.log(n);var s,o,r=config.translations.dates.fullMonths,l=(config.translations.dates.daysFull,g(n.start.hours().toString(),n.start.minutes().toString())),d=n.end?g(n.end.hours().toString(),n.end.minutes().toString()):"",f=$(n.off_time?"<div class='eventPopupCont'><div class='eventPopup offTimePopup' style='".concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'>\n      <div class='client-view'>\n      <div class='backgroundForOfftime'>\n        <div class='close-popup' style='").concat(config.calendar.isRTL?"left: 20px":"right: 20px","'><span class='popup-cross'>&times;</span></div>\n        <div class='client-page'>\n          ").concat(n.off_time?"<p class='client-name'>".concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p>"):"","\n          </div>\n        </div>\n        </div>\n        <div class='service-wrapper service-relative'>\n            <div class='date-info upperWrap wrap-item' style='").concat(config.calendar.isRTL?"right: -50%":"left: -50%","'>\n              <div class='service-date'>\n                <div class='img'>\n                  <img class='img-service' src='").concat(config.urls.staticImg,"/calendar.svg'>\n                </div>\n                <div class='date-wrap'>\n                  <p>\n                  <span class='hour'>").concat(e[moment(c.intervalStart).days()],"</span>\n                  <span class='monthDay'>").concat(moment(n.start).format("DD")+" "+r[moment(c.intervalStart).month()],'</span>\n                  <span class="dayOfWeek">').concat(moment(n.start).format("YYYY"),"</span>\n                  </p>\n                  ").concat(n.durationEditable?"<p class='approved'>".concat(config.translations.approved,"</p>"):"","\n                </div>\n              </div>\n              <div class='time-dur'>\n                <p class='time'>").concat(l," - ").concat(d,"</p> \n                <div class='duration'>\n                  <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                  <div class='event-duration'>").concat(v(n.end-n.start),"</div>\n                </div>\n              </div>\n            </div>\n            ").concat(n.note?"<div class='notes wrap-item'>\n              <div class='img'>\n                <img class='img-notes' src='".concat(config.urls.staticImg,"/feather.svg'>\n              </div>\n              <div class='notes-cont'>\n              <h3 class='caption'>").concat(config.translations.notes,"</h3>\n              <p class='notes-txt'>").concat(n.note,"</p>\n            </div>\n          </div>"):"","\n            ").concat(n.address?"<div class='location wrap-item'>\n            <div class='location-wrap'>\n              <div class='img'>\n                <img class='location-circle' src='".concat(config.urls.staticImg,"/circle-location.svg'>\n                <img class='img-location' src='").concat(config.urls.staticImg,"/address.svg'>\n              </div>\n              <div class='location-cont'>\n                <h3 class='caption'>").concat(config.translations.address,"</h3>\n                <p class='address-loc'>").concat(n.address,"</p>\n              </div>\n            </div>\n            <div class='location-icon'>\n              <a class='link-maps' href=").concat(config.urls.google_maps.replace("{address}",n.address),"><img class='img-google-maps' src='").concat(config.urls.staticImg,"/google-maps.svg'></a>\n              <a class='link-maps' href=").concat(config.urls.waze.replace("{address}",encodeURIComponent(n.address)),"><img class='img-waze' src='").concat(config.urls.staticImg,"/waze.svg'></a>\n            </div>\n          </div>"):"","\n          </div>\n          <div class='btn-section'>\n            <div class='btn-container'>\n              <div class='btn-wrap'>\n                <button class='btn-styl edite'>").concat(config.translations.edit,"<img class='btn-img' src='").concat(config.urls.staticImg,"/edit-2.svg'></button>\n                <button class='btn-styl delete'>").concat(config.translations.delete,"<img class='btn-img' src='").concat(config.urls.staticImg,"/delete.svg'></button>\n              </div>\n            </div>\n          </div>\n          </div></div>"):"<div class='eventPopupCont'><div class='eventPopup' style='".concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'>\n      <div class='client-view'>\n      <div class='gradient'>\n        <div class='close-popup' style='").concat(config.calendar.isRTL?"left: 20px":"right: 20px","'><span class='popup-cross'>&times;</span></div>\n        <div class='client-page'>\n        <div class='client-info'>\n        <div class='client-icons'>\n        ").concat(n.client_id?"<div class='wrap-icons'>\n        ".concat(n.birthdate?function(n,a){return 5===n.birthdate.length?moment("2018-".concat(n.birthdate)).format("MM")===moment(a).format("MM")?"<div class='icons-item'><div class='wrap-icons'><img src='".concat(config.urls.staticImg,"/white-bday.svg'></div><span>").concat(config.translations.birthday,"</span></div>"):"":10===n.birthdate.length?moment(n.birthdate).format("MM")===moment(a).format("MM")?"<div class='icons-item'><div class='wrap-icons'><img src='".concat(config.urls.staticImg,"/white-bday.svg'></div><span>").concat(config.translations.birthday,"</span></div>"):"":void 0}(n,c.dateProfile.date):"","\n        ").concat(n.has_debt?"<div class='icons-item'><div class='wrap-icons'><img src='".concat(config.urls.staticImg,"/white-debt.svg'></div><span>").concat(config.translations.debt,"</span></div>"):"","\n    </div>"):"","\n          </div>\n          </div>\n          ").concat(n.off_time?"<div class='strip-name'><p class='client-name'><img class='user-def' src='".concat(config.urls.staticImg,"/user.svg'>").concat("break"===n.off_time?config.translations.business_lunch:config.translations.meeting,"</p></div>"):n.name&&n.name?"<div class='strip-name'><p class='client-name'><img class='user-def' src='".concat(config.urls.staticImg,"/user.svg'>").concat(n.name,"</p></div>"):"<div class='strip-name'><p class='client-name'><img class='user-def' src='".concat(config.urls.staticImg,"/user.svg'>").concat(config.translations.occasional,"</p></div>"),"\n          </div>\n          ").concat(n.phone?"<div class='strip-phone'>\n            <div class='call ".concat(n.status?"":"no-status","'>\n              <a href='sms:").concat(n.phone,"'><button class='btn-sms'><img class='img-sms' src='").concat(config.urls.staticImg,"/sms.svg'></button></a>\n              <div class='wrap-tel'><a class='tel' href='tel:").concat(n.phone,"'><img class='img-tel' src='").concat(config.urls.staticImg,"/phone-call 2.svg'><span>").concat(n.phone,"</span></a></div>\n            </div>\n            ").concat(n.status?"  <div class='status'>\n              <p class='status-text'>".concat(n.status,"</p>\n            </div>"):"","\n          </div>"):"","\n        </div>\n        </div>\n        <div class='service-wrapper'>\n            <div class='date-info wrap-item'>\n              <div class='service-date'>\n                <div class='img'>\n                  <img class='img-service' src='").concat(config.urls.staticImg,"/calendar.svg'>\n                </div>\n                <div class='date-wrap'>\n                  <p>\n                  <span class='hour'>").concat(e[moment(c.intervalStart).days()],"</span>\n                  <span class='monthDay'>").concat(moment(n.start).format("DD")+" "+r[moment(c.intervalStart).month()],'</span>\n                  <span class="dayOfWeek">').concat(moment(n.start).format("YYYY"),"</span>\n                  </p>\n                  ").concat(n.durationEditable?"<p class='approved'>".concat(config.translations.approved,"</p>"):"","\n                </div>\n              </div>\n              <div class='time-dur'>\n                <p class='time'>").concat(l," - ").concat(d,"</p> \n                <div class='duration'>\n                  <img class='mini' src='").concat(config.urls.staticImg,"/clock.svg'>\n                  <div class='event-duration'>").concat(v(n.end-n.start),"</div>\n                </div>\n              </div>\n            </div>\n            ").concat(n.services&&n.services.length>0?"<div class='service-cont wrap-item'>\n                <div class='service-wrap'>\n                  <div class='img-wrap'>\n                    <img class='img-service' src='".concat(config.urls.staticImg,"/credit-card.svg'>\n                  </div>\n                  <div class='service-name'>\n                    <h3 class='caption'>").concat(config.translations.services,"</h3>\n                    <div class='item-wrap'>\n                      ").concat(n.services.reduce(function(n,a){return a.count&&a.count>1?n+"<p>".concat(a.name,"<span class='count-service'>").concat("⨯ "+a.count,"</span></p>"):n+"<p>".concat(a.name,"</p>")},""),"\n                    </div>\n                  </div>\n                </div>\n                ").concat(n.total_price?"<div class='price'>\n                  <span>".concat(n.total_price+" "+config.currency,"</span>\n                </div>"):"","\n                </div>"):"","\n            ").concat(n.note?"<div class='notes wrap-item'>\n              <div class='img'>\n                <img class='img-notes' src='".concat(config.urls.staticImg,"/feather.svg'>\n              </div>\n              <div class='notes-cont'>\n              <h3 class='caption'>").concat(config.translations.notes,"</h3>\n              <p class='notes-txt'>").concat(n.note,"</p>\n            </div>\n          </div>"):"","\n            ").concat(n.address?"<div class='location wrap-item'>\n            <div class='location-wrap'>\n              <div class='img'>\n                <img class='location-circle' src='".concat(config.urls.staticImg,"/circle-location.svg'>\n                <img class='img-location' src='").concat(config.urls.staticImg,"/address.svg'>\n              </div>\n              <div class='location-cont'>\n                <h3 class='caption'>").concat(config.translations.address,"</h3>\n                <p class='address-loc'>").concat(n.address,"</p>\n              </div>\n            </div>\n            <div class='location-icon'>\n              <a class='link-maps' href=").concat(config.urls.google_maps.replace("{address}",n.address),"><img class='img-google-maps' src='").concat(config.urls.staticImg,"/google-maps.svg'></a>\n              <a class='link-maps' href=").concat(config.urls.waze.replace("{address}",encodeURIComponent(n.address)),"><img class='img-waze' src='").concat(config.urls.staticImg,"/waze.svg'></a>\n            </div>\n          </div>"):"","\n          </div>\n          <div class='btn-section'>\n            <div class='btn-container'>\n              <div class='btn-wrap'>\n                <button class='btn-styl edite'>").concat(config.translations.edit,"<img class='btn-img edit' src='").concat(config.urls.staticImg,"/edit-2.svg'></button>\n                <button class='btn-styl delete'>").concat(config.translations.delete,"<img class='btn-img delete' src='").concat(config.urls.staticImg,"/delete.svg'></button>\n              </div>\n            </div>\n          </div>\n          </div></div>"));$(".eventPopupCont").length||$("body").append(f),$(".status-text").click(function(){$(".status-text").toggleClass("full")}),"break"===n.off_time?(s="".concat(config.urls.staticImg,"/break-bgr.png"),o="".concat(config.urls.staticImg,"/break-bgr.png")):"meeting"===n.off_time?(s="".concat(config.urls.staticImg,"/meeting-bgr.png"),o="".concat(config.urls.staticImg,"/meeting-bgr.png")):!n.client_id||n.client_id<=0?(s="".concat(config.urls.imgForOccasionalClients).concat(config.occasionalClientPhoto),o="".concat(config.urls.imgForOccasionalClients).concat(config.occasionalClientPhoto)):(s="".concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto),o=config.urls.imgForClients.replace("{client_id}","".concat(n.client_id))+(t=n.profile_picture,encodeURIComponent(t).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16)}))),$(".client-view").css({backgroundImage:"url("+o+"), url("+s+")"}),$($("html")[0]).addClass("no-scroll"),$($("body")[0]).addClass("no-scroll"),$(".close-popup").on("click",function(){var n=M.a.parse(window.location.search.slice(1));window.history.replaceState(null,null,"".concat(config.urls.startUrl,"/").concat(c.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(n.calendar_view_type)),$(".eventPopupCont").remove(),$($("html")[0]).removeClass("no-scroll"),$($("body")[0]).removeClass("no-scroll")}),n.client_id&&n.client_id>=0&&$(".client-page").on("click",function(){window.location="".concat(config.urls.clientPage,"/").concat(n.client_id)}),$(".edite").on("click",function(){var a=M.a.parse(window.location.search.slice(1));window.history.replaceState(null,null,"".concat(config.urls.startUrl,"/").concat(c.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(a.calendar_view_type));var t="".concat(moment(n.start).format("YYYY-MM-DD"),"T").concat(moment(n.start).format("HH:mm:ss")),e="appointment_id=".concat(n.id,"&start=").concat(t,"&duration=").concat(Math.floor(moment(n.end-n.start)/6e4));n.client_id&&n.client_id>=0&&(e+="&client_id=".concat(n.client_id)),n.total_price&&(e+="&total_price=".concat(n.total_price)),n.address&&(e+="&address=".concat(encodeURIComponent(n.address))),n.note&&(e+="&note=".concat(encodeURIComponent(n.note))),n.services&&(e+="&services=".concat(JSON.stringify(n.services).replace(/#/g,encodeURIComponent("#")))),config.activeWorkerId&&(e+="&worker_id=".concat(config.activeWorkerId));var i="".concat(config.urls.creatingAppointmentLink,"?").concat(e,"&calendar_view_type=").concat(a.calendar_view_type);window.location=i}),$(".delete").on("click",function(){T(n,n.id),$($("html")[0]).removeClass("no-scroll"),$($("body")[0]).removeClass("no-scroll")})}},x=function(n,a,t,e,c){o(n,a,e).then(function(n){n.refresh&&$("#calendar").fullCalendar("removeEventSources"),$("#calendar").fullCalendar("addEventSource",function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=function(n,a){var t={};return a?n.forEach(function(n){t[n.id]=n}):n.forEach(function(n){t[n.id]=!0}),t},t=a($("#calendar").fullCalendar("clientEvents")),e=n.filter(function(n){return!t[n.id]}),c=a(e,!0);return Object.keys(c).map(function(n){return c[n]})}(n.events)),window.loadedEvents=$("#calendar").fullCalendar("clientEvents"),window.loadedEventsMap=window.loadedEvents.reduce(function(n,a){var t=a.start.format("YYYY-MM-DD");return n[t]||(n[t]=[]),n[t].push(a),n},{}),t&&($("#calendar").fullCalendar("next"),$("#calendar").fullCalendar("prev")),c&&c()})},P=function(){for(var n=arguments.length,a=new Array(n),t=0;t<n;t++)a[t]=arguments[t];window.myEventsTimeout&&(window.clearTimeout(window.myEventsTimeout),window.myEventsTimeout=null),window.myEventsTimeout=window.setTimeout(function(){return x.apply(void 0,a)},400)},R=function(n){var a=$("#calendar").fullCalendar("getView"),t=config.translations.dates.daysFull,e=config.translations.dates.days;return"agendaDay"===a.name?t[moment(a.intervalStart).days()]:"daily"===a.name?t[moment(a.intervalStart).days()]:"agendaFourDay"===a.name?"".concat(e[n.format("d")]," ").concat(n.format("D")):"month"===a.name?e[n.format("d")]:void 0},L=function(){var n=$("#calendar").fullCalendar("getView"),a=$("#calendar").fullCalendar("getDate"),t=config.translations.dates.fullMonths,e=config.translations.dates.days;if("month"===n.name){$(".swiper-background .swiper-slide .fit").css({display:"block"});var c=$("#header").height(),i=config.workers.length>1?$(".swiper-visible").outerHeight():0;$("#calendar").css({marginTop:c+i-1}),$(".current_date_field").removeClass("for_today"),$(".today").html("");var s=t[moment(n.intervalStart).month()],o=moment($("#calendar").fullCalendar("getDate")).format("YYYY");$(".current_date_field").html(s),$(".this_week").html(o),$(".daily_wrap_label").html("<img class='img_view' src='".concat(config.urls.staticImg,"/change_view.svg'></img>").concat(config.translations.agenda)),moment().format("YYYY-MM")===n.intervalStart.format("YYYY-MM")?($(".today_wrap").prop("disabled",!0),$(".today_wrap").addClass("disabled")):($(".today_wrap").prop("disabled",!1),$(".today_wrap").removeClass("disabled")),history.replaceState(null,null,"".concat(config.urls.startUrl,"/").concat(a.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=monthly"))}if("agendaFourDay"===n.name){$(".current_date_field").html(moment(n.intervalStart).format("DD")+" - "+moment(n.intervalEnd).subtract(1,"days").format("DD")+" "+t[moment(n.intervalStart).month()].slice(0,3)),$(".daily_wrap_label").html("<img class='img_view' src='".concat(config.urls.staticImg,"/change_view.svg'></img>").concat(config.translations.monthly)),$(".today").html(""),$(".custom-calendar-header").removeClass("hidden");var r=$("#header").height(),l=$(".swiper-background").height(),d=$(".custom-calendar-header").height();$("#calendar").css({marginTop:r+l+d-1-(config.workers.length>1?10:20)});var f=moment().format("YYYY-MM-DD");moment(f).isBetween(n.intervalStart.subtract(1,"days").format("YYYY-MM-DD"),n.intervalEnd.format("YYYY-MM-DD"))?($(".this_week").html(config.translations.thisWeek),$(".current_date_field").removeClass("for_today"),$(".today_wrap").prop("disabled",!0),$(".today_wrap").addClass("disabled")):($(".today_wrap").prop("disabled",!1),$(".today_wrap").removeClass("disabled"),$(".this_week").html("")),history.replaceState(null,null,window.location.search?"".concat(config.urls.startUrl,"/").concat(n.intervalStart.add(1,"days").format("YYYY-MM-DD"))+window.location.search:"".concat(config.urls.startUrl,"/").concat(n.intervalStart.add(1,"days").format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=weekly"))}if("agendaDay"===n.name){$(".current_date_field").html(e[moment(n.intervalStart).days()]+", "+t[moment(n.intervalStart).month()].slice(0,3)+" "+moment(n.intervalStart).format("DD")),$(".daily_wrap_label").html("<img class='img_view' src='".concat(config.urls.staticImg,"/change_view.svg'></img>").concat(config.translations.daily)),$(".this_week").html("");var m=$("#header").height(),g=$(".swiper-background").height();$("#calendar").css({marginTop:m+g+(config.workers.length>1?10:0)-1}),moment().format("YYYY-MM-DD")===n.intervalStart.format("YYYY-MM-DD")?($(".current_date_field").addClass("for_today"),$(".today").html(config.translations.today),$(".today_wrap").prop("disabled",!0),$(".today_wrap").addClass("disabled")):($(".current_date_field").removeClass("for_today"),$(".today_wrap").prop("disabled",!1),$(".today_wrap").removeClass("disabled"),$(".today").html("")),moment().format("YYYY-MM-DD")===n.intervalStart.format("YYYY-MM-DD")?$(".today").html(config.translations.today):$(".today").html(""),history.replaceState(null,null,window.location.search?"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"))+window.location.search:"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=agenda"))}if("daily"===n.name){$(".current_date_field").html(e[moment(n.intervalStart).days()]+", "+t[moment(n.intervalStart).month()].slice(0,3)+" "+moment(n.intervalStart).format("DD")),$(".daily_wrap_label").html("<img class='img_view' src='".concat(config.urls.staticImg,"/change_view.svg'></img>").concat(config.translations.weekly)),$(".this_week").html("");var v=$("#header").height(),p=$(".swiper-background").height();$("#calendar").css({marginTop:v+p+(config.workers.length>1?10:0)-1}),moment().format("YYYY-MM-DD")===n.intervalStart.format("YYYY-MM-DD")?($(".current_date_field").addClass("for_today"),$(".today").html(config.translations.today),$(".today_wrap").prop("disabled",!0),$(".today_wrap").addClass("disabled")):($(".current_date_field").removeClass("for_today"),$(".today_wrap").prop("disabled",!1),$(".today_wrap").removeClass("disabled"),$(".today").html("")),history.replaceState(null,null,window.location.search?"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"))+window.location.search:"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=daily"))}},H=function(n,a){clearTimeout(S),S=setTimeout(function(){window.location="".concat(config.urls.creatingAppointmentLink,"?start=").concat(n,"&worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(a.calendar_view_type)},50)},j=function(n,a,t){var e=M.a.parse(window.location.search.slice(1)),c="".concat(moment(n).format("YYYY-MM-DD"),"T").concat(moment(n).format("HH:mm:ss"));if("daily"===t.name){var i=$(".fc-body");$(i).off("click"),$(i).on("click",function(){$("#calendar").fullCalendar("option","businessHours").forEach(function(a){var t=config.calendar.eventOverlap,i=a.dow.includes(moment(n).day()),s=moment(n).format("YYYY-MM-DD"),o=moment(moment(n).format("YYYY-MM-DD HH:mm")).valueOf(),r=moment("".concat(s," ").concat(a.start),"YYYY-MM-DD HH:mm").valueOf(),l=moment("".concat(s," ").concat(a.end),"YYYY-MM-DD HH:mm").valueOf();!t&&i&&o>=r&&o<l?(console.log("creating"),H(c,e)):t&&(console.log("creating"),H(c,e))})})}if("agendaFourDay"===t.name){var s=$(".fc-body");$(s).off("click"),$(s).on("click",function(){$("#calendar").fullCalendar("option","businessHours").forEach(function(a){var t=config.calendar.eventOverlap,i=a.dow.includes(moment(n).day()),s=moment(n).format("YYYY-MM-DD"),o=moment(moment(n).format("YYYY-MM-DD HH:mm")).valueOf(),r=moment("".concat(s," ").concat(a.start),"YYYY-MM-DD HH:mm").valueOf(),l=moment("".concat(s," ").concat(a.end),"YYYY-MM-DD HH:mm").valueOf();!t&&i&&o>=r&&o<l?(console.log("creating"),H(c,e)):t&&(console.log("creating"),H(c,e))})})}if("month"===t.name){var o=$(".fc-body")[0];$(o).off("click"),$(o).on("click",function(){$(".formonth").addClass("hidden"),$("#calendar").fullCalendar("option","contentHeight","auto"),$("#calendar").fullCalendar("changeView","daily",n),pn()})}},E=function(n){return n?60*n.hours()+n.minutes():"00"},F=function(){var n=M.a.parse(window.location.search.slice(1)),a=$("#calendar").fullCalendar("getView");if("true"===n.appointment_view)for(var t in n)n.hasOwnProperty(t)&&function(){var e=t,c=n[t];if("appointment_id"===e){var i=$("#calendar").fullCalendar("getDate").format("YYYY-MM-DD"),s=$("#calendar").fullCalendar("clientEvents").find(function(n){return n.id==c&&moment(n.start).format("YYYY-MM-DD")===i});s&&(history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(a.intervalStart.format("YYYY-MM-DD"),"/appointments/").concat(s.id,"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(n.calendar_view_type)),O(s),$("#calendar").fullCalendar("changeView",config.calendar.defaultView,config.calendar.defaultDate))}}()},V=function(n,a){if(z(),"agendaDay"===n.name){var t=$(a[0].children[0].children[1]);t.hasClass("swiper-wrapper")||t.empty()}},W=function(){var n=$("#calendar").fullCalendar("getView"),a=$("#calendar").fullCalendar("clientEvents");if("daily"===n.name){var t=moment(n.dateProfile.date).subtract(1,"days").format("YYYY-MM-DD"),e=moment(t).add(2,"days").format("YYYY-MM-DD"),c=a.filter(function(n){return moment(n.start).isBetween(t,e)});rn(c)}else if("agendaFourDay"===n.name){var i=moment(n.dateProfile.date).subtract(1,"days").format("YYYY-MM-DD"),s=moment(i).add(5,"days").format("YYYY-MM-DD"),o=a.filter(function(n){return moment(n.start).isBetween(i,s)});rn(o)}},A=function(n){(function(n,a){var t="".concat(config.urls.appointmentsUrl,"/").concat(n),c={method:"PATCH",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"end=".concat(encodeURIComponent(a))};return e(t,c)})(n.id,moment(n.end).format("YYYY-MM-DD HH:mm:ss")).then(W())},N=function(n){(function(n,a){var t="".concat(config.urls.appointmentsUrl,"/").concat(n),c={method:"PATCH",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"start=".concat(encodeURIComponent(a))};return e(t,c)})(n.id,moment(n.start).format("YYYY-MM-DD HH:mm:ss")).then(W())};function U(n){return function(n){if(Array.isArray(n)){for(var a=0,t=new Array(n.length);a<n.length;a++)t[a]=n[a];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var z=function(){var n=$("#calendar").fullCalendar("getView");if("daily"===n.name&&0===$(".timeBox").length){var a=$(".fc-daily-view .fc-body"),t=$("<div>",{class:"timeBox"}).appendTo(a),e=$(".fc-bg .fc-axis.fc-widget-content").innerWidth(),c=$(".fc-daily-view").height();$(".fc-head .fc-day-header").innerHeight();$(t).css({width:e+1,height:c});var i=U($(".fc-axis.fc-time span").map(function(n,a){return"<div class='time-week'><span class='time-text'>".concat($(a).text(),"</span></div>")})).join("");$(i).appendTo($(".timeBox")),B()}if("agendaFourDay"===n.name&&0===$(".timeBox").length){var s=$("<div>",{class:"timeBox"}).appendTo($(".fc-agendaFourDay-view"));$("<div>",{class:"header-week"}).appendTo($(".timeBox"));var o=$(".fc-bg .fc-axis.fc-widget-content").innerWidth(),r=$(".fc-agendaFourDay-view").height(),l=$(".fc-head .fc-day-header").innerHeight();$(s).css({width:o+1,height:r}),$(".header-week").css({height:l+2});var d=U($(".fc-axis.fc-time span").map(function(n,a){return"<div class='time-week'><span class='time-text'>".concat($(a).text(),"</span></div>")})).join("");$(d).appendTo($(".timeBox")),B()}$(".timeBox").css(config.calendar.isRTL?{right:0,borderLeft:"1px solid #ededed"}:{left:0})},B=function(){var n=$("#calendar").fullCalendar("getView");if("daily"===n.name){$(".time-text").slice(1).map(function(n,a){if("00"===$(a).text().slice(3)){var t=$(a).html().slice(0,2);return $($(a).parent()[0]).addClass("true-time-daily"),$(a).addClass("margin-time"),$(a).html(t)}$(a).text().length>2&&$(a).text("")});var a=$(".time-text")[0];$(a).addClass("margin-time"),$(a).html($(a).text().slice(0,2))}if("agendaFourDay"===n.name){$(".time-text").slice(1).map(function(n,a){if("00"===$(a).text().slice(3)){var t=$(a).html().slice(0,2);return $($(a).parent().prev()[0]).addClass("true-time"),$(a).addClass("margin-time"),$(a).html(t)}$(a).text().length>2&&$(a).text("")});var t=$(".time-text")[0];$(t).addClass("margin-time"),$(t).html($(t).text().slice(0,2))}},J=(t(9),function(n){var a=0,t="";if(n)for(var e=(100/n.length).toFixed(2),c=0,i=n.length;c<i;c++){var s=+a+ +e;t+=", "+n[c].color+" "+a+"%, "+n[c].color+" "+s+"%",a=s}return t}),Q=function(n){for(var a=$(".fc-agendaDay-view"),t=$("#calendar").fullCalendar("getView"),e=0;e<n.length;e++){var c=n[e].services?n[e].services.reduce(function(n,a){return a.name&&a.name?n+"<span class='single-service'>".concat(a.name+(a.count>1?" ⨯ ".concat(a.count,","):""),"</span>,"):n},""):[];n[e].services&&(c=(c=c.slice(0,-1)).split(","));var i=function(n,a){return 5===n.birthdate.length?moment("2018-".concat(n.birthdate)).format("MM")===moment(a).format("MM")?"<p class='bday'><img class='bday-img' src='".concat(config.urls.staticImg,"/bday.svg'><span class='bday-text'>").concat(config.translations.birthday,"</span></p>"):"":10===n.birthdate.length?moment(n.birthdate).format("MM")===moment(a).format("MM")?"<p class='bday'><img class='bday-img' src='".concat(config.urls.staticImg,"/bday.svg'><span class='bday-text'>").concat(config.translations.birthday,"</span></p>"):"":void 0},s=function(){return"<p class='new-cust'><img class='new-client' src='".concat(config.urls.staticImg,"/new.svg'/><span class='new-text'>").concat(config.translations.client,"</span></p>")},o=function(){return"<p class='dept'><img class='dept-img' src='".concat(config.urls.staticImg,"/debt.svg' /><span class='debt-text'>").concat(config.translations.debt,"</span></p>")},r=$("\n      ".concat(n[e].off_time?"\n        <div class='off_time' data-id='".concat(n[e].id,"' data-appointment_id='").concat(n[e].id,"' style='").concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'>\n          <div class='off_time_wrap'>\n            <img class='off_time_img' src='").concat("break"===n[e].off_time?"".concat(config.urls.staticImg,"/break.svg"):"".concat(config.urls.staticImg,"/meeting.svg"),"' >\n          </div>\n          <div class='note-info'>\n            <div class='note-about-user ").concat(config.calendar.isRTL?"styleAgendaRTL":"styleAgendaLTR","'>\n              <p class='name-wrap'>").concat("break"===n[e].off_time?config.translations.business_lunch:config.translations.meeting,"</p>\n              ").concat(n[e].note?"<div class='note-wrap'>\n          <img class='note-img' src='".concat(config.urls.staticImg,"/feather.svg'/>\n          <p class='client-note'>").concat(n[e].note,"</p>\n        </div>"):"","\n            ").concat(n[e].address?"<div class='address-wrap'>\n          <div class='address-img-wrap'>\n            <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n          </div>\n          <p class='address-line'>").concat(n[e].address,"</p>\n        </div>"):"","\n        </div>\n            <div class='time-block ").concat(config.calendar.isRTL?"styleTimeRTL":"styleTimeLTR","'>\n                <div class='start-duration'>\n                  <p class='event-start'>").concat(g(n[e].start.hours().toString(),n[e].start.minutes().toString()),"</p>\n                  <div class='duration-wrap'><img class='duration-img' src='").concat(config.urls.staticImg,"/clock.svg'/><div class='event-duration'>").concat(v(n[e].end-n[e].start),"</div></div>\n                </div>\n                ").concat(n[e].durationEditable?"<span class='paid'>".concat(config.translations.paid,"</span>"):"","\n            </div>\n          </div>\n        </div>\n        "):"\n        <td class='agenda-event' data-id='".concat(n[e].id,"' data-appointment_id='").concat(n[e].id,"' style='").concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'>\n        ").concat(n[e].profile_picture&&n[e].client_id&&n[e].client_id>=0?"<div class='foto-wrap'><img class='client-foto fit' src='".concat(config.urls.imgForClients.replace("{client_id}",n[e].client_id)+n[e].profile_picture,"' onerror=\"this.onerror=null;this.src='").concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"';\" /></div>"):!n[e].client_id||n[e].client_id<=0?"<div class='foto-wrap'><img class='client-foto fit' src='".concat(config.urls.imgForOccasionalClients).concat(config.occasionalClientPhoto,"' /></div>"):"<div class='foto-wrap'><img class='client-foto fit' src='".concat(config.urls.defaultPathToClientImg).concat(config.defaultClientPhoto,"' /></div>"),"\n        <div class='note-info'>\n          <div class='note-about-user ").concat(config.calendar.isRTL?"styleAgendaRTL":"styleAgendaLTR","'>\n            ").concat(n[e].name&&n[e].name?"<div class='name-wrap'><p class='client-name'>".concat(n[e].name,"</p><div class='client-icon'>").concat(n[e].birthdate?i(n[e],t.dateProfile.date):"").concat(n[e].is_new_client?s():"").concat(n[e].has_debt?o():"","</div></div>"):"<div class='name-wrap'><p class='client-name'>".concat(config.translations.occasional,"</p><div class='client-icon'>").concat(n[e].birthdate?i(n[e],t.dateProfile.date):"").concat(n[e].is_new_client?s():"").concat(n[e].has_debt?o():"","</div></div>"),"\n            <p class='services-name'>").concat(c.join(", "),"</p>\n            ").concat(n[e].note?"<div class='note-wrap'>\n        <img class='note-img' src='".concat(config.urls.staticImg,"/feather.svg'/>\n        <p class='client-note'>").concat(n[e].note,"</p>\n      </div>"):"","\n          ").concat(n[e].address?"<div class='address-wrap'>\n        <div class='address-img-wrap'>\n          <img class='address_pin' src='".concat(config.urls.staticImg,"/grey-pin.svg'>\n        </div>\n        <p class='address-line'>").concat(n[e].address,"</p>\n      </div>"):"","\n        </div>\n            <div class='time-block ").concat(config.calendar.isRTL?"styleTimeRTL":"styleTimeLTR","' style='border-image: linear-gradient(to bottom ").concat(J(n[e].services)," ) 1 100%'>\n                <div class='start-duration'>\n                  <p class='event-start'>").concat(g(n[e].start.hours().toString(),n[e].start.minutes().toString()),"</p>\n                  <div class='duration-wrap'><img class='duration-img' src='").concat(config.urls.staticImg,"/clock.svg'/><div class='event-duration'>").concat(v(n[e].end-n[e].start),"</div></div>\n                </div>\n                ").concat(n[e].durationEditable?"<span class='paid'>".concat(config.translations.paid,"</span>"):"","\n            </div>\n        </div>\n      </td>\n        "),"\n\n        "));if($(a[0].children[0].children[1]).append(r),n[e+1]&&E(n[e].start)!==E(n[e+1].start)&&E(n[e].end)<E(n[e+1].start)){var l=(n[e+1].start-(null!==n[e].end?n[e].end:n[e].start))/36e5,d="";if(l<1){var f=Math.floor(60*l);d=1===f?"".concat(f," ").concat(config.translations.duration.minute):"".concat(f," ").concat(config.translations.duration.minutes)}else{var m=Math.floor(l);d=1===m?"".concat(m," ").concat(config.translations.duration.hour):"".concat(m," ").concat(config.translations.duration.hours)}$(a[0].children[0].children[1]).append(q(d,n[e].end))}}if(n[0]&&E(n[0].start)>E(moment(config.calendar.minTime,"HH:mm"))){var p=moment(n[0].start.format("YYYY-MM-DD")+config.calendar.minTime,"YYYY-MM-DD HH:mm").format("YYYY-MM-DD HH:mm"),u=n[0].start.format("YYYY-MM-DD HH:mm"),h=moment(u).diff(moment(p),"milliseconds"),w=G(h);$(".fc-body .swiper-slide").prepend(q(w,p))}if(n.length&&n[n.length-1]&&E(n[n.length-1].end)<E(moment(config.calendar.maxTime,"HH:mm"))){var y=moment(n[n.length-1].start.format("YYYY-MM-DD")+config.calendar.maxTime,"YYYY-MM-DD HH:mm").format("YYYY-MM-DD HH:mm"),_=n[n.length-1].end.format("YYYY-MM-DD HH:mm"),b=moment(y).diff(moment(_),"milliseconds"),k=G(b);$(a[0].children[0].children[1]).append(q(k,_))}return $(a[0].children[0].children[1].children).slice(1)},q=function(n,a){return $("<div class='duration-time' data-time-start='".concat(moment(a).format("YYYY-MM-DD HH-mm"),"'>\n  <div class='duration-time-content'>\n    <div class='free-time_value'>").concat(n,"</div>\n    <div class='duration-time_container'><div class='free-time'><img class='cross' src='").concat(config.urls.staticImg,"/plus.svg' /></span></div></div>\n    <div class='free-time_title'><span>").concat(config.translations.duration.description,"</span></div>\n</div>"))},G=function(n){var a=Math.floor(n/36e5);n-=36e5*a;var t=Math.floor(n/6e4);return 1===a&&0===t?"".concat(a," ").concat(config.translations.duration.hour):0===a?"".concat(t," ").concat(config.translations.duration.minutes):0===t?"".concat(a," ").concat(config.translations.duration.hours):"<p class='full-dur'><span class='hours'>".concat(a,"</span> <span>").concat(config.translations.duration.hours,"</span> <span class='minutes'>").concat(t,"</span> <span>").concat(config.translations.duration.minutes,"</span></p>")},X=function(){var n=M.a.parse(window.location.search.slice(1));$(".duration-time").map(function(a,t){$(t).on("click",function(){var a=$(t).attr("data-time-start");(a=a.split(" "))[1].replace("-",":"),a=(a=[a[0],a[1].replace("-",":")]).join(" ");var e="".concat(moment(a).format("YYYY-MM-DD"),"T").concat(moment(a).format("HH:mm:ss"));window.location="".concat(config.urls.creatingAppointmentLink,"?start=").concat(e,"&worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(n.calendar_view_type)})})},Z=function(){!0===$(".swiper-container").is(":visible")?$(".fc-body .swiper-slide").addClass("basic"):$(".fc-body .swiper-slide").addClass("full")},K=function(n){var a=$(".agenda-event"),t=M.a.parse(window.location.search.slice(1)),e=$("#calendar").fullCalendar("getView");a.map(function(a,c){$(c).on("click",function(){var a=c.getAttribute("data-id");n.map(function(n){n.id==a&&(history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(e.intervalStart.format("YYYY-MM-DD"),"/appointments/").concat(n.id,"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(t.calendar_view_type)),O(n))})})}),$(".off_time").map(function(a,c){$(c).on("click",function(){var a=c.getAttribute("data-id");n.map(function(n){n.id==a&&(history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(e.intervalStart.format("YYYY-MM-DD"),"/appointments/").concat(n.id,"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(t.calendar_view_type)),O(n))})})})},nn=function(){var n=M.a.parse(window.location.search.slice(1)),a=$("\n    <div class='empty-page' style='".concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'>\n      <h1 class='agenda-title'>").concat(config.translations.no_queues,"</h1>\n      <div class='agenda-text'>\n        <p>").concat(config.translations.empty_agenda,"</p>\n      </div>\n      <div class='order-wrap'>\n        <p class='order-text'>").concat(config.translations.order_queue,"</p>\n        <div class='order-btn'><img class='cross' src='").concat(config.urls.staticImg,"/plus.svg' /></span></div>\n      </div>\n    </div>\n    "));$(".swiper-agenda-container .swiper-wrapper .swiper-slide").append(a),$(".order-wrap").on("click",function(){var a=$("#calendar").fullCalendar("getDate").format("YYYY-MM-DD");window.location="".concat(config.urls.creatingAppointmentLink,"?worker_id=").concat(config.activeWorkerId,"&start=").concat(a,"&calendar_view_type=").concat(n.calendar_view_type)}),$(".empty-page").css({backgroundImage:"url("+config.urls.staticImg+"/empty-agenda.svg"})},an=function n(){if(localStorage.getItem("holidays_data")&&!$(".holiday").length)try{!function(){var n,a=JSON.parse(localStorage.getItem("holidays_data")).data,t=$("#calendar").fullCalendar("getDate").format("YYYY-MM-DD");for(var e in a)(n=a[e].find(function(n){return n.date===t}))&&t===n.date&&($(".holiday").length&&$(".holiday").length>0&&$(".holiday").remove(),$(".fc-body .swiper-slide").prepend('<td class="holiday">'.concat(n.name,"</td>")))}()}catch(a){localStorage.removeItem("holidays_data"),ln(function(){return n()})}},tn=function(){$(".fc-head").empty(),!0===$(".swiper-container").is(":visible")?$(".fc-agendaDay-view").addClass("basic"):$(".fc-agendaDay-view").addClass("full");var n=$("#calendar");n.fullCalendar();var a=$(".fc-body");ln(function(){return an()}),fn(!1,function(){$(".fc-agendaDay-view").children().first().addClass("swiper-agenda-container"),a.empty().addClass("swiper-wrapper");var n=$("#calendar").fullCalendar("getDate"),t=$("#calendar").fullCalendar("clientEvents").filter(function(a){return moment(a.start).isSame(n,"day")}).sort(function(n,a){return moment(n.start._i)-moment(a.start._i)});a.append('<tr class="swiper-slide"></tr>').children().append(t.length>0?Q(t):nn()),an(),K(t),X(),F(),Z()}),n.hammer().off("swipeleft"),n.hammer().on("swipeleft",function(){config.calendar.isRTL?n.fullCalendar("prev"):n.fullCalendar("next"),ln(function(){return an()}),fn(),F();var t=$("#calendar").fullCalendar("getDate"),e=$("#calendar").fullCalendar("clientEvents").filter(function(n){return moment(n.start).isSame(t,"day")}).sort(function(n,a){return moment(n.start._i)-moment(a.start._i)});a.empty(),a.append('<tr class="swiper-slide"></tr>').children().append(e.length>0?Q(e):nn()),an(),K(e),X(),Z(),L()}),n.hammer().off("swiperight"),n.hammer().on("swiperight",function(){config.calendar.isRTL?n.fullCalendar("next"):n.fullCalendar("prev"),ln(function(){return an()}),fn(),F();var t=$("#calendar").fullCalendar("getDate"),e=$("#calendar").fullCalendar("clientEvents").filter(function(n){return moment(n.start).isSame(t,"day")}).sort(function(n,a){return moment(n.start._i)-moment(a.start._i)});a.empty(),a.append('<tr class="swiper-slide"></td>').children().append(e.length>0?Q(e):nn()),an(),K(e),X(),Z(),L()})},en=(t(10),function(){var n=$(".fc-agendaFourDay-view .fc-head .fc-axis").width(),a=$(".fc-agendaFourDay-view .fc-head .fc-axis").outerWidth(),t=$(".fc-agendaFourDay-view .fc-head .fc-day-header").width(),e=$(".fc-agendaFourDay-view .fc-head .fc-day-header").innerHeight();if("agendaFourDay"===$("#calendar").fullCalendar("getView").name){ln(),fn(!1,function(){if(localStorage.getItem("holidays_data"))try{var n,a=JSON.parse(localStorage.getItem("holidays_data")).data;$(".custom-calendar-header .fc-day-header").map(function(t,e){for(var c in a)(n=a[c].find(function(n){return n.date===$(e).attr("data-date")}))&&$(e).attr("data-date")===n.date&&$(e).addClass("some-holiday").append("<div class='weekly-holiday' style='".concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'><p>").concat(n.name,"</p></div>"))})}catch(n){localStorage.removeItem("holidays_data"),ln()}W(),F()});var c=$("#calendar");c.fullCalendar(),c.hammer().off("swipeleft"),c.hammer().off("swiperight"),$(".fc-time-grid-container").hammer().off("swiperight"),$(".fc-time-grid-container").hammer().on("swiperight",function(){config.calendar.isRTL?c.fullCalendar("next"):c.fullCalendar("prev"),ln(),fn(!1,function(){W(),F()}),L(),cn(e,n,t,a)}),$(".fc-time-grid-container").hammer().off("swipeleft"),$(".fc-time-grid-container").hammer().on("swipeleft",function(){config.calendar.isRTL?c.fullCalendar("prev"):c.fullCalendar("next"),ln(),fn(!1,function(){W(),F()}),L(),cn(e,n,t,a)})}cn(e,n,t,a),L()}),cn=function(n,a,t,e){var c=$(".fc-agendaFourDay-view .fc-head .fc-head-container thead").html();if($(".custom-calendar-header").html(c),localStorage.getItem("holidays_data"))try{var i,s=JSON.parse(localStorage.getItem("holidays_data")).data;$(".custom-calendar-header .fc-day-header").map(function(n,a){for(var t in s)(i=s[t].find(function(n){return n.date===$(a).attr("data-date")}))&&$(a).attr("data-date")===i.date&&$(a).addClass("some-holiday").append("<div class='weekly-holiday' style='".concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'><p>").concat(i.name,"</p></div>"))})}catch(n){localStorage.removeItem("holidays_data"),ln()}$(".custom-calendar-header .fc-axis").css(config.calendar.isRTL?{width:e+1,borderLeft:"1px solid #ededed"}:{width:e}),$(".custom-calendar-header .fc-day-header").addClass(config.calendar.isRTL?"right-side":"left-side"),$(".custom-calendar-header .fc-day-header").css((config.calendar.isRTL,{width:t+1})),$(".custom-calendar-header .right-side:nth-child(1)").css({width:t+1}),$(".custom-calendar-header .right-side:nth-child(2)").css({width:t+1}),$(".custom-calendar-header .right-side:nth-child(3)").css({width:t+1}),$(".custom-calendar-header .right-side:nth-child(4)").css({width:t})},sn=(t(11),function(){if(localStorage.getItem("holidays_data")&&!$(".holiday").length)try{!function(){var n,a=JSON.parse(localStorage.getItem("holidays_data")).data,t=$("#calendar").fullCalendar("getDate").format("YYYY-MM-DD");for(var e in a)(n=a[e].find(function(n){return n.date===t}))&&t===n.date&&($(".holiday").length&&$(".holiday").length>0&&$(".holiday").remove(),$(".fc-daily-view .fc-head").append("<td class=holiday>".concat(n.name,"</td>")))}()}catch(n){localStorage.removeItem("holidays_data"),ln()}}),on=function(){if("daily"===$("#calendar").fullCalendar("getView").name){$(".fc-daily-view .fc-head").empty();var n=$("#calendar");n.fullCalendar(),n.hammer().off("swipeleft"),n.hammer().off("swiperight"),ln(function(){return sn()}),sn(),fn(!1,function(){W(),F()}),$(".fc-time-grid-container").hammer().off("swiperight"),$(".fc-time-grid-container").hammer().on("swiperight",function(){config.calendar.isRTL?n.fullCalendar("next"):n.fullCalendar("prev"),$(".fc-daily-view .fc-head").empty(),ln(function(){return sn()}),sn(),fn(!1,function(){W(),F()}),L()}),$(".fc-time-grid-container").hammer().off("swipeleft"),$(".fc-time-grid-container").hammer().on("swipeleft",function(){config.calendar.isRTL?n.fullCalendar("prev"):n.fullCalendar("next"),$(".fc-daily-view .fc-head").empty(),ln(function(){return sn()}),sn(),fn(!1,function(){W(),F()}),L()})}},rn=(t(12),function(n){var a=$(".click-mask"),t=M.a.parse(window.location.search.slice(1)),e=$("#calendar").fullCalendar("getView");a.map(function(a,c){$(c).on("click",function(a){a.preventDefault(),a.stopPropagation();var i=$(c).parent().parent().attr("data-appointment_id");n.map(function(n){n.id==i&&(history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(e.intervalStart.format("YYYY-MM-DD"),"/appointments/").concat(n.id,"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(t.calendar_view_type)),O(n))})})})}),ln=function(n){var a=moment();if(localStorage.getItem("holidays_data")){var t=localStorage.getItem("holidays_data"),e=JSON.parse(t),c=moment(e.last_loaded_holidays),i=e.data,s=$("#calendar").fullCalendar("getDate"),o=a.diff(c,"days"),r=s.year()===c.year();Math.abs(o)>=14?f(moment(a).year(),a.format(),!0).then(function(a){n&&n(a)}):!1===r&&!1===i.hasOwnProperty(s.year())&&f(s.year(),moment(a).format()).then(function(a){n&&n(a)})}else null===localStorage.getItem("holidays_data")&&f(moment(a).year(),moment(a).format()).then(function(a){n&&n(a)})},dn=function(n,a){return{dayStart:moment(n).set({hour:0,minute:0,second:0,millisecond:0}).format("YYYY-MM-DD HH:mm:ss"),dayEnd:moment(a).set({hour:23,minute:59,second:59,millisecond:0}).format("YYYY-MM-DD HH:mm:ss")}},fn=function(n,a){var t=$("#calendar").fullCalendar("getView"),e=moment(t.start).format();if(e=new Date(e),"agendaDay"===t.name){var c=moment(e).subtract(1,"days"),i=moment(e).add(1,"days"),s=dn(c,i),o=s.dayStart,r=s.dayEnd;P(o,r,!0,n,a)}else{if("daily"===t.name){var l=moment(e).subtract(1,"days"),d=moment(e).add(1,"days"),f=dn(l,d),m=f.dayStart,g=f.dayEnd;return P(m,g,!1,n,a)}if("agendaFourDay"===t.name){var v=moment(e).subtract(5,"days"),p=moment(e).add(6,"days"),u=dn(v,p),h=u.dayStart,w=u.dayEnd;return P(h,w,!1,n,a)}if("month"===t.name){var y=$("#calendar").fullCalendar("getDate"),_=moment(moment(y).startOf("month")).subtract(1,"months").startOf("month"),b=moment(moment(y).endOf("month")).add(1,"months").endOf("month"),k=dn(_,b),C=k.dayStart,Y=k.dayEnd;return P(C,Y,!1,n,a)}}},mn=function n(){if(localStorage.getItem("holidays_data"))try{var a,t=JSON.parse(localStorage.getItem("holidays_data")).data;$(".fc-body .fc-content-skeleton .fc-day-top").map(function(n,e){for(var c in t)(a=t[c].find(function(n){return n.date===$(e).attr("data-date")}))&&$(e).attr("data-date")===a.date&&$(e).addClass("some-holiday").append("<div class='month-holiday' style='".concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'><p>").concat(a.name,"</p></div>"))})}catch(a){localStorage.removeItem("holidays_data"),ln(function(){return n()})}},gn=function(n){var a=$(".fc-day-grid-event"),t=$("#calendar").fullCalendar("clientEvents");a.map(function(n,a){$(a).on("click",function(){var n=a.getAttribute("data-appointment_id");t.map(function(a){a.id==n&&O(a)})})})},vn=function(){if("month"===$("#calendar").fullCalendar("getView").name){ln(function(){return mn()}),fn(!0,function(){return gn()}),mn();var n=$("#calendar");n.fullCalendar(),n.hammer().off("swipeleft"),n.hammer().on("swipeleft",function(){config.calendar.isRTL?n.fullCalendar("prev"):n.fullCalendar("next"),fn(!0,function(){return gn()}),ln(function(){return mn()}),mn(),L()}),n.hammer().off("swiperight"),n.hammer().on("swiperight",function(){config.calendar.isRTL?n.fullCalendar("next"):n.fullCalendar("prev"),fn(!0,function(){return gn()}),ln(function(){return mn()}),mn(),L()})}},pn=function(){var n=$("#calendar").fullCalendar("getView");if("agendaDay"===n.name&&tn(),"daily"===n.name&&on($("#calendar").fullCalendar("getDate")),"agendaFourDay"===n.name&&en($("#calendar").fullCalendar("getDate").add(-1,"days")),"month"===n.name){var a=$(window).outerHeight()-($("#header").outerHeight()+(config.workers.length>1?$(".swiper-visible").outerHeight():0));$("#calendar").fullCalendar("option","contentHeight",a),vn()}L()};t(13),t(14),t(15);function un(n,a){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);a&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,e)}return t}function hn(n,a,t){return a in n?Object.defineProperty(n,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[a]=t,n}$(document).ready(function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(function(n){console.log("Registration successful, scope is:",n.scope)}).catch(function(n){console.log("Service worker registration failed, error:",n)});var n,a=document.getElementsByTagName("body")[0];config.calendar.isRTL&&(a.style.direction="rtl"),n="\n  <div id='header' style='".concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'>\n    <div class='header-cont'>\n      <div class='menu_refresh ").concat(config.calendar.isRTL?"menu_rtl":"menu_ltr","'>\n        <div class='more_wrap'>\n            <img src='").concat(config.urls.staticImg,"/ic_menu.svg'>\n        </div>\n        <div id='refresh_button'>\n          <img class='refresh_button_img' src='").concat(config.urls.staticImg,"/refresh.svg'>\n        </div>\n      </div>\n      <div class='middle-section' style='direction: ltr'>\n          <div class='prev_button_wrap common'><img class='prev_button btn' src='").concat(config.urls.staticImg,"/prev.svg'></div>\n          <div class='current_date'>\n            <span class='today'></span>\n            <span class='current_date_field'></span>\n            <span class='this_week'></span>\n          </div>\n          <div class='next_button_wrap common'><img class='next_button btn' src='").concat(config.urls.staticImg,"/next.svg'></div>\n      </div>\n      <div class='header_right ").concat(config.calendar.isRTL?"view_buttons_rtl":"view_buttons_ltr","'>\n          <button  class='today_wrap' ><img class='img_today' src='").concat(config.urls.staticImg,"/today.svg'>").concat(config.translations.today,"</button>\n          <button class='daily_wrap daily_wrap_label'><img class='img_view' src='").concat(config.urls.staticImg,"/change_view.svg'>").concat(config.translations.agenda,"</button>\n      </div>\n    </div>\n  </div>"),$("#calendar").before(n),$(".current_date").on("click",function(){var n=$("#calendar").fullCalendar("getView");if("month"!==n.name){history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=monthly")),$(".custom-calendar-header").addClass("hidden"),$(".formonth").removeClass("hidden"),$(".swiper-background .swiper-slide .fit").css({display:"block"});var a=$(window).outerHeight()-($("#header").outerHeight()+(config.workers.length>1?$(".swiper-visible").outerHeight():0));$("#calendar").fullCalendar("option","contentHeight",a),$("#calendar").fullCalendar("changeView","month"),L();var t=$("#header").height(),e=config.workers.length>1?$(".swiper-visible").outerHeight():0;$("#calendar").css({marginTop:t+e-1}),vn()}});var t,e=config.workers.find(function(n){return n.id==config.activeWorkerId}),c=M.a.parse(window.location.search.slice(1)),i=c.calendar_view_type?config.match_view[c.calendar_view_type]:config.match_view[config.calendar_view_type],s=e.businessHours;$("#calendar").fullCalendar(function(n){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?un(t,!0).forEach(function(a){hn(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):un(t).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}({},config.calendar,{businessHours:s,defaultView:i,fixedWeekCount:!1,viewRender:V,dayClick:j,columnHeaderText:R,eventRender:b,eventAfterRender:C,eventAfterAllRender:D,eventResize:A,eventDrop:N})),function(){var n=$("#calendar").fullCalendar("getView"),a=document.createElement("div"),t=document.createElement("div"),e=document.createElement("div"),c=document.createElement("div");$(c).addClass("helperBox"),$("#app").prepend(c),$(a).addClass("swiper-background ".concat(config.workers.length>1?"swiper-visible":"")),$(t).addClass("swiper-workers"),$(e).addClass("swiper-cont"),$(t).html(m(n));var i=$("\n    <div class='custom-calendar-header hidden ".concat(config.workers.length>1?"withWorkers":"","' style='direction: ltr'>\n    </div>\n    "));$(a).append(t),$(a).append(i),$(e).append(a),$("#calendar").before(e);var s=new Swiper(".swiper-container",{animating:!0,slidesPerView:"auto",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},onSlideChangeStart:function(){0===s.activeIndex?($(".swiper-button-prev").hide(),$(".swiper-button-next").show()):s.progress>.8?($(".swiper-button-prev").show(),$(".swiper-button-next").hide()):($(".swiper-button-prev").show(),$(".swiper-button-next").show())}});if($(".swiper-button-prev").css({backgroundImage:"url(".concat(config.urls.staticImg,"/btn-next.svg)")}),$(".swiper-button-next").css({backgroundImage:"url(".concat(config.urls.staticImg,"/btn-prev.svg)")}),s.slides&&s.slides.length<=1){$(".swiper-workers").hide();var o=$("#header").height();$("#calendar").css({marginTop:o+10})}else s.slides&&s.slides.length<=6&&($(".swiper-button-prev").hide(),$(".swiper-button-next").hide());s.slides&&2===s.slides.length?($(".swiper-container").addClass("forTwo"),$(".swiper-wrapper").addClass("flexTwo")):$(".swiper-wrapper").removeClass("flexTwo"),$(".swiper-button-prev").hide(),$(".swiper-button-prev").on("click",function(){s.slidePrev(4e3)}),$(".swiper-button-next").on("click",function(){s.slideNext(4e3)});var r=$("#header").height(),l=config.workers.length>1?$(".swiper-background").height():0;$("#calendar").css({marginTop:r+l+(config.workers.length>1?10:0)-1}),$(window).scroll(function(){if($(window).scrollTop()>=105){if($(".swiper-workers").addClass("topScroll"),$(".swiper-workers .fit").fadeOut("fast"),$(".swiper-workers .swiper-slide").css({justifyContent:"center"}),"agendaFourDay"===$("#calendar").fullCalendar("getView").name){var n=$("#header").height(),a=$(".swiper-background").height(),t=$(".custom-calendar-header").height();$("#calendar").css({marginTop:n+a+t-(config.workers.length>1?10:20)-1})}if("daily"===$("#calendar").fullCalendar("getView").name){var e=$("#header").height(),c=$(".swiper-background").height();$("#calendar").css({marginTop:e+c+(config.workers.length>1?10:0)-1})}if("agendaDay"===$("#calendar").fullCalendar("getView").name){var i=$("#header").height(),s=$(".swiper-background").height();$("#calendar").css({marginTop:i+s+(config.workers.length>1?10:0)-1})}}else{if($(".swiper-workers").removeClass("topScroll"),$(".swiper-workers .fit").fadeIn("fast"),$(".swiper-workers .swiper-slide").css({justifyContent:"flex-start"}),"agendaFourDay"===$("#calendar").fullCalendar("getView").name){var o=$("#header").height(),r=$(".swiper-background").height(),l=$(".custom-calendar-header").height();$("#calendar").css({marginTop:o+r+l-1-(config.workers.length>1?10:20)})}if("daily"===$("#calendar").fullCalendar("getView").name){var d=$("#header").height(),f=$(".swiper-background").height();$("#calendar").css({marginTop:d+f+(config.workers.length>1?10:0)-1})}if("agendaDay"===$("#calendar").fullCalendar("getView").name){var m=$("#header").height(),g=$(".swiper-background").height();$("#calendar").css({marginTop:m+g+(config.workers.length>1?10:0)-1})}}}),$(".swiper-workers .swiper-slide").on("click",function(){config.activeWorkerId=$(this).data("index"),$(this).parent().find(".swiper-slide").removeClass("active"),$(this).addClass("active");var n=M.a.parse(window.location.search.slice(1)),a=config.workers.find(function(n){return n.id==config.activeWorkerId}),t=$("#calendar").fullCalendar("getView");if(history.replaceState(null,null,"".concat(config.urls.startUrl,"/").concat(t.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(n.calendar_view_type)),$("#calendar").fullCalendar("option",{businessHours:a.businessHours}),"agendaDay"===t.name&&tn(),"daily"===t.name&&on($("#calendar").fullCalendar("getDate")),"agendaFourDay"===t.name&&en($("#calendar").fullCalendar("getDate")),"month"===t.name){var e=$("#calendar").fullCalendar("getDate");$("#calendar").fullCalendar("changeView","daily"),$("#calendar").fullCalendar("changeView","month",e),vn()}})}(),function(){var n=$("\n      <div class='preloader ".concat(config.calendar.isRTL?"styleLoaderRTL":"styleLoaderLTR","'>\n        <img class='loader' src='").concat(config.urls.staticImg,"/preloader.svg' />\n      </div>\n    "));$("#calendar").before(n),window.isActive=!0,window.isActive?$(n).addClass("hidden"):$(n).removeClass("hidden")}(),pn(),function(){$(".prev_button_wrap").click(function(){var n=$("#calendar").fullCalendar("getView");if("agendaFourDay"===n.name?(config.calendar.isRTL?$("#calendar").fullCalendar("next"):$("#calendar").fullCalendar("prev"),en($("#calendar").fullCalendar("getDate"))):"daily"===n.name&&(config.calendar.isRTL?$("#calendar").fullCalendar("next"):$("#calendar").fullCalendar("prev"),on($("#calendar").fullCalendar("getDate"))),"agendaDay"===n.name)config.calendar.isRTL?$("#calendar").fullCalendar("next"):$("#calendar").fullCalendar("prev"),tn();else if("month"===n.name){var a=$("#calendar").fullCalendar("getDate").startOf("month");$("#calendar").fullCalendar("changeView","agendaDay");var t=$(window).outerHeight()-($("#header").outerHeight()+(config.workers.length>1?$(".swiper-visible").outerHeight():0));$("#calendar").fullCalendar("option","contentHeight",t),config.calendar.isRTL?$("#calendar").fullCalendar("changeView","month",moment(a).add(1,"month")):$("#calendar").fullCalendar("changeView","month",moment(a).subtract(1,"month")),fn(),vn()}L()}),$(".next_button_wrap").click(function(){var n=$("#calendar").fullCalendar("getView");if("agendaFourDay"===n.name?(config.calendar.isRTL?$("#calendar").fullCalendar("prev"):$("#calendar").fullCalendar("next"),en($("#calendar").fullCalendar("getDate"))):"daily"===n.name&&(config.calendar.isRTL?$("#calendar").fullCalendar("prev"):$("#calendar").fullCalendar("next"),on()),"agendaDay"===n.name&&(config.calendar.isRTL?$("#calendar").fullCalendar("prev"):$("#calendar").fullCalendar("next"),tn()),"month"===n.name){var a=$("#calendar").fullCalendar("getDate").startOf("month");$("#calendar").fullCalendar("changeView","agendaDay");var t=$(window).outerHeight()-($("#header").outerHeight()+(config.workers.length>1?$(".swiper-visible").outerHeight():0));$("#calendar").fullCalendar("option","contentHeight",t),config.calendar.isRTL?$("#calendar").fullCalendar("changeView","month",moment(a).subtract(1,"month")):$("#calendar").fullCalendar("changeView","month",moment(a).add(1,"month")),fn(),vn()}L()}),$(".today_wrap").click(function(){var n=$("#calendar").fullCalendar("getView");if("agendaFourDay"===n.name?($("#calendar").fullCalendar("today"),fn(!0,function(){en($("#calendar").fullCalendar("getDate"))})):"daily"===n.name?($("#calendar").fullCalendar("today"),on($("#calendar").fullCalendar("getDate")),L()):"agendaDay"===n.name&&($("#calendar").fullCalendar("today"),fn(!0,function(){tn()}),L()),"month"===n.name){$("#calendar").fullCalendar("today");var a=moment().format();$("#calendar").fullCalendar("changeView","daily");var t=$(window).outerHeight()-($("#header").outerHeight()+(config.workers.length>1?$(".swiper-visible").outerHeight():0));$("#calendar").fullCalendar("option","contentHeight",t),$("#calendar").fullCalendar("changeView","month",a),vn(),L()}});$(".daily_wrap").click(function(){var n=$("#calendar").fullCalendar("getView");if("agendaDay"===n.name)$("#calendar").fullCalendar("option","contentHeight","auto"),$(".custom-calendar-header").addClass("hidden"),$(".formonth").addClass("hidden"),$("#calendar").fullCalendar("changeView","daily"),history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=daily"));else if("daily"===n.name)$("#calendar").fullCalendar("option","contentHeight","auto"),$(".custom-calendar-header").removeClass("hidden"),$(".formonth").addClass("hidden"),$("#calendar").fullCalendar("changeView","agendaFourDay"),history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=weekly"));else if("agendaFourDay"===n.name){$(".custom-calendar-header").addClass("hidden"),$(".formonth").removeClass("hidden"),$("#calendar").fullCalendar("changeView","month"),history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=monthly")),$(".swiper-background .swiper-slide .fit").css({display:"block"});var a=$(window).outerHeight()-($("#header").outerHeight()+(config.workers.length>1?$(".swiper-visible").outerHeight():0));$("#calendar").fullCalendar("option","contentHeight",a)}else if("month"===n.name){$(".custom-calendar-header").addClass("hidden"),$(".formonth").addClass("hidden");var t=window.location.pathname,e=new RegExp("\\d{4}\\-\\d{1,2}\\-\\d{1,2}","g"),c=t.match(e)[0];$("#calendar").fullCalendar("changeView","agendaDay",moment(c)),history.pushState(null,null,"".concat(config.urls.startUrl,"/").concat(n.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=agenda"))}pn()}),L(),config.workers.length<=1&&$(".refresh_button_img").hide(),$("#refresh_button").click(function(){config.activeWorkerId&&fn(!0)})}(),t=$("\n    <div class='floating-button ".concat(!1===config.calendar.isRTL?"standartRight":"standartLeft","'><img class='cross' src='").concat(config.urls.staticImg,"/plus.svg' /></div>\n    ")),$("#calendar").after(t),$(t).on("click",function(){var n=M.a.parse(window.location.search.slice(1)),a=$("#calendar").fullCalendar("getView"),t=$("#calendar").fullCalendar("getDate").format("YYYY-MM-DD");"daily"===a.name||"agendaDay"===a.name?window.location="".concat(config.urls.creatingAppointmentLink,"?worker_id=").concat(config.activeWorkerId,"&start=").concat(t,"&calendar_view_type=").concat(n.calendar_view_type):window.location="".concat(config.urls.creatingAppointmentLink,"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(n.calendar_view_type)}),function(){var n=$("<div class='modal-wrap' style='".concat(config.calendar.isRTL?"direction: rtl":"direction: ltr","'>\n    <div class='menu_container'>\n    <div class='menu-wrapper'>\n      <div class='list-wrap'>\n      <div class='menu-logo'>\n        <div class='logo'>\n          <img class='business_logo' src=").concat(config.user.business_logo," />\n        </div>\n        <p class='business_name' >").concat(config.user.business_name,"</p>\n        <p class='business_address'><img class='business_address_img' src='","".concat(config.urls.menu_icons,"map-pin.svg"),"'>").concat(config.user.business_address,"</p>\n      </div>\n      <nav class='menu-list'>\n        ").concat(config.menu.reduce(function(n,a){return n+"<li class='list-item'>\n            <a class='item-link' href='".concat(a.link,"'>\n              <img class='menu-img' src='").concat(config.urls.menu_icons+a.icon,"' alt='").concat(a.text,"' />\n              ").concat(config.translations.menu[a.text],"\n            </a>\n          </li>")},""),"\n    </nav>\n    </div>\n    </div>\n    </div>\n  </div>"));$("body").append(n),$(".menu-wrapper").css({backgroundImage:"url("+config.urls.menu_icons+"photo-bgr.png"}),$(".more_wrap")[0].addEventListener("click",function(){$(".modal-wrap").toggle(),"block"===$(".modal-wrap").css("display")?($($("html")[0]).addClass("no-scroll"),$($("body")[0]).addClass("no-scroll")):($($("html")[0]).removeClass("no-scroll"),$($("body")[0]).removeClass("no-scroll"))});var a=$(".modal-wrap")[0];$(".menu-wrapper")[0].addEventListener("click",function(n){return n.stopPropagation()}),a.addEventListener("click",function(){$(".modal-wrap").css({display:"none"}),$($("html")[0]).removeClass("no-scroll"),$($("body")[0]).removeClass("no-scroll")})}();var o=$("#calendar").fullCalendar("getView");window.addEventListener("popstate",function(){if($(".eventPopupCont").length>0){var n=M.a.parse(window.location.search.slice(1));history.replaceState(null,null,"".concat(config.urls.startUrl,"/").concat(o.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(n.calendar_view_type)),$(".eventPopupCont").remove(),$($("html")[0]).removeClass("no-scroll"),$($("body")[0]).removeClass("no-scroll");var a=$("#calendar").fullCalendar("getDate");$("#calendar").fullCalendar("gotoDate",a)}else{$("#calendar").fullCalendar("option","contentHeight","auto");var t=M.a.parse(window.location.search.slice(1)),e=$("#calendar").fullCalendar("getDate");$("#calendar").fullCalendar("changeView",config.match_view[t.calendar_view_type],e),"agendaFourDay"!==o.name&&$(".custom-calendar-header").addClass("hidden"),pn()}});var r=location.search&&location.search.includes("calendar_view_type=")?location.search:location.search+"&calendar_view_type=".concat(config.calendar_view_type);history.pushState(null,null,r?"".concat(config.urls.startUrl,"/").concat(o.intervalStart.format("YYYY-MM-DD"))+r:"".concat(config.urls.startUrl,"/").concat(o.intervalStart.format("YYYY-MM-DD"),"?worker_id=").concat(config.activeWorkerId,"&calendar_view_type=").concat(config.calendar_view_type))});t(16);$(document).ready(function(){config.timeZone=Intl.DateTimeFormat().resolvedOptions().timeZone})}]);
//# sourceMappingURL=main.bundle.min.js.map