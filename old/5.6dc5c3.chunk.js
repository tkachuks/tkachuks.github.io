(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{21:function(e,n,t){},22:function(e,n,t){},27:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(8),s=function(e){if(e&&e.length>=3){return/^[\s\d()\-*#+]+$/.test(e)}return!1},c=(t(21),function(e){var n=e.sendingPopup,t=e.isActivePopup,r=e.sending_label,a=e.success_label;return React.createElement("div",{className:"sending_popup"+(t?" hide-background":"")},React.createElement("div",{className:"sending_body"+(t?" hide-body":"")},n?React.createElement("div",{className:"sending"},React.createElement("img",{className:"plane",src:config.urls.media+"ic_paper_plane.svg"}),React.createElement("p",null,r)):React.createElement("div",{className:"success"},React.createElement("div",{className:"outer_circle"},React.createElement("img",{className:"mark_modal",src:config.urls.media+"ic_send_success.svg"})),React.createElement("p",null,a))))});t(22);function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var t=[],r=!0,a=!1,i=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.default=function(e){e.history;var n,t,m,b,d,f,p,v,g,h,_,w,E=u(Object(r.useState)(!1),2),y=E[0],O=E[1],j=u(Object(r.useState)(!0),2),N=j[0],P=j[1],R=u(Object(r.useState)(!0),2),S=R[0],T=R[1],k=u(Object(r.useState)(!0),2),x=k[0],A=k[1],C=u(Object(r.useState)({phone:"",reason:""}),2),D=C[0],q=C[1],I=function(e){var n=e.target,t=n.name,r=n.value;q((function(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e,l({},t,r))}))};return a.a.createElement("div",{className:"unsubscribe"},a.a.createElement("div",null,a.a.createElement("header",{className:"unsubscribe_header"},config.data.name?a.a.createElement("p",{className:"unsubscribe_title"},null===(n=config.translations.unsubscribe)||void 0===n?void 0:null===(t=n.unsubscribe_title_with_name)||void 0===t?void 0:t.replace("{name}",config.data.name)):a.a.createElement("p",{className:"unsubscribe_title"},null===(m=config.translations.unsubscribe)||void 0===m?void 0:m.unsubscribe_title),a.a.createElement("p",{className:"unsubscribe_title with_img"},null===(b=config.translations.unsubscribe)||void 0===b?void 0:b.unsubscribe_question," ",a.a.createElement("img",{src:"".concat(config.urls.media,"pic_sad_emoji@2x.png"),alt:""})),a.a.createElement("p",{className:"unsubscribe_subtitle"},null===(d=config.translations.unsubscribe)||void 0===d?void 0:d.unsubscribe_subtitle)),y?a.a.createElement(c,{success_label:null===(_=config.translations.unsubscribe)||void 0===_?void 0:_.success,sending_label:null===(w=config.translations.unsubscribe)||void 0===w?void 0:w.sending,sendingPopup:N}):a.a.createElement("form",{className:"unsubscribe_form",onSubmit:function(e){e.preventDefault();var n=D.phone,t=D.reason;(null==t?void 0:t.trim())&&s(null==n?void 0:n.trim())?(O(!0),function(e){var n=config.urls.unsubscribe_api_service,t={mode:"cors",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e};return Object(i.a)(n,t)}("".concat(config.urls.params.slice(1),"&phone=").concat(encodeURIComponent(null==n?void 0:n.trim()),"&text=").concat(encodeURIComponent(null==t?void 0:t.trim()))).then((function(e){var n=e.status;200!==n&&204!==n||(P(!1),setTimeout((function(){window.location.replace(config.urls.home_site)}),5e3))}))):(!(null==t?void 0:t.trim())&&A(!1),!s(null==n?void 0:n.trim())&&T(!1))}},a.a.createElement("label",null,a.a.createElement("span",null,null===(f=config.translations.unsubscribe)||void 0===f?void 0:f.phone_number_label),a.a.createElement("input",{className:S?"normal":"warning",type:"tel",value:D.phone,onBlur:function(e){var n=e.target.value;s(null==n?void 0:n.trim())?T(!0):T(!1)},onChange:I,name:"phone",placeholder:null===(p=config.translations.unsubscribe)||void 0===p?void 0:p.phone_number_placeholder})),a.a.createElement("label",null,a.a.createElement("span",null,null===(v=config.translations.unsubscribe)||void 0===v?void 0:v.unsubscribe_reason_label),a.a.createElement("textarea",{className:x?"normal":"warning",name:"reason",rows:"6",value:D.reason,onBlur:function(e){var n=e.target.value;(null==n?void 0:n.trim())?A(!0):A(!1)},onChange:I,placeholder:null===(g=config.translations.unsubscribe)||void 0===g?void 0:g.unsubscribe_reason_placeholder})),a.a.createElement("button",{className:"submit"+(D.reason&&s(D.phone)?"":" unactive"),type:"submit"},a.a.createElement("img",{src:"".concat(config.urls.media,"ic_send.svg"),alt:""}),null===(h=config.translations.unsubscribe)||void 0===h?void 0:h.submit_btn_label))),a.a.createElement("footer",null,a.a.createElement("a",{href:config.urls.home_site},a.a.createElement("img",{src:"".concat(config.urls.media,"logo_blue.svg"),alt:""}))))}},8:function(e,n,t){"use strict";n.a=function e(n,t){var r=[400,404,500,504];return t.headers||(t.headers={}),t.method||(t.method="GET"),t.headers["X-Requested-With"]="XMLHttpRequest",t.credentials="include",fetch(n,t).then((function(a){if(401===a.status)window.location.href=window.location.origin+config.urls.login;else{if(503===a.status)return new Promise((function(r){return setTimeout((function(){return r(e(n,t))}),1e3*a.headers.get("Retry-After"))}));if(502===a.status)return new Promise((function(r){return setTimeout((function(){return r(e(n,t))}),1e3)}));if(!r.includes(a.status))return a;window.location.href=config.urls.error_page}}))}}}]);